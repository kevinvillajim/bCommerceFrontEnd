{"version":3,"file":"SellerOrdersPage-ChFA5Mij.js","sources":["../../src/presentation/pages/seller/SellerOrdersPage.tsx"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {\r\n\tShoppingBag,\r\n\tSearch,\r\n\tFilter,\r\n\tRefreshCw,\r\n\tEye,\r\n\tFileText,\r\n\tTruck,\r\n\tPackage,\r\n\tBarChart2,\r\n} from \"lucide-react\";\r\nimport Table from \"../../components/dashboard/Table\";\r\nimport {formatCurrency} from \"../../../utils/formatters/formatCurrency\";\r\nimport {SellerStatCardList} from \"../../components/dashboard/SellerStatCardList\";\r\n// Importar el adaptador actualizado\r\nimport SellerOrderServiceAdapter from \"../../../core/adapters/SellerOrderServiceAdapter\";\r\nimport type {\r\n\tSellerOrderUI,\r\n\tSellerOrderStatUI,\r\n} from \"../../../core/adapters/SellerOrderServiceAdapter\";\r\n\r\n// Esta función ayuda a extraer la dirección de envío desde el string JSON\r\nconst parseShippingAddress = (shippingAddressStr?: string): string => {\r\n\tif (!shippingAddressStr) return \"\";\r\n\r\n\ttry {\r\n\t\tconst shippingAddress = JSON.parse(shippingAddressStr);\r\n\t\tif (typeof shippingAddress === \"object\" && shippingAddress !== null) {\r\n\t\t\tconst parts = [\r\n\t\t\t\tshippingAddress.address,\r\n\t\t\t\tshippingAddress.city,\r\n\t\t\t\tshippingAddress.state,\r\n\t\t\t\tshippingAddress.country,\r\n\t\t\t].filter(Boolean);\r\n\t\t\treturn parts.join(\", \");\r\n\t\t}\r\n\t} catch (e) {\r\n\t\tconsole.error(\"Error al parsear dirección de envío:\", e);\r\n\t}\r\n\r\n\treturn shippingAddressStr;\r\n};\r\n\r\nconst SellerOrdersPage: React.FC = () => {\r\n\t// Instanciar el adaptador de servicio\r\n\tconst orderAdapter = new SellerOrderServiceAdapter();\r\n\r\n\t// Usar las interfaces para los estados\r\n\tconst [orders, setOrders] = useState<SellerOrderUI[]>([]);\r\n\tconst [loading, setLoading] = useState(true);\r\n\tconst [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n\tconst [paymentFilter, setPaymentFilter] = useState<string>(\"all\");\r\n\tconst [dateFilter, setDateFilter] = useState<string>(\"all\");\r\n\tconst [searchTerm, setSearchTerm] = useState<string>(\"\");\r\n\tconst [pagination, setPagination] = useState({\r\n\t\tcurrentPage: 1,\r\n\t\ttotalPages: 1,\r\n\t\ttotalItems: 0,\r\n\t\titemsPerPage: 10,\r\n\t});\r\n\tconst [statsData, setStatsData] = useState<SellerOrderStatUI[]>([]);\r\n\tconst [dateRange, setDateRange] = useState({\r\n\t\tfrom: \"\",\r\n\t\tto: \"\",\r\n\t});\r\n\r\n\t// Cargar datos de pedidos\r\n\tuseEffect(() => {\r\n\t\tfetchOrders();\r\n\t\tfetchStats();\r\n\t}, [\r\n\t\tstatusFilter,\r\n\t\tpaymentFilter,\r\n\t\tsearchTerm,\r\n\t\tpagination.currentPage,\r\n\t\tdateFilter,\r\n\t\tdateRange,\r\n\t]);\r\n\r\n\t// Función para obtener órdenes usando el adaptador\r\n\tconst fetchOrders = async () => {\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\t// Preparar filtros para la API\r\n\t\t\tconst filters: any = {\r\n\t\t\t\tpage: pagination.currentPage,\r\n\t\t\t\tlimit: pagination.itemsPerPage,\r\n\t\t\t};\r\n\r\n\t\t\tif (statusFilter !== \"all\") {\r\n\t\t\t\tfilters.status = statusFilter;\r\n\t\t\t}\r\n\r\n\t\t\tif (paymentFilter !== \"all\") {\r\n\t\t\t\tfilters.paymentStatus = paymentFilter;\r\n\t\t\t}\r\n\r\n\t\t\tif (searchTerm) {\r\n\t\t\t\tfilters.search = searchTerm;\r\n\t\t\t}\r\n\r\n\t\t\t// Añadir filtros de fecha según la selección\r\n\t\t\tif (dateFilter === \"today\") {\r\n\t\t\t\tconst today = new Date().toISOString().split(\"T\")[0];\r\n\t\t\t\tfilters.dateFrom = today;\r\n\t\t\t\tfilters.dateTo = today;\r\n\t\t\t} else if (dateFilter === \"week\") {\r\n\t\t\t\tconst today = new Date();\r\n\t\t\t\tconst firstDay = new Date(\r\n\t\t\t\t\ttoday.setDate(today.getDate() - today.getDay())\r\n\t\t\t\t);\r\n\t\t\t\tfilters.dateFrom = firstDay.toISOString().split(\"T\")[0];\r\n\t\t\t\tfilters.dateTo = new Date().toISOString().split(\"T\")[0];\r\n\t\t\t} else if (dateFilter === \"month\") {\r\n\t\t\t\tconst today = new Date();\r\n\t\t\t\tconst firstDay = new Date(today.getFullYear(), today.getMonth(), 1);\r\n\t\t\t\tfilters.dateFrom = firstDay.toISOString().split(\"T\")[0];\r\n\t\t\t\tfilters.dateTo = new Date().toISOString().split(\"T\")[0];\r\n\t\t\t} else if (dateFilter === \"custom\" && dateRange.from && dateRange.to) {\r\n\t\t\t\tfilters.dateFrom = dateRange.from;\r\n\t\t\t\tfilters.dateTo = dateRange.to;\r\n\t\t\t}\r\n\r\n\t\t\t// Obtener órdenes del adaptador específico de vendedor\r\n\t\t\tconst result = await orderAdapter.getSellerOrders(filters);\r\n\r\n\t\t\t// Establecer órdenes y datos de paginación\r\n\t\t\tsetOrders(result.orders);\r\n\t\t\tsetPagination(result.pagination);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Error al cargar órdenes:\", error);\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// Función para obtener estadísticas usando el adaptador\r\n\tconst fetchStats = async () => {\r\n\t\ttry {\r\n\t\t\tconst stats = await orderAdapter.getOrderStats();\r\n\r\n\t\t\t// Añadir los iconos a las estadísticas\r\n\t\t\tconst statsWithIcons = stats.map((stat: SellerOrderStatUI) => {\r\n\t\t\t\tlet icon;\r\n\t\t\t\tswitch (stat.label) {\r\n\t\t\t\t\tcase \"Total Pedidos\":\r\n\t\t\t\t\t\ticon = (\r\n\t\t\t\t\t\t\t<ShoppingBag className=\"h-5 w-5 text-blue-600\" />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Pendientes\":\r\n\t\t\t\t\t\ticon = (\r\n\t\t\t\t\t\t\t<Package className=\"h-5 w-5 text-yellow-600\" />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"En Proceso\":\r\n\t\t\t\t\t\ticon = (\r\n\t\t\t\t\t\t\t<ShoppingBag className=\"h-5 w-5 text-blue-600\" />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Enviados\":\r\n\t\t\t\t\t\ticon = (\r\n\t\t\t\t\t\t\t<Truck className=\"h-5 w-5 text-indigo-600\" />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Total Ventas\":\r\n\t\t\t\t\t\ticon = (\r\n\t\t\t\t\t\t\t<BarChart2 className=\"h-5 w-5 text-green-600\" />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\ticon = (\r\n\t\t\t\t\t\t\t<ShoppingBag className=\"h-5 w-5 text-blue-600\" />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...stat,\r\n\t\t\t\t\ticon,\r\n\t\t\t\t\t// Si es currency y todavía es un número, lo formateamos\r\n\t\t\t\t\tvalue:\r\n\t\t\t\t\t\tstat.isCurrency && typeof stat.value === \"number\"\r\n\t\t\t\t\t\t\t? formatCurrency(stat.value)\r\n\t\t\t\t\t\t\t: stat.value,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\tsetStatsData(statsWithIcons);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Error al cargar estadísticas:\", error);\r\n\r\n\t\t\t// Estadísticas por defecto en caso de error\r\n\t\t\tsetStatsData([\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"Total Pedidos\",\r\n\t\t\t\t\tvalue: orders.length,\r\n\t\t\t\t\ticon: (\r\n\t\t\t\t\t\t<ShoppingBag className=\"h-5 w-5 text-blue-600\" />\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcolor: \"blue\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"Pendientes\",\r\n\t\t\t\t\tvalue: orders.filter((order) => order.status === \"pending\").length,\r\n\t\t\t\t\ticon: (\r\n\t\t\t\t\t\t<Package className=\"h-5 w-5 text-yellow-600\" />\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcolor: \"yellow\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"En Proceso\",\r\n\t\t\t\t\tvalue: orders.filter((order) => order.status === \"processing\").length,\r\n\t\t\t\t\ticon: (\r\n\t\t\t\t\t\t<ShoppingBag className=\"h-5 w-5 text-blue-600\" />\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcolor: \"blue\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"Total Ventas\",\r\n\t\t\t\t\tvalue: formatCurrency(\r\n\t\t\t\t\t\torders.reduce((sum, order) => sum + order.total, 0)\r\n\t\t\t\t\t),\r\n\t\t\t\t\ticon: (\r\n\t\t\t\t\t\t<BarChart2 className=\"h-5 w-5 text-green-600\" />\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcolor: \"green\",\r\n\t\t\t\t},\r\n\t\t\t]);\r\n\t\t}\r\n\t};\r\n\r\n\t// Actualizar estado de un pedido usando el adaptador\r\n\tconst updateOrderStatus = async (\r\n\t\torderId: string,\r\n\t\tnewStatus: SellerOrderUI[\"status\"]\r\n\t) => {\r\n\t\ttry {\r\n\t\t\tsetLoading(true);\r\n\t\t\tconst success = await orderAdapter.updateOrderStatus(orderId, newStatus);\r\n\r\n\t\t\tif (success) {\r\n\t\t\t\t// Actualizar el estado localmente para evitar una recarga completa\r\n\t\t\t\tsetOrders((prevOrders) =>\r\n\t\t\t\t\tprevOrders.map((order) => {\r\n\t\t\t\t\t\tif (order.id === orderId) {\r\n\t\t\t\t\t\t\treturn {...order, status: newStatus};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn order;\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// Actualizar estadísticas después de cambiar estado\r\n\t\t\t\tfetchStats();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(`Error al actualizar estado de orden ${orderId}:`, error);\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// Manejar cambio de página\r\n\tconst handlePageChange = (page: number) => {\r\n\t\tsetPagination((prev) => ({...prev, currentPage: page}));\r\n\t};\r\n\r\n\t// Refrescar datos\r\n\tconst refreshData = () => {\r\n\t\tsetLoading(true);\r\n\t\tfetchOrders();\r\n\t\tfetchStats();\r\n\t};\r\n\r\n\t// Definir las columnas de la tabla\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\tkey: \"orderNumber\",\r\n\t\t\theader: \"Número de Pedido\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (order: SellerOrderUI) => (\r\n\t\t\t\t<Link\r\n\t\t\t\t\tto={`/seller/orders/${order.id}`}\r\n\t\t\t\t\tclassName=\"font-medium text-primary-600 hover:underline\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{order.orderNumber}\r\n\t\t\t\t</Link>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"date\",\r\n\t\t\theader: \"Fecha\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (order: SellerOrderUI) => {\r\n\t\t\t\tconst date = new Date(order.date);\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{date.toLocaleDateString(\"es-ES\")}{\" \"}\r\n\t\t\t\t\t\t{date.toLocaleTimeString(\"es-ES\", {\r\n\t\t\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"customer\",\r\n\t\t\theader: \"Cliente\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (order: SellerOrderUI) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"font-medium\">{order.customer.name}</div>\r\n\t\t\t\t\t<div className=\"text-xs text-gray-500\">\r\n\t\t\t\t\t\t{order.customer.email}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"total\",\r\n\t\t\theader: \"Total\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (order: SellerOrderUI) => (\r\n\t\t\t\t<span className=\"font-medium\">{formatCurrency(order.total)}</span>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"items\",\r\n\t\t\theader: \"Productos\",\r\n\t\t\trender: (order: SellerOrderUI) => (\r\n\t\t\t\t<span className=\"text-center\">\r\n\t\t\t\t\t{order.items ? order.items.length : 0}\r\n\t\t\t\t</span>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"status\",\r\n\t\t\theader: \"Estado\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (order: SellerOrderUI) => {\r\n\t\t\t\tlet statusClass = \"\";\r\n\t\t\t\tlet statusText = \"\";\r\n\r\n\t\t\t\tswitch (order.status) {\r\n\t\t\t\t\tcase \"pending\":\r\n\t\t\t\t\t\tstatusClass =\r\n\t\t\t\t\t\t\t\"bg-yellow-100 text-yellow-800\";\r\n\t\t\t\t\t\tstatusText = \"Pendiente\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"processing\":\r\n\t\t\t\t\t\tstatusClass =\r\n\t\t\t\t\t\t\t\"bg-blue-100 text-blue-800\";\r\n\t\t\t\t\t\tstatusText = \"En Proceso\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"paid\":\r\n\t\t\t\t\t\tstatusClass =\r\n\t\t\t\t\t\t\t\"bg-cyan-100 text-cyan-800\";\r\n\t\t\t\t\t\tstatusText = \"Pagado\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"shipped\":\r\n\t\t\t\t\t\tstatusClass =\r\n\t\t\t\t\t\t\t\"bg-indigo-100 text-indigo-800\";\r\n\t\t\t\t\t\tstatusText = \"Enviado\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"delivered\":\r\n\t\t\t\t\t\tstatusClass =\r\n\t\t\t\t\t\t\t\"bg-purple-100 text-purple-800\";\r\n\t\t\t\t\t\tstatusText = \"Entregado\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"completed\":\r\n\t\t\t\t\t\tstatusClass =\r\n\t\t\t\t\t\t\t\"bg-green-100 text-green-800\";\r\n\t\t\t\t\t\tstatusText = \"Completado\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"cancelled\":\r\n\t\t\t\t\t\tstatusClass =\r\n\t\t\t\t\t\t\t\"bg-red-100 text-red-800\";\r\n\t\t\t\t\t\tstatusText = \"Cancelado\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${statusClass}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{statusText}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"payment\",\r\n\t\t\theader: \"Pago\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (order: SellerOrderUI) => {\r\n\t\t\t\tlet paymentClass = \"\";\r\n\t\t\t\tlet paymentText = \"\";\r\n\r\n\t\t\t\tswitch (order.paymentStatus) {\r\n\t\t\t\t\tcase \"pending\":\r\n\t\t\t\t\t\tpaymentClass =\r\n\t\t\t\t\t\t\t\"bg-yellow-100 text-yellow-800\";\r\n\t\t\t\t\t\tpaymentText = \"Pendiente\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"completed\": // Manejar \"completed\" como \"Pagado\"\r\n\t\t\t\t\t\tpaymentClass =\r\n\t\t\t\t\t\t\t\"bg-green-100 text-green-800\";\r\n\t\t\t\t\t\tpaymentText = \"Pagado\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"rejected\":\r\n\t\t\t\t\t\tpaymentClass =\r\n\t\t\t\t\t\t\t\"bg-red-100 text-red-800\";\r\n\t\t\t\t\t\tpaymentText = \"Rechazado\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${paymentClass}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{paymentText}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"address\",\r\n\t\t\theader: \"Dirección\",\r\n\t\t\trender: (order: SellerOrderUI) => (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"truncate max-w-xs\"\r\n\t\t\t\t\ttitle={parseShippingAddress(order.shippingAddress)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{parseShippingAddress(order.shippingAddress)}\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"actions\",\r\n\t\t\theader: \"Acciones\",\r\n\t\t\trender: (order: SellerOrderUI) => (\r\n\t\t\t\t<div className=\"flex justify-end space-x-2\">\r\n\t\t\t\t\t{/* Ver detalles */}\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={`/seller/orders/${order.id}`}\r\n\t\t\t\t\t\tclassName=\"p-1 text-blue-600 hover:bg-blue-100 rounded-md\"\r\n\t\t\t\t\t\ttitle=\"Ver detalles\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Eye size={18} />\r\n\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t{/* Generar factura */}\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={`/seller/invoices/generate/${order.id}`}\r\n\t\t\t\t\t\tclassName=\"p-1 text-indigo-600 hover:bg-indigo-100 rounded-md\"\r\n\t\t\t\t\t\ttitle=\"Generar factura\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FileText size={18} />\r\n\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t{/* Gestionar envío */}\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={`/seller/shipping/${order.id}`}\r\n\t\t\t\t\t\tclassName={`p-1 rounded-md ${\r\n\t\t\t\t\t\t\torder.status === \"pending\" || order.status === \"processing\"\r\n\t\t\t\t\t\t\t\t? \"text-green-600 hover:bg-green-100\"\r\n\t\t\t\t\t\t\t\t: \"text-gray-400 cursor-not-allowed\"\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\torder.status === \"pending\" || order.status === \"processing\"\r\n\t\t\t\t\t\t\t\t? \"Gestionar envío\"\r\n\t\t\t\t\t\t\t\t: \"No se puede gestionar el envío en este estado\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Truck size={18} />\r\n\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t{/* Preparar pedido - solo visible para pedidos pendientes */}\r\n\t\t\t\t\t{order.status === \"pending\" && (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() => updateOrderStatus(order.id, \"processing\")}\r\n\t\t\t\t\t\t\tclassName=\"p-1 text-orange-600 hover:bg-orange-100 rounded-md\"\r\n\t\t\t\t\t\t\ttitle=\"Preparar pedido\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Package size={18} />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div className=\"space-y-6\">\r\n\t\t\t<div className=\"flex justify-between items-center\">\r\n\t\t\t\t<h1 className=\"text-2xl font-bold text-gray-900\">\r\n\t\t\t\t\tGestión de Pedidos\r\n\t\t\t\t</h1>\r\n\t\t\t\t<div className=\"flex space-x-2\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={refreshData}\r\n\t\t\t\t\t\tclassName=\"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RefreshCw size={18} className=\"inline mr-2\" />\r\n\t\t\t\t\t\tActualizar\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Panel de filtros */}\r\n\t\t\t<div className=\"bg-white rounded-lg shadow-sm p-4\">\r\n\t\t\t\t<div className=\"flex flex-col md:flex-row gap-4\">\r\n\t\t\t\t\t{/* Buscador */}\r\n\t\t\t\t\t<div className=\"relative flex-grow\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Buscar por número de pedido, cliente...\"\r\n\t\t\t\t\t\t\tclassName=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n\t\t\t\t\t\t\tvalue={searchTerm}\r\n\t\t\t\t\t\t\tonChange={(e) => setSearchTerm(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Search className=\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\" />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Filtro de Estado */}\r\n\t\t\t\t\t<div className=\"flex items-center space-x-2\">\r\n\t\t\t\t\t\t<Filter className=\"h-5 w-5 text-gray-500\" />\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName=\"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\tvalue={statusFilter}\r\n\t\t\t\t\t\t\tonChange={(e) => setStatusFilter(e.target.value)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"all\">Todos los estados</option>\r\n\t\t\t\t\t\t\t<option value=\"pending\">Pendientes</option>\r\n\t\t\t\t\t\t\t<option value=\"processing\">En Proceso</option>\r\n\t\t\t\t\t\t\t<option value=\"shipped\">Enviados</option>\r\n\t\t\t\t\t\t\t<option value=\"delivered\">Entregados</option>\r\n\t\t\t\t\t\t\t<option value=\"cancelled\">Cancelados</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Filtro de Pago */}\r\n\t\t\t\t\t<div className=\"flex items-center space-x-2\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName=\"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\tvalue={paymentFilter}\r\n\t\t\t\t\t\t\tonChange={(e) => setPaymentFilter(e.target.value)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"all\">Todos los pagos</option>\r\n\t\t\t\t\t\t\t<option value=\"pending\">Pago Pendiente</option>\r\n\t\t\t\t\t\t\t<option value=\"completed\">Pagados</option>\r\n\t\t\t\t\t\t\t<option value=\"rejected\">Rechazados</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Filtro de Fecha */}\r\n\t\t\t\t\t<div className=\"flex items-center space-x-2\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName=\"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\tvalue={dateFilter}\r\n\t\t\t\t\t\t\tonChange={(e) => setDateFilter(e.target.value)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"all\">Todas las fechas</option>\r\n\t\t\t\t\t\t\t<option value=\"today\">Hoy</option>\r\n\t\t\t\t\t\t\t<option value=\"week\">Esta semana</option>\r\n\t\t\t\t\t\t\t<option value=\"month\">Este mes</option>\r\n\t\t\t\t\t\t\t<option value=\"custom\">Personalizado</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t{dateFilter === \"custom\" && (\r\n\t\t\t\t\t\t\t<div className=\"flex items-center space-x-2\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\t\t\tvalue={dateRange.from}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetDateRange({...dateRange, from: e.target.value})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<span className=\"text-gray-500\">a</span>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\t\t\tvalue={dateRange.to}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetDateRange({...dateRange, to: e.target.value})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Botón para limpiar filtros */}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetStatusFilter(\"all\");\r\n\t\t\t\t\t\t\tsetPaymentFilter(\"all\");\r\n\t\t\t\t\t\t\tsetDateFilter(\"all\");\r\n\t\t\t\t\t\t\tsetSearchTerm(\"\");\r\n\t\t\t\t\t\t\tsetDateRange({from: \"\", to: \"\"});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tLimpiar filtros\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Estadísticas resumidas */}\r\n\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n\t\t\t\t<SellerStatCardList\r\n\t\t\t\t\t// Asegurarnos de que el tipo sea compatible con el componente\r\n\t\t\t\t\titems={statsData}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Tabla de Pedidos */}\r\n\t\t\t<Table\r\n\t\t\t\tdata={orders}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tsearchFields={[\"orderNumber\"]}\r\n\t\t\t\tloading={loading}\r\n\t\t\t\temptyMessage=\"No se encontraron pedidos\"\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tcurrentPage: pagination.currentPage,\r\n\t\t\t\t\ttotalPages: pagination.totalPages,\r\n\t\t\t\t\ttotalItems: pagination.totalItems,\r\n\t\t\t\t\titemsPerPage: pagination.itemsPerPage,\r\n\t\t\t\t\tonPageChange: handlePageChange,\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SellerOrdersPage;\r\n"],"names":["parseShippingAddress","shippingAddressStr","shippingAddress","e","SellerOrdersPage","orderAdapter","SellerOrderServiceAdapter","orders","setOrders","useState","loading","setLoading","statusFilter","setStatusFilter","paymentFilter","setPaymentFilter","dateFilter","setDateFilter","searchTerm","setSearchTerm","pagination","setPagination","statsData","setStatsData","dateRange","setDateRange","useEffect","fetchOrders","fetchStats","filters","today","firstDay","result","error","statsWithIcons","stat","icon","jsx","ShoppingBag","Package","Truck","BarChart2","formatCurrency","order","sum","updateOrderStatus","orderId","newStatus","prevOrders","handlePageChange","page","prev","refreshData","columns","Link","date","jsxs","statusClass","statusText","paymentClass","paymentText","Eye","FileText","RefreshCw","Search","Filter","SellerStatCardList","Table"],"mappings":"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"}