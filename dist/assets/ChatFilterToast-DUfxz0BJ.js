import{j as e,X as j,T as b,ag as N,o as p}from"./ui-vendor-BUNMIuFe.js";import{r as h}from"./react-vendor-Cy458wKG.js";const C=({isVisible:s,onClose:o,type:i,message:c,censoredContent:m,strikeCount:a,autoClose:d=!0,autoCloseTime:g=8e3})=>{const[r,l]=h.useState(100);h.useEffect(()=>{if(d&&s){const x=setInterval(()=>{l(f=>{const u=f-100/(g/100);return u<=0?(o(),0):u})},100);return()=>clearInterval(x)}},[d,g,s,o]);const n=()=>{switch(i){case"user_warning":return{icon:e.jsx(b,{className:"text-yellow-500",size:24}),bgColor:"bg-yellow-50",borderColor:"border-yellow-200",titleColor:"text-yellow-800",textColor:"text-yellow-700",progressColor:"bg-yellow-500",title:"Mensaje no permitido"};case"seller_strike":return{icon:e.jsx(p,{className:"text-orange-500",size:24}),bgColor:"bg-orange-50",borderColor:"border-orange-200",titleColor:"text-orange-800",textColor:"text-orange-700",progressColor:"bg-orange-500",title:"Strike aplicado"};case"seller_blocked":return{icon:e.jsx(N,{className:"text-red-500",size:24}),bgColor:"bg-red-50",borderColor:"border-red-200",titleColor:"text-red-800",textColor:"text-red-700",progressColor:"bg-red-500",title:"Cuenta bloqueada"};default:return{icon:e.jsx(b,{className:"text-gray-500",size:24}),bgColor:"bg-gray-50",borderColor:"border-gray-200",titleColor:"text-gray-800",textColor:"text-gray-700",progressColor:"bg-gray-500",title:"NotificaciÃ³n"}}};if(!s)return null;const t=n();return e.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-sm w-full",children:e.jsxs("div",{className:`
        ${t.bgColor} ${t.borderColor} border rounded-lg shadow-lg
        transform transition-all duration-300 animate-slide-in-right
      `,children:[d&&e.jsx("div",{className:"h-1 bg-gray-200 rounded-t-lg overflow-hidden",children:e.jsx("div",{className:`h-full ${t.progressColor} transition-all duration-100 ease-linear`,style:{width:`${r}%`}})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-3",children:t.icon}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`text-sm font-medium ${t.titleColor} mb-1`,children:t.title}),e.jsx("p",{className:`text-sm ${t.textColor} mb-2`,children:c}),m&&e.jsxs("div",{className:"mt-2 p-2 bg-white bg-opacity-50 rounded border",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Mensaje filtrado:"}),e.jsx("p",{className:"text-sm font-mono text-gray-800",children:m})]}),typeof a=="number"&&a>0&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex space-x-1",children:[1,2,3].map(x=>e.jsx("div",{className:`w-3 h-3 rounded-full ${x<=a?"bg-red-500":"bg-gray-300"}`},x))}),e.jsxs("span",{className:"text-xs text-gray-600",children:[a,"/3 strikes"]})]}),a>=3&&e.jsx("p",{className:"text-xs text-red-600 mt-1 font-medium",children:"Tu cuenta ha sido bloqueada por acumular 3 strikes."})]})]}),e.jsx("button",{onClick:o,className:"ml-2 flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(j,{size:16})})]})})]})})]})})},v=()=>{const[s,o]=h.useState(null),i=(r,l,n,t)=>{o({isVisible:!0,type:r,message:l,censoredContent:n,strikeCount:t})},c=()=>{o(r=>r?{...r,isVisible:!1}:null),setTimeout(()=>o(null),300)};return{showUserWarning:(r,l)=>{i("user_warning",r,l)},showSellerStrike:(r,l,n)=>{i("seller_strike",r,n,l)},showSellerBlocked:r=>{i("seller_blocked",r)},hideNotification:c,NotificationComponent:()=>s?e.jsx(C,{isVisible:s.isVisible,onClose:c,type:s.type,message:s.message,censoredContent:s.censoredContent,strikeCount:s.strikeCount}):null}};export{v as u};
//# sourceMappingURL=ChatFilterToast-DUfxz0BJ.js.map
