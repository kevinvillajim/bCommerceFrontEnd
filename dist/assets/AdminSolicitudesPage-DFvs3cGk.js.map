{"version":3,"file":"AdminSolicitudesPage-DFvs3cGk.js","sources":["../../src/presentation/pages/admin/AdminSolicitudesPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  FileText, \n  Clock, \n  CheckCircle, \n  XCircle, \n  Eye, \n  Filter, \n  RefreshCw,\n  User,\n  Store,\n  Calendar,\n  AlertCircle\n} from 'lucide-react';\nimport Table from '../../components/dashboard/Table';\nimport ApiClient from '../../../infrastructure/api/apiClient';\n\ninterface SellerApplication {\n  id: number;\n  user_id: number;\n  store_name: string;\n  business_activity: string;\n  products_to_sell: string;\n  ruc: string;\n  contact_email: string;\n  phone: string;\n  physical_address: string;\n  business_description?: string;\n  experience?: string;\n  additional_info?: string;\n  status: 'pending' | 'approved' | 'rejected';\n  rejection_reason?: string;\n  admin_notes?: string;\n  reviewed_at?: string;\n  reviewed_by?: number;\n  created_at: string;\n  updated_at: string;\n  user?: {\n    id: number;\n    name: string;\n    email: string;\n  };\n  reviewer?: {\n    id: number;\n    name: string;\n    email: string;\n  };\n}\n\ninterface ApplicationStats {\n  total: number;\n  pending: number;\n  approved: number;\n  rejected: number;\n  recent: number;\n}\n\nconst AdminSolicitudesPage: React.FC = () => {\n  const [applications, setApplications] = useState<SellerApplication[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [statusFilter, setStatusFilter] = useState<string>('all');\n  const [stats, setStats] = useState<ApplicationStats>({\n    total: 0,\n    pending: 0,\n    approved: 0,\n    rejected: 0,\n    recent: 0\n  });\n  const [selectedApplication, setSelectedApplication] = useState<SellerApplication | null>(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [showRejectModal, setShowRejectModal] = useState(false);\n  const [rejectionReason, setRejectionReason] = useState('');\n  const [adminNotes, setAdminNotes] = useState('');\n  const [pagination, setPagination] = useState({\n    currentPage: 1,\n    totalPages: 1,\n    totalItems: 0,\n    itemsPerPage: 10,\n  });\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n\n  useEffect(() => {\n    fetchApplications();\n    fetchStats();\n  }, [statusFilter, pagination.currentPage]);\n\n  const fetchApplications = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const params: any = {\n        page: pagination.currentPage,\n        per_page: pagination.itemsPerPage,\n      };\n\n      if (statusFilter !== 'all') {\n        params.status = statusFilter;\n      }\n\n      const response = await ApiClient.get('/admin/seller-applications', params);\n      \n      if (response && typeof response === 'object' && 'status' in response && (response as any).status === 'success' && 'data' in response && (response as any).data) {\n        const responseData = response.data as any;\n        setApplications(responseData.data || []);\n        setPagination({\n          currentPage: responseData.current_page || 1,\n          totalPages: responseData.last_page || 1,\n          totalItems: responseData.total || 0,\n          itemsPerPage: responseData.per_page || 10,\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching applications:', error);\n      setError('Error al cargar las solicitudes. Por favor, inténtalo de nuevo.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchStats = async () => {\n    try {\n      const response = await ApiClient.get('/admin/seller-applications/stats');\n      if (response && typeof response === 'object' && 'status' in response && (response as any).status === 'success' && 'data' in response) {\n        setStats(response.data as ApplicationStats);\n      }\n    } catch (error) {\n      console.error('Error fetching stats:', error);\n    }\n  };\n\n  const handleApprove = async (application: SellerApplication) => {\n    setError(null);\n    setSuccess(null);\n    \n    try {\n      const response = await ApiClient.post(`/admin/seller-applications/${application.id}/approve`, {\n        admin_notes: adminNotes\n      });\n      \n      if (response && typeof response === 'object' && 'status' in response && (response as any).status === 'success') {\n        setSuccess('Solicitud aprobada exitosamente. Se ha creado la cuenta de vendedor y el usuario ha sido notificado.');\n        await fetchApplications();\n        await fetchStats();\n        setShowDetailModal(false);\n        setAdminNotes('');\n      }\n    } catch (error: any) {\n      setError(error.response?.data?.message || 'Error al aprobar la solicitud');\n    }\n  };\n\n  const handleReject = async () => {\n    if (!selectedApplication || !rejectionReason.trim()) {\n      setError('El motivo del rechazo es obligatorio');\n      return;\n    }\n\n    setError(null);\n    setSuccess(null);\n    \n    try {\n      const response = await ApiClient.post(`/admin/seller-applications/${selectedApplication.id}/reject`, {\n        rejection_reason: rejectionReason,\n        admin_notes: adminNotes\n      });\n      \n      if (response && typeof response === 'object' && 'status' in response && (response as any).status === 'success') {\n        setSuccess('Solicitud rechazada exitosamente. El usuario ha sido notificado con el motivo del rechazo.');\n        await fetchApplications();\n        await fetchStats();\n        setShowRejectModal(false);\n        setShowDetailModal(false);\n        setRejectionReason('');\n        setAdminNotes('');\n      }\n    } catch (error: any) {\n      setError(error.response?.data?.message || 'Error al rechazar la solicitud');\n    }\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'pending':\n        return <Clock className=\"h-4 w-4 text-yellow-500\" />;\n      case 'approved':\n        return <CheckCircle className=\"h-4 w-4 text-green-500\" />;\n      case 'rejected':\n        return <XCircle className=\"h-4 w-4 text-red-500\" />;\n      default:\n        return <AlertCircle className=\"h-4 w-4 text-gray-500\" />;\n    }\n  };\n\n  const getStatusText = (status: string) => {\n    switch (status) {\n      case 'pending':\n        return 'Pendiente';\n      case 'approved':\n        return 'Aprobada';\n      case 'rejected':\n        return 'Rechazada';\n      default:\n        return 'Desconocido';\n    }\n  };\n\n  const getStatusBadgeClass = (status: string) => {\n    switch (status) {\n      case 'pending':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'approved':\n        return 'bg-green-100 text-green-800';\n      case 'rejected':\n        return 'bg-red-100 text-red-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const applicationColumns = [\n    {\n      key: 'user',\n      header: 'Usuario',\n      render: (application: SellerApplication) => (\n        <div className=\"flex items-center\">\n          <User className=\"h-4 w-4 mr-2 text-gray-400\" />\n          <div>\n            <div className=\"font-medium text-sm\">{application.user?.name || 'N/A'}</div>\n            <div className=\"text-xs text-gray-500\">{application.user?.email || 'N/A'}</div>\n          </div>\n        </div>\n      )\n    },\n    {\n      key: 'store_name',\n      header: 'Tienda',\n      render: (application: SellerApplication) => (\n        <div className=\"flex items-center\">\n          <Store className=\"h-4 w-4 mr-2 text-gray-400\" />\n          <span className=\"font-medium\">{application.store_name}</span>\n        </div>\n      )\n    },\n    {\n      key: 'ruc',\n      header: 'RUC',\n      render: (application: SellerApplication) => (\n        <span className=\"text-sm font-mono\">{application.ruc}</span>\n      )\n    },\n    {\n      key: 'status',\n      header: 'Estado',\n      render: (application: SellerApplication) => (\n        <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusBadgeClass(application.status)}`}>\n          {getStatusIcon(application.status)}\n          <span className=\"ml-1\">{getStatusText(application.status)}</span>\n        </span>\n      )\n    },\n    {\n      key: 'created_at',\n      header: 'Solicitud',\n      render: (application: SellerApplication) => (\n        <div className=\"flex items-center text-sm text-gray-500\">\n          <Calendar className=\"h-4 w-4 mr-1\" />\n          {new Date(application.created_at).toLocaleDateString('es-ES')}\n        </div>\n      )\n    },\n    {\n      key: 'actions',\n      header: 'Acciones',\n      render: (application: SellerApplication) => (\n        <div className=\"flex space-x-2\">\n          <button\n            onClick={() => {\n              setSelectedApplication(application);\n              setShowDetailModal(true);\n            }}\n            className=\"p-1 text-blue-600 hover:bg-blue-50 rounded\"\n            title=\"Ver detalles\"\n          >\n            <Eye className=\"h-4 w-4\" />\n          </button>\n        </div>\n      )\n    }\n  ];\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"mb-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">Solicitudes de Vendedor</h1>\n            <p className=\"text-gray-600\">Gestiona las solicitudes para convertirse en vendedor</p>\n          </div>\n          <button\n            onClick={fetchApplications}\n            className=\"flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\"\n          >\n            <RefreshCw className=\"h-4 w-4 mr-2\" />\n            Actualizar\n          </button>\n        </div>\n\n        {/* Statistics */}\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mt-6\">\n          <div className=\"bg-white p-4 rounded-lg border\">\n            <div className=\"flex items-center\">\n              <FileText className=\"h-8 w-8 text-blue-500\" />\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-gray-600\">Total</p>\n                <p className=\"text-xl font-semibold text-gray-900\">{stats.total}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border\">\n            <div className=\"flex items-center\">\n              <Clock className=\"h-8 w-8 text-yellow-500\" />\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-gray-600\">Pendientes</p>\n                <p className=\"text-xl font-semibold text-gray-900\">{stats.pending}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border\">\n            <div className=\"flex items-center\">\n              <CheckCircle className=\"h-8 w-8 text-green-500\" />\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-gray-600\">Aprobadas</p>\n                <p className=\"text-xl font-semibold text-gray-900\">{stats.approved}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border\">\n            <div className=\"flex items-center\">\n              <XCircle className=\"h-8 w-8 text-red-500\" />\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-gray-600\">Rechazadas</p>\n                <p className=\"text-xl font-semibold text-gray-900\">{stats.rejected}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border\">\n            <div className=\"flex items-center\">\n              <Calendar className=\"h-8 w-8 text-purple-500\" />\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-gray-600\">Esta semana</p>\n                <p className=\"text-xl font-semibold text-gray-900\">{stats.recent}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"mb-6 flex flex-wrap gap-4 items-center\">\n        <div className=\"flex items-center\">\n          <Filter className=\"h-4 w-4 mr-2 text-gray-500\" />\n          <span className=\"text-sm font-medium text-gray-700 mr-2\">Estado:</span>\n          <select\n            value={statusFilter}\n            onChange={(e) => setStatusFilter(e.target.value)}\n            className=\"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\n          >\n            <option value=\"all\">Todos</option>\n            <option value=\"pending\">Pendientes</option>\n            <option value=\"approved\">Aprobadas</option>\n            <option value=\"rejected\">Rechazadas</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Error/Success Messages */}\n      {error && (\n        <div className=\"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\n          {error}\n        </div>\n      )}\n\n      {success && (\n        <div className=\"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded\">\n          {success}\n        </div>\n      )}\n\n      {/* Applications Table */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <Table\n          data={applications}\n          columns={applicationColumns}\n          loading={loading}\n          pagination={{\n            currentPage: pagination.currentPage,\n            totalPages: pagination.totalPages,\n            totalItems: pagination.totalItems,\n            itemsPerPage: pagination.itemsPerPage,\n            onPageChange: (page: number) => \n              setPagination(prev => ({ ...prev, currentPage: page }))\n          }}\n          emptyMessage=\"No se encontraron solicitudes\"\n        />\n      </div>\n\n      {/* Detail Modal */}\n      {showDetailModal && selectedApplication && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto m-4\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-xl font-semibold\">Detalles de Solicitud</h3>\n              <button\n                onClick={() => setShowDetailModal(false)}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <XCircle className=\"h-6 w-6\" />\n              </button>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n              <div>\n                <h4 className=\"font-semibold text-gray-900 mb-3\">Información del Usuario</h4>\n                <div className=\"space-y-2 text-sm\">\n                  <div><span className=\"font-medium\">Nombre:</span> {selectedApplication.user?.name}</div>\n                  <div><span className=\"font-medium\">Email:</span> {selectedApplication.user?.email}</div>\n                  <div><span className=\"font-medium\">Estado:</span> \n                    <span className={`ml-2 px-2 py-1 rounded text-xs ${getStatusBadgeClass(selectedApplication.status)}`}>\n                      {getStatusText(selectedApplication.status)}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <h4 className=\"font-semibold text-gray-900 mb-3\">Información Comercial</h4>\n                <div className=\"space-y-2 text-sm\">\n                  <div><span className=\"font-medium\">Tienda:</span> {selectedApplication.store_name}</div>\n                  <div><span className=\"font-medium\">RUC:</span> {selectedApplication.ruc}</div>\n                  <div><span className=\"font-medium\">Email contacto:</span> {selectedApplication.contact_email}</div>\n                  <div><span className=\"font-medium\">Teléfono:</span> {selectedApplication.phone}</div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"mb-6\">\n              <h4 className=\"font-semibold text-gray-900 mb-3\">Detalles del Negocio</h4>\n              <div className=\"space-y-4 text-sm\">\n                <div>\n                  <span className=\"font-medium\">Actividad comercial:</span>\n                  <p className=\"mt-1 text-gray-700\">{selectedApplication.business_activity}</p>\n                </div>\n                <div>\n                  <span className=\"font-medium\">Productos a vender:</span>\n                  <p className=\"mt-1 text-gray-700\">{selectedApplication.products_to_sell}</p>\n                </div>\n                <div>\n                  <span className=\"font-medium\">Dirección física:</span>\n                  <p className=\"mt-1 text-gray-700\">{selectedApplication.physical_address}</p>\n                </div>\n                {selectedApplication.business_description && (\n                  <div>\n                    <span className=\"font-medium\">Descripción del negocio:</span>\n                    <p className=\"mt-1 text-gray-700\">{selectedApplication.business_description}</p>\n                  </div>\n                )}\n                {selectedApplication.experience && (\n                  <div>\n                    <span className=\"font-medium\">Experiencia:</span>\n                    <p className=\"mt-1 text-gray-700\">{selectedApplication.experience}</p>\n                  </div>\n                )}\n                {selectedApplication.additional_info && (\n                  <div>\n                    <span className=\"font-medium\">Información adicional:</span>\n                    <p className=\"mt-1 text-gray-700\">{selectedApplication.additional_info}</p>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Rejection reason if rejected */}\n            {selectedApplication.status === 'rejected' && selectedApplication.rejection_reason && (\n              <div className=\"mb-6 p-4 bg-red-50 rounded-lg\">\n                <h4 className=\"font-medium text-red-800 mb-2\">Motivo del rechazo:</h4>\n                <p className=\"text-red-700 text-sm\">{selectedApplication.rejection_reason}</p>\n              </div>\n            )}\n\n            {/* Admin notes */}\n            {selectedApplication.status === 'pending' && (\n              <div className=\"mb-6\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Notas del administrador (opcional)\n                </label>\n                <textarea\n                  value={adminNotes}\n                  onChange={(e) => setAdminNotes(e.target.value)}\n                  rows={3}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500\"\n                  placeholder=\"Notas internas sobre la solicitud...\"\n                />\n              </div>\n            )}\n\n            {/* Actions */}\n            {selectedApplication.status === 'pending' && (\n              <div className=\"flex justify-end space-x-3\">\n                <button\n                  onClick={() => setShowRejectModal(true)}\n                  className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\n                >\n                  Rechazar\n                </button>\n                <button\n                  onClick={() => handleApprove(selectedApplication)}\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n                >\n                  Aprobar\n                </button>\n              </div>\n            )}\n\n            {selectedApplication.status !== 'pending' && (\n              <div className=\"text-center text-gray-500 text-sm\">\n                Esta solicitud ya ha sido procesada\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Reject Modal */}\n      {showRejectModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md m-4\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold text-red-600\">Rechazar Solicitud</h3>\n              <button\n                onClick={() => setShowRejectModal(false)}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <XCircle className=\"h-5 w-5\" />\n              </button>\n            </div>\n\n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Motivo del rechazo *\n              </label>\n              <textarea\n                value={rejectionReason}\n                onChange={(e) => setRejectionReason(e.target.value)}\n                required\n                rows={4}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500\"\n                placeholder=\"Explica por qué se rechaza la solicitud...\"\n              />\n            </div>\n\n            <div className=\"flex justify-end space-x-3\">\n              <button\n                onClick={() => setShowRejectModal(false)}\n                className=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\n              >\n                Cancelar\n              </button>\n              <button\n                onClick={handleReject}\n                disabled={!rejectionReason.trim()}\n                className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                Rechazar Solicitud\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AdminSolicitudesPage;"],"names":["AdminSolicitudesPage","applications","setApplications","useState","loading","setLoading","statusFilter","setStatusFilter","stats","setStats","selectedApplication","setSelectedApplication","showDetailModal","setShowDetailModal","showRejectModal","setShowRejectModal","rejectionReason","setRejectionReason","adminNotes","setAdminNotes","pagination","setPagination","error","setError","success","setSuccess","useEffect","fetchApplications","fetchStats","params","response","ApiClient","responseData","handleApprove","application","handleReject","getStatusIcon","status","jsx","Clock","CheckCircle","XCircle","AlertCircle","getStatusText","getStatusBadgeClass","applicationColumns","jsxs","User","Store","Calendar","Eye","RefreshCw","FileText","Filter","e","Table","page","prev"],"mappings":"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"}