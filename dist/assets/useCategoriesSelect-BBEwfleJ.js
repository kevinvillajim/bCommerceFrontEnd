import{r}from"./react-vendor-Cy458wKG.js";import{b as E}from"./seller-chunk-CL4v7LiS.js";const v=()=>{const{categories:o,mainCategories:i,fetchCategories:l,fetchMainCategories:c}=E(),[f,d]=r.useState(!0),[p,m]=r.useState(null),[s,h]=r.useState(null);r.useEffect(()=>{(async()=>{d(!0);try{await c(!0),await l(!0)}catch(e){m(e instanceof Error?e.message:"Error al cargar categorÃ­as")}finally{d(!1)}})()},[l,c]);const n=r.useMemo(()=>{const a=[];return i.forEach(e=>{e.id&&a.push({value:e.id,label:e.name})}),o.forEach(e=>{e.id&&!e.parent_id&&!a.some(t=>t.value===e.id)&&a.push({value:e.id,label:e.name})}),a},[i,o]),u=r.useMemo(()=>{if(!s)return[];const a=[],e=i.find(t=>t.id===s);return e&&e.subcategories&&e.subcategories.forEach(t=>{t.id&&a.push({value:t.id,label:t.name,isSubcategory:!0,parentId:s})}),o.forEach(t=>{t.id&&t.parent_id===s&&!a.some(C=>C.value===t.id)&&a.push({value:t.id,label:t.name,isSubcategory:!0,parentId:s})}),a},[s,i,o]),g=r.useMemo(()=>[...n,...u],[n,u]);return{loading:f,error:p,categoryOptions:g,parentCategoryOptions:n,subcategoryOptions:u,selectedParentId:s,setSelectedParentId:h}};export{v as u};
//# sourceMappingURL=useCategoriesSelect-BBEwfleJ.js.map
