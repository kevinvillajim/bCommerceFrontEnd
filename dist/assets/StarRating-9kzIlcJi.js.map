{"version":3,"file":"StarRating-9kzIlcJi.js","sources":["../../src/presentation/components/rating/StarRating.tsx"],"sourcesContent":["import React, {useState} from \"react\";\r\nimport {Star} from \"lucide-react\";\r\n\r\ninterface StarRatingProps {\r\n\tvalue: number;\r\n\tonChange?: (value: number) => void;\r\n\tsize?: \"small\" | \"medium\" | \"large\";\r\n\treadOnly?: boolean;\r\n\trequired?: boolean;\r\n\tmaxStars?: number;\r\n\tclassName?: string;\r\n}\r\n\r\n/**\r\n * Componente de valoración con estrellas\r\n * Permite seleccionar o mostrar una calificación con estrellas\r\n */\r\nconst StarRating: React.FC<StarRatingProps> = ({\r\n\tvalue,\r\n\tonChange,\r\n\tsize = \"medium\",\r\n\treadOnly = false,\r\n\trequired = false,\r\n\tmaxStars = 5,\r\n\tclassName = \"\",\r\n}) => {\r\n\tconst [hoverValue, setHoverValue] = useState<number>(0);\r\n\tconst [isHovering, setIsHovering] = useState<boolean>(false);\r\n\r\n\t// Determinar tamaño de estrellas según la prop size\r\n\tconst starSizes = {\r\n\t\tsmall: 16,\r\n\t\tmedium: 24,\r\n\t\tlarge: 32,\r\n\t};\r\n\r\n\tconst starSize = starSizes[size];\r\n\r\n\t// Clases para los diferentes estados de las estrellas\r\n\tconst getStarClass = (starPosition: number) => {\r\n\t\t// Determinar si la estrella debe estar rellena\r\n\t\t// Comparamos con starPosition <= hoverValue o value para asegurarnos de que\r\n\t\t// la estrella en la posición 5 (última) se puede seleccionar correctamente\r\n\t\tconst shouldBeFilled = isHovering\r\n\t\t\t? starPosition <= hoverValue\r\n\t\t\t: starPosition <= value;\r\n\r\n\t\tif (shouldBeFilled) {\r\n\t\t\treturn \"fill-yellow-400 text-yellow-400\";\r\n\t\t}\r\n\t\treturn \"fill-none text-gray-300\";\r\n\t};\r\n\r\n\t// Evento al hacer clic en una estrella\r\n\tconst handleClick = (newValue: number) => {\r\n\t\tif (readOnly || !onChange) return;\r\n\r\n\t\t// Si hacemos clic en la estrella ya seleccionada, la deseleccionamos (valor 0)\r\n\t\t// Si no, seleccionamos el nuevo valor\r\n\t\tonChange(newValue === value ? 0 : newValue);\r\n\t};\r\n\r\n\t// Eventos de ratón\r\n\tconst handleMouseEnter = (position: number) => {\r\n\t\tif (readOnly) return;\r\n\t\tsetIsHovering(true);\r\n\t\tsetHoverValue(position);\r\n\t};\r\n\r\n\tconst handleMouseLeave = () => {\r\n\t\tif (readOnly) return;\r\n\t\tsetIsHovering(false);\r\n\t\tsetHoverValue(0);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`flex items-center space-x-1 ${className}`}\r\n\t\t\tonMouseLeave={handleMouseLeave}\r\n\t\t>\r\n\t\t\t{/* Generamos un array de longitud maxStars y lo iteramos */}\r\n\t\t\t{Array.from({length: maxStars}).map((_, index) => {\r\n\t\t\t\t// La posición de la estrella va de 1 a maxStars, no de 0 a maxStars-1\r\n\t\t\t\tconst starPosition = index + 1;\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Star\r\n\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\tsize={starSize}\r\n\t\t\t\t\t\tclassName={`transition-colors cursor-${readOnly ? \"default\" : \"pointer\"} ${getStarClass(starPosition)}`}\r\n\t\t\t\t\t\tonClick={() => handleClick(starPosition)}\r\n\t\t\t\t\t\tonMouseEnter={() => handleMouseEnter(starPosition)}\r\n\t\t\t\t\t\taria-label={`${starPosition} de ${maxStars} estrellas`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\r\n\t\t\t{required && value === 0 && (\r\n\t\t\t\t<span className=\"text-red-500 text-xs ml-2\">* Requerido</span>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default StarRating;\r\n"],"names":["StarRating","value","onChange","size","readOnly","required","maxStars","className","hoverValue","setHoverValue","useState","isHovering","setIsHovering","starSize","getStarClass","starPosition","handleClick","newValue","handleMouseEnter","position","handleMouseLeave","jsxs","_","index","jsx","Star"],"mappings":"kGAiBA,MAAMA,EAAwC,CAAC,CAC9C,MAAAC,EACA,SAAAC,EACA,KAAAC,EAAO,SACP,SAAAC,EAAW,GACX,SAAAC,EAAW,GACX,SAAAC,EAAW,EACX,UAAAC,EAAY,EACb,IAAM,CACL,KAAM,CAACC,EAAYC,CAAa,EAAIC,EAAAA,SAAiB,CAAC,EAChD,CAACC,EAAYC,CAAa,EAAIF,EAAAA,SAAkB,EAAK,EASrDG,EANY,CACjB,MAAO,GACP,OAAQ,GACR,MAAO,EACR,EAE2BV,CAAI,EAGzBW,EAAgBC,IAIEJ,EACpBI,GAAgBP,EAChBO,GAAgBd,GAGX,kCAED,0BAIFe,EAAeC,GAAqB,CACrCb,GAAY,CAACF,GAIRA,EAAAe,IAAahB,EAAQ,EAAIgB,CAAQ,CAC3C,EAGMC,EAAoBC,GAAqB,CAC1Cf,IACJQ,EAAc,EAAI,EAClBH,EAAcU,CAAQ,EACvB,EAEMC,EAAmB,IAAM,CAC1BhB,IACJQ,EAAc,EAAK,EACnBH,EAAc,CAAC,EAChB,EAGC,OAAAY,EAAA,KAAC,MAAA,CACA,UAAW,+BAA+Bd,CAAS,GACnD,aAAca,EAGb,SAAA,CAAM,MAAA,KAAK,CAAC,OAAQd,CAAS,CAAA,EAAE,IAAI,CAACgB,EAAGC,IAAU,CAEjD,MAAMR,EAAeQ,EAAQ,EAG5B,OAAAC,EAAA,IAACC,EAAA,CAEA,KAAMZ,EACN,UAAW,4BAA4BT,EAAW,UAAY,SAAS,IAAIU,EAAaC,CAAY,CAAC,GACrG,QAAS,IAAMC,EAAYD,CAAY,EACvC,aAAc,IAAMG,EAAiBH,CAAY,EACjD,aAAY,GAAGA,CAAY,OAAOT,CAAQ,YAAA,EALrCiB,CAMN,CAAA,CAED,EAEAlB,GAAYJ,IAAU,SACrB,OAAK,CAAA,UAAU,4BAA4B,SAAW,aAAA,CAAA,CAAA,CAAA,CAEzD,CAEF"}