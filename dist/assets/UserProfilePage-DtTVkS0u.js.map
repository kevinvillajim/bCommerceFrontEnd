{"version":3,"file":"UserProfilePage-DtTVkS0u.js","sources":["../../src/presentation/components/profile/ProfileSidebar.tsx","../../src/presentation/components/profile/PersonalInfoTab.tsx","../../src/presentation/components/profile/SecurityTab.tsx","../../src/presentation/components/profile/OrdersTab.tsx","../../src/presentation/pages/UserProfilePage.tsx"],"sourcesContent":["import React from 'react';\r\nimport { User, Lock, ShoppingBag, Heart, LogOut } from 'lucide-react';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport { useFavorites } from '../../hooks/useFavorites';\r\nimport { useCart } from '../../hooks/useCart';\r\n\r\ninterface ProfileSidebarProps {\r\n  activeTab: 'personal' | 'security' | 'orders';\r\n  setActiveTab: (tab: 'personal' | 'security' | 'orders') => void;\r\n  userCreatedAt?: string;\r\n  userName?: string;\r\n  userEmail?: string;\r\n}\r\n\r\n/**\r\n * Componente de barra lateral para el perfil de usuario\r\n */\r\nconst ProfileSidebar: React.FC<ProfileSidebarProps> = ({\r\n  activeTab,\r\n  setActiveTab,\r\n  userCreatedAt,\r\n  userName,\r\n  userEmail\r\n}) => {\r\n  const { logout, user } = useAuth();\r\n  const { favoriteCount } = useFavorites();\r\n  const { itemCount: cartItemCount } = useCart();\r\n  \r\n  // Obtener la inicial del usuario para el avatar\r\n  const getUserInitial = () => {\r\n    if (userName) {\r\n      return userName.charAt(0).toUpperCase();\r\n    } else if (user?.name) {\r\n      return user.name.charAt(0).toUpperCase();\r\n    }\r\n    return 'U';\r\n  };\r\n  \r\n  // Formatear fecha\r\n  const formatDate = (dateString?: string) => {\r\n    if (!dateString) return 'N/A';\r\n    \r\n    const date = new Date(dateString);\r\n    return new Intl.DateTimeFormat('es-ES', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric'\r\n    }).format(date);\r\n  };\r\n  \r\n  // Manejar cierre de sesión\r\n  const handleLogout = async () => {\r\n    try {\r\n      await logout();\r\n      // La redirección la maneja el hook useAuth\r\n    } catch (error) {\r\n      console.error('Error al cerrar sesión:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"lg:w-1/4\">\r\n      <div className=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n        {/* Información de cabecera */}\r\n        <div className=\"bg-gradient-to-r from-primary-500 to-primary-600 p-6 text-white\">\r\n          <div className=\"flex flex-col items-center\">\r\n            <div className=\"w-24 h-24 bg-white rounded-full flex items-center justify-center mb-4 border-4 border-white shadow-md\">\r\n              <span className=\"text-primary-600 text-3xl font-bold\">\r\n                {getUserInitial()}\r\n              </span>\r\n            </div>\r\n            <h2 className=\"text-xl font-semibold\">{userName || user?.name}</h2>\r\n            <p className=\"text-primary-100\">{userEmail || user?.email}</p>\r\n            \r\n            {userCreatedAt && (\r\n              <div className=\"mt-2 text-xs bg-primary-800 bg-opacity-20 rounded-full px-3 py-1\">\r\n                Cliente desde {formatDate(userCreatedAt)}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Menú de navegación */}\r\n        <nav className=\"p-4\">\r\n          <ul className=\"space-y-1\">\r\n            <li>\r\n              <button \r\n                onClick={() => setActiveTab('personal')}\r\n                className={`w-full flex items-center p-3 rounded-lg transition-colors ${\r\n                  activeTab === 'personal' \r\n                    ? 'bg-primary-50 text-primary-600 font-medium' \r\n                    : 'text-gray-700 hover:bg-gray-50'\r\n                }`}\r\n              >\r\n                <User size={18} className=\"mr-3\" />\r\n                Información Personal\r\n              </button>\r\n            </li>\r\n            <li>\r\n              <button \r\n                onClick={() => setActiveTab('security')}\r\n                className={`w-full flex items-center p-3 rounded-lg transition-colors ${\r\n                  activeTab === 'security' \r\n                    ? 'bg-primary-50 text-primary-600 font-medium' \r\n                    : 'text-gray-700 hover:bg-gray-50'\r\n                }`}\r\n              >\r\n                <Lock size={18} className=\"mr-3\" />\r\n                Seguridad\r\n              </button>\r\n            </li>\r\n            <li>\r\n              <button \r\n                onClick={() => setActiveTab('orders')}\r\n                className={`w-full flex items-center p-3 rounded-lg transition-colors ${\r\n                  activeTab === 'orders' \r\n                    ? 'bg-primary-50 text-primary-600 font-medium' \r\n                    : 'text-gray-700 hover:bg-gray-50'\r\n                }`}\r\n              >\r\n                <ShoppingBag size={18} className=\"mr-3\" />\r\n                Mis Pedidos\r\n              </button>\r\n            </li>\r\n            <li>\r\n              <a \r\n                href=\"/favorites\" \r\n                className=\"w-full flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\"\r\n              >\r\n                <Heart size={18} className=\"mr-3\" />\r\n                Mis Favoritos\r\n                {favoriteCount > 0 && (\r\n                  <span className=\"ml-auto bg-primary-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\">\r\n                    {favoriteCount}\r\n                  </span>\r\n                )}\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a \r\n                href=\"/cart\" \r\n                className=\"w-full flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\"\r\n              >\r\n                <ShoppingBag size={18} className=\"mr-3\" />\r\n                Mi Carrito\r\n                {cartItemCount > 0 && (\r\n                  <span className=\"ml-auto bg-primary-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\">\r\n                    {cartItemCount}\r\n                  </span>\r\n                )}\r\n              </a>\r\n            </li>\r\n            <li className=\"pt-4 border-t border-gray-200 mt-4\">\r\n              <button \r\n                className=\"w-full flex items-center p-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors\"\r\n                onClick={handleLogout}\r\n              >\r\n                <LogOut size={18} className=\"mr-3\" />\r\n                Cerrar Sesión\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileSidebar;","// src/presentation/components/profile/PersonalInfoTab.tsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport { User, Mail, MapPin, Calendar, Settings } from 'lucide-react';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport type { UserProfileUpdateData } from '../../../core/domain/entities/User';\r\nimport ApiClient from '../../../infrastructure/api/apiClient';\r\n\r\n// Esta interfaz debe coincidir con la definida en UserProfilePage\r\ninterface UserProfile {\r\n  id: number;\r\n  name: string;\r\n  email: string;\r\n  emailVerifiedAt: string | null;\r\n  age: number | null;\r\n  gender: string | null;\r\n  location: string | null;\r\n  created_at: string;\r\n}\r\n\r\ninterface PersonalInfoTabProps {\r\n  userProfile: UserProfile | null;\r\n  onProfileUpdate?: (updatedProfile: UserProfile) => void;\r\n}\r\n\r\n/**\r\n * Componente de pestaña de información personal\r\n */\r\nconst PersonalInfoTab: React.FC<PersonalInfoTabProps> = ({\r\n  userProfile,\r\n  onProfileUpdate\r\n}) => {\r\n  const { updateProfile } = useAuth();\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n  const [profileError, setProfileError] = useState<string | null>(null);\r\n  const [profileSuccess, setProfileSuccess] = useState<string | null>(null);\r\n  \r\n  // Estado para formulario de edición\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    age: '',\r\n    gender: '',\r\n    location: ''\r\n  });\r\n  \r\n  // Inicializar formulario con datos del usuario\r\n  useEffect(() => {\r\n    if (userProfile) {\r\n      setFormData({\r\n        name: userProfile.name || '',\r\n        email: userProfile.email || '',\r\n        age: userProfile.age?.toString() || '',\r\n        gender: userProfile.gender || '',\r\n        location: userProfile.location || ''\r\n      });\r\n    }\r\n  }, [userProfile]);\r\n\r\n  // Manejar cambios en el formulario\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  // Manejar envío del formulario de información personal\r\n  const handlePersonalInfoSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setProfileError(null);\r\n    setProfileSuccess(null);\r\n    setIsUpdating(true);\r\n    \r\n    try {\r\n      // Preparar datos para actualizar\r\n      const profileData: UserProfileUpdateData = {\r\n        name: formData.name,\r\n        age: formData.age ? parseInt(formData.age) : null,\r\n        gender: formData.gender || null,\r\n        location: formData.location || null\r\n      };\r\n      \r\n      try {\r\n        // Directamente usando ApiClient para actualizar el perfil\r\n        const updatedUser = await ApiClient.put<any>('/profile', profileData);\r\n        \r\n        if (updatedUser && onProfileUpdate && userProfile) {\r\n          // Asegurarse de que el objeto actualizado mantiene los campos obligatorios\r\n          const updatedProfile: UserProfile = {\r\n            ...userProfile,\r\n            name: updatedUser.name || userProfile.name,\r\n            age: updatedUser.age ?? userProfile.age,\r\n            gender: updatedUser.gender ?? userProfile.gender,\r\n            location: updatedUser.location ?? userProfile.location\r\n          };\r\n          \r\n          // Notificar al componente padre sobre la actualización\r\n          onProfileUpdate(updatedProfile);\r\n          \r\n          setProfileSuccess('Perfil actualizado correctamente');\r\n          setIsEditing(false);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error al actualizar con ApiClient:\", error);\r\n        \r\n        // Intento alternativo con updateProfile del hook de auth\r\n        const updatedUser = await updateProfile(profileData);\r\n        \r\n        if (updatedUser && onProfileUpdate && userProfile) {\r\n          // Asegurarse de que el objeto actualizado mantiene los campos obligatorios\r\n          const updatedProfile: UserProfile = {\r\n            ...userProfile,\r\n            name: updatedUser.name || userProfile.name,\r\n            age: updatedUser.age ?? userProfile.age,\r\n            gender: updatedUser.gender ?? userProfile.gender,\r\n            location: updatedUser.location ?? userProfile.location\r\n          };\r\n          \r\n          // Notificar al componente padre sobre la actualización\r\n          onProfileUpdate(updatedProfile);\r\n          \r\n          setProfileSuccess('Perfil actualizado correctamente');\r\n          setIsEditing(false);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al actualizar perfil:', error);\r\n      if (error instanceof Error) {\r\n        setProfileError(error.message);\r\n      } else {\r\n        setProfileError('No se pudo actualizar el perfil. Inténtelo de nuevo.');\r\n      }\r\n    } finally {\r\n      setIsUpdating(false);\r\n    }\r\n  };\r\n\r\n  // Cancelar edición y revertir cambios\r\n  const handleCancelEdit = () => {\r\n    setIsEditing(false);\r\n    // Revertir cambios\r\n    if (userProfile) {\r\n      setFormData({\r\n        name: userProfile.name || '',\r\n        email: userProfile.email || '',\r\n        age: userProfile.age?.toString() || '',\r\n        gender: userProfile.gender || '',\r\n        location: userProfile.location || ''\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h3 className=\"text-xl font-semibold\">Información Personal</h3>\r\n        \r\n        {!isEditing && (\r\n          <button \r\n            onClick={() => setIsEditing(true)}\r\n            className=\"flex items-center text-primary-600 hover:text-primary-700\"\r\n          >\r\n            <Settings size={18} className=\"mr-1\" />\r\n            Editar\r\n          </button>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Mensajes de éxito/error */}\r\n      {profileSuccess && (\r\n        <div className=\"bg-green-50 border-l-4 border-green-400 p-4 mb-4 text-sm text-green-700 animate-fadeIn\">\r\n          {profileSuccess}\r\n        </div>\r\n      )}\r\n      \r\n      {profileError && (\r\n        <div className=\"bg-red-50 border-l-4 border-red-400 p-4 mb-4 text-sm text-red-700 animate-fadeIn\">\r\n          {profileError}\r\n        </div>\r\n      )}\r\n      \r\n      {isEditing ? (\r\n        <form onSubmit={handlePersonalInfoSubmit}>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div>\r\n              <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Nombre completo\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"name\"\r\n                name=\"name\"\r\n                value={formData.name}\r\n                onChange={handleChange}\r\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500\"\r\n                required\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Correo electrónico\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                id=\"email\"\r\n                name=\"email\"\r\n                value={formData.email}\r\n                onChange={handleChange}\r\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500\"\r\n                required\r\n                disabled  // El email no se puede cambiar normalmente\r\n              />\r\n              <p className=\"text-xs text-gray-500 mt-1\">El correo electrónico no se puede cambiar directamente.</p>\r\n            </div>\r\n            \r\n            <div>\r\n              <label htmlFor=\"age\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Edad\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                id=\"age\"\r\n                name=\"age\"\r\n                value={formData.age}\r\n                onChange={handleChange}\r\n                min=\"0\"\r\n                max=\"120\"\r\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label htmlFor=\"gender\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Género\r\n              </label>\r\n              <select\r\n                id=\"gender\"\r\n                name=\"gender\"\r\n                value={formData.gender || ''}\r\n                onChange={handleChange}\r\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500\"\r\n              >\r\n                <option value=\"\">Seleccionar</option>\r\n                <option value=\"Masculino\">Masculino</option>\r\n                <option value=\"Femenino\">Femenino</option>\r\n                <option value=\"No binario\">No binario</option>\r\n                <option value=\"Prefiero no decirlo\">Prefiero no decirlo</option>\r\n              </select>\r\n            </div>\r\n            \r\n            <div className=\"md:col-span-2\">\r\n              <label htmlFor=\"location\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Ubicación\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"location\"\r\n                name=\"location\"\r\n                value={formData.location || ''}\r\n                onChange={handleChange}\r\n                placeholder=\"Ciudad, País\"\r\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500\"\r\n              />\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"mt-6 flex justify-end space-x-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleCancelEdit}\r\n              className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\r\n              disabled={isUpdating}\r\n            >\r\n              Cancelar\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700\"\r\n              disabled={isUpdating}\r\n            >\r\n              {isUpdating ? 'Guardando...' : 'Guardar Cambios'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      ) : (\r\n        <div className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <div className=\"text-sm text-gray-500 mb-1\">Nombre completo</div>\r\n              <div className=\"flex items-center text-gray-800\">\r\n                <User size={18} className=\"text-primary-500 mr-2\" />\r\n                {userProfile?.name || 'No especificado'}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <div className=\"text-sm text-gray-500 mb-1\">Correo electrónico</div>\r\n              <div className=\"flex items-center text-gray-800\">\r\n                <Mail size={18} className=\"text-primary-500 mr-2\" />\r\n                {userProfile?.email || 'No especificado'}\r\n                {userProfile?.emailVerifiedAt && (\r\n                  <span className=\"ml-2 bg-green-100 text-green-800 text-xs px-2 py-0.5 rounded-full\">\r\n                    Verificado\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <div className=\"text-sm text-gray-500 mb-1\">Edad</div>\r\n              <div className=\"flex items-center text-gray-800\">\r\n                <Calendar size={18} className=\"text-primary-500 mr-2\" />\r\n                {userProfile?.age || 'No especificada'}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <div className=\"text-sm text-gray-500 mb-1\">Género</div>\r\n              <div className=\"flex items-center text-gray-800\">\r\n                <User size={18} className=\"text-primary-500 mr-2\" />\r\n                {userProfile?.gender || 'No especificado'}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"bg-gray-50 p-4 rounded-lg md:col-span-2\">\r\n              <div className=\"text-sm text-gray-500 mb-1\">Ubicación</div>\r\n              <div className=\"flex items-center text-gray-800\">\r\n                <MapPin size={18} className=\"text-primary-500 mr-2\" />\r\n                {userProfile?.location || 'No especificada'}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"bg-yellow-50 border-l-4 border-yellow-400 p-4 text-sm text-yellow-700\">\r\n            <p>\r\n              <strong>Nota:</strong> Tu información personal se mantiene privada y solo se utiliza para mejorar tu experiencia de compra.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonalInfoTab;","import React, { useState } from 'react';\r\nimport { Eye, EyeOff } from 'lucide-react';\r\nimport { API_ENDPOINTS } from '../../../constants/apiEndpoints';\r\nimport ApiClient from '../../../infrastructure/api/apiClient';\r\n\r\n/**\r\n * Componente de pestaña de seguridad\r\n */\r\nconst SecurityTab: React.FC = () => {\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n  const [passwordError, setPasswordError] = useState<string | null>(null);\r\n  const [passwordSuccess, setPasswordSuccess] = useState<string | null>(null);\r\n  \r\n  // Estado de formulario para contraseñas\r\n  const [formData, setFormData] = useState({\r\n    currentPassword: '',\r\n    newPassword: '',\r\n    confirmPassword: ''\r\n  });\r\n  \r\n  // Estado para mostrar/ocultar contraseñas\r\n  const [showPassword, setShowPassword] = useState({\r\n    current: false,\r\n    new: false,\r\n    confirm: false\r\n  });\r\n\r\n  // Manejar cambios en el formulario\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  // Manejar envío del formulario de cambio de contraseña\r\n  const handlePasswordSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setPasswordError(null);\r\n    setPasswordSuccess(null);\r\n    setIsUpdating(true);\r\n    \r\n    // Validación básica\r\n    if (formData.newPassword !== formData.confirmPassword) {\r\n      setPasswordError('Las contraseñas no coinciden');\r\n      setIsUpdating(false);\r\n      return;\r\n    }\r\n    \r\n    if (formData.newPassword.length < 8) {\r\n      setPasswordError('La contraseña debe tener al menos 8 caracteres');\r\n      setIsUpdating(false);\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      // Llamar al endpoint para actualizar contraseña\r\n      await ApiClient.post(API_ENDPOINTS.AUTH.UPDATE_PASSWORD, {\r\n        current_password: formData.currentPassword,\r\n        password: formData.newPassword,\r\n        password_confirmation: formData.confirmPassword\r\n      });\r\n      \r\n      // Limpiar campos de contraseña\r\n      setFormData({\r\n        currentPassword: '',\r\n        newPassword: '',\r\n        confirmPassword: ''\r\n      });\r\n      \r\n      setPasswordSuccess('Contraseña actualizada correctamente');\r\n    } catch (error: any) {\r\n      console.error('Error al cambiar contraseña:', error);\r\n      \r\n      if (error.response?.data?.errors) {\r\n        // Mostrar el primer error de validación\r\n        const errorMessages = Object.values(error.response.data.errors).flat();\r\n        setPasswordError(errorMessages[0] as string);\r\n      } else if (error.response?.data?.message) {\r\n        setPasswordError(error.response.data.message);\r\n      } else {\r\n        setPasswordError('Error al actualizar la contraseña. Inténtelo de nuevo.');\r\n      }\r\n    } finally {\r\n      setIsUpdating(false);\r\n    }\r\n  };\r\n\r\n  // Función para cambiar visualización de contraseña\r\n  const togglePasswordVisibility = (field: 'current' | 'new' | 'confirm') => {\r\n    setShowPassword(prev => ({\r\n      ...prev,\r\n      [field]: !prev[field]\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h3 className=\"text-xl font-semibold mb-6\">Configuración de Seguridad</h3>\r\n      \r\n      {/* Mensajes de éxito/error */}\r\n      {passwordSuccess && (\r\n        <div className=\"bg-green-50 border-l-4 border-green-400 p-4 mb-4 text-sm text-green-700\">\r\n          {passwordSuccess}\r\n        </div>\r\n      )}\r\n      \r\n      {passwordError && (\r\n        <div className=\"bg-red-50 border-l-4 border-red-400 p-4 mb-4 text-sm text-red-700\">\r\n          {passwordError}\r\n        </div>\r\n      )}\r\n      \r\n      <div className=\"mb-8\">\r\n        <h4 className=\"font-medium text-gray-800 mb-4\">Cambiar Contraseña</h4>\r\n        <form onSubmit={handlePasswordSubmit}>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label htmlFor=\"currentPassword\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Contraseña actual\r\n              </label>\r\n              <div className=\"relative\">\r\n                <input\r\n                  type={showPassword.current ? 'text' : 'password'}\r\n                  id=\"currentPassword\"\r\n                  name=\"currentPassword\"\r\n                  value={formData.currentPassword}\r\n                  onChange={handleChange}\r\n                  className=\"w-full p-3 pr-10 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500\"\r\n                  required\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700\"\r\n                  onClick={() => togglePasswordVisibility('current')}\r\n                >\r\n                  {showPassword.current ? <EyeOff size={18} /> : <Eye size={18} />}\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div>\r\n              <label htmlFor=\"newPassword\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Nueva contraseña\r\n              </label>\r\n              <div className=\"relative\">\r\n                <input\r\n                  type={showPassword.new ? 'text' : 'password'}\r\n                  id=\"newPassword\"\r\n                  name=\"newPassword\"\r\n                  value={formData.newPassword}\r\n                  onChange={handleChange}\r\n                  className=\"w-full p-3 pr-10 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500\"\r\n                  required\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700\"\r\n                  onClick={() => togglePasswordVisibility('new')}\r\n                >\r\n                  {showPassword.new ? <EyeOff size={18} /> : <Eye size={18} />}\r\n                </button>\r\n              </div>\r\n              <p className=\"mt-1 text-xs text-gray-500\">\r\n                La contraseña debe tener al menos 8 caracteres e incluir letras y números.\r\n              </p>\r\n            </div>\r\n            \r\n            <div>\r\n              <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Confirmar nueva contraseña\r\n              </label>\r\n              <div className=\"relative\">\r\n                <input\r\n                  type={showPassword.confirm ? 'text' : 'password'}\r\n                  id=\"confirmPassword\"\r\n                  name=\"confirmPassword\"\r\n                  value={formData.confirmPassword}\r\n                  onChange={handleChange}\r\n                  className=\"w-full p-3 pr-10 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500\"\r\n                  required\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700\"\r\n                  onClick={() => togglePasswordVisibility('confirm')}\r\n                >\r\n                  {showPassword.confirm ? <EyeOff size={18} /> : <Eye size={18} />}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"mt-6\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700\"\r\n              disabled={isUpdating}\r\n            >\r\n              {isUpdating ? 'Actualizando...' : 'Actualizar Contraseña'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \r\n      <div className=\"border-t border-gray-200 pt-6\">\r\n        <h4 className=\"font-medium text-gray-800 mb-4\">Sesiones Activas</h4>\r\n        <div className=\"bg-gray-50 rounded-lg p-4 mb-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <div className=\"font-medium\">Sesión actual</div>\r\n              <div className=\"text-sm text-gray-500\">\r\n                {navigator.userAgent.includes('Windows') ? 'Windows' : \r\n                 navigator.userAgent.includes('Mac') ? 'Mac OS' :\r\n                 navigator.userAgent.includes('Linux') ? 'Linux' : 'Desconocido'} \r\n                - \r\n                {navigator.userAgent.includes('Chrome') ? 'Chrome' :\r\n                 navigator.userAgent.includes('Firefox') ? 'Firefox' :\r\n                 navigator.userAgent.includes('Safari') ? 'Safari' :\r\n                 navigator.userAgent.includes('Edge') ? 'Edge' : 'Navegador desconocido'}\r\n              </div>\r\n            </div>\r\n            <span className=\"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full\">\r\n              Activa ahora\r\n            </span>\r\n          </div>\r\n        </div>\r\n        \r\n        <button className=\"text-primary-600 hover:text-primary-700 text-sm font-medium\">\r\n          Cerrar todas las otras sesiones\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SecurityTab;","import React, {useState, useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {ShoppingBag} from \"lucide-react\";\r\nimport {OrderServiceAdapter} from \"../../../core/adapters/OrderServiceAdapter\";\r\nimport {formatCurrency} from \"../../../utils/formatters/formatCurrency\";\r\nimport OrderStatusBadge from \"../orders/OrderStatusBadge\";\r\n\r\n/**\r\n * Componente de pestaña de órdenes del usuario\r\n */\r\nconst OrdersTab: React.FC = () => {\r\n\tconst [orders, setOrders] = useState<any[]>([]);\r\n\tconst [isLoading, setIsLoading] = useState(true);\r\n\tconst [orderFilter, setOrderFilter] = useState<string | null>(null);\r\n\r\n\tconst orderAdapter = new OrderServiceAdapter();\r\n\r\n\t// Cargar órdenes cuando cambia el filtro\r\n\tuseEffect(() => {\r\n\t\tfetchOrders();\r\n\t}, [orderFilter]);\r\n\r\n\t// Función para obtener órdenes del usuario\r\n\tconst fetchOrders = async () => {\r\n\t\ttry {\r\n\t\t\tsetIsLoading(true);\r\n\r\n\t\t\tconst filters: any = {};\r\n\r\n\t\t\t// Aplicar filtros si existen\r\n\t\t\tif (orderFilter) {\r\n\t\t\t\tfilters.status = orderFilter;\r\n\t\t\t}\r\n\r\n\t\t\tconst result = await orderAdapter.getUserOrders(filters);\r\n\r\n\t\t\t// Asegurarse de que tenemos los datos\r\n\t\t\tif (result && result.orders) {\r\n\t\t\t\tsetOrders(result.orders);\r\n\t\t\t} else {\r\n\t\t\t\tsetOrders([]);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Error al cargar órdenes:\", error);\r\n\t\t\tsetOrders([]); // Establecer un array vacío en caso de error\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// Formatear fecha\r\n\tconst formatDate = (dateString: string) => {\r\n\t\tconst date = new Date(dateString);\r\n\t\treturn new Intl.DateTimeFormat(\"es-ES\", {\r\n\t\t\tyear: \"numeric\",\r\n\t\t\tmonth: \"long\",\r\n\t\t\tday: \"numeric\",\r\n\t\t}).format(date);\r\n\t};\r\n\r\n\t// Filtrar órdenes según el filtro seleccionado\r\n\tconst getFilteredOrders = () => {\r\n\t\tif (!orderFilter) return orders;\r\n\t\treturn orders.filter(\r\n\t\t\t(order) => order.status.toLowerCase() === orderFilter.toLowerCase()\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"p-6\">\r\n\t\t\t<h3 className=\"text-xl font-semibold mb-6\">Mis Pedidos</h3>\r\n\r\n\t\t\t{/* Filtros */}\r\n\t\t\t<div className=\"flex flex-wrap gap-2 mb-6\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() => setOrderFilter(null)}\r\n\t\t\t\t\tclassName={`px-4 py-2 ${!orderFilter ? \"bg-primary-50 text-primary-600 font-medium\" : \"hover:bg-gray-100 text-gray-700\"} rounded-lg`}\r\n\t\t\t\t>\r\n\t\t\t\t\tTodos\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() => setOrderFilter(\"processing\")}\r\n\t\t\t\t\tclassName={`px-4 py-2 ${orderFilter === \"processing\" ? \"bg-primary-50 text-primary-600 font-medium\" : \"hover:bg-gray-100 text-gray-700\"} rounded-lg`}\r\n\t\t\t\t>\r\n\t\t\t\t\tEn proceso\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() => setOrderFilter(\"shipped\")}\r\n\t\t\t\t\tclassName={`px-4 py-2 ${orderFilter === \"shipped\" ? \"bg-primary-50 text-primary-600 font-medium\" : \"hover:bg-gray-100 text-gray-700\"} rounded-lg`}\r\n\t\t\t\t>\r\n\t\t\t\t\tEnviados\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() => setOrderFilter(\"delivered\")}\r\n\t\t\t\t\tclassName={`px-4 py-2 ${orderFilter === \"delivered\" ? \"bg-primary-50 text-primary-600 font-medium\" : \"hover:bg-gray-100 text-gray-700\"} rounded-lg`}\r\n\t\t\t\t>\r\n\t\t\t\t\tEntregados\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() => setOrderFilter(\"cancelled\")}\r\n\t\t\t\t\tclassName={`px-4 py-2 ${orderFilter === \"cancelled\" ? \"bg-primary-50 text-primary-600 font-medium\" : \"hover:bg-gray-100 text-gray-700\"} rounded-lg`}\r\n\t\t\t\t>\r\n\t\t\t\t\tCancelados\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t{isLoading ? (\r\n\t\t\t\t<div className=\"flex justify-center items-center h-32\">\r\n\t\t\t\t\t<div className=\"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-600\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"space-y-4\">\r\n\t\t\t\t\t{getFilteredOrders().length > 0 ? (\r\n\t\t\t\t\t\tgetFilteredOrders().map((order) => (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tkey={order.id}\r\n\t\t\t\t\t\t\t\tclassName=\"border border-gray-200 rounded-lg overflow-hidden\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div className=\"bg-gray-50 p-4 flex flex-wrap justify-between items-center\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\tPedido #{order.orderNumber}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"mx-2\">•</span>\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\t{formatDate(order.date)}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<OrderStatusBadge status={order.status} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"p-4\">\r\n\t\t\t\t\t\t\t\t\t{order.items &&\r\n\t\t\t\t\t\t\t\t\t\torder.items.map((item: any, index: number) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center mb-4 last:mb-0\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-16 h-16 bg-gray-100 rounded-md overflow-hidden mr-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.product?.image ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.product.image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.product.name || item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full h-full object-cover\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full h-full flex items-center justify-center text-gray-400\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ShoppingBag size={24} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"font-medium\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.product?.name || item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-gray-500 text-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tCantidad: {item.quantity}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"ml-auto font-medium\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(item.price)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t<div className=\"border-t border-gray-100 pt-4 flex justify-between items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 text-sm\">Total:</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"ml-1 font-bold\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(order.total)}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tto={`/orders/${order.id}`}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-primary-600 hover:text-primary-700 text-sm font-medium\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tVer detalles\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"text-center py-10 bg-gray-50 rounded-lg\">\r\n\t\t\t\t\t\t\t<ShoppingBag className=\"mx-auto h-16 w-16 text-gray-300 mb-4\" />\r\n\t\t\t\t\t\t\t{orderFilter ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<h4 className=\"text-lg font-medium text-gray-700 mb-2\">\r\n\t\t\t\t\t\t\t\t\t\tNo tienes pedidos con este estado\r\n\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t<p className=\"text-gray-500 mb-6\">\r\n\t\t\t\t\t\t\t\t\t\tPrueba con otro filtro o revisa tus pedidos más tarde.\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<h4 className=\"text-lg font-medium text-gray-700 mb-2\">\r\n\t\t\t\t\t\t\t\t\t\tNo tienes pedidos aún\r\n\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t<p className=\"text-gray-500 mb-6\">\r\n\t\t\t\t\t\t\t\t\t\t¡Explora nuestros productos y realiza tu primera compra!\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto=\"/products\"\r\n\t\t\t\t\t\t\t\tclassName=\"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tExplorar productos\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default OrdersTab;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { API_ENDPOINTS } from '../../constants/apiEndpoints';\r\nimport ApiClient from '../../infrastructure/api/apiClient';\r\nimport { useAuth } from '../hooks/useAuth';\r\n\r\n// Importar componentes modulares\r\nimport ProfileSidebar from '../components/profile/ProfileSidebar';\r\nimport PersonalInfoTab from '../components/profile/PersonalInfoTab';\r\nimport SecurityTab from '../components/profile/SecurityTab';\r\nimport OrdersTab from '../components/profile/OrdersTab';\r\n\r\n// Definición de la interfaz para el perfil en la página principal\r\n// Esta debe coincidir con la interfaz en los componentes hijos\r\ninterface UserProfile {\r\n  id: number;\r\n  name: string;\r\n  email: string;\r\n  emailVerifiedAt: string | null;\r\n  age: number | null;\r\n  gender: string | null;\r\n  location: string | null;\r\n  created_at: string;\r\n}\r\n\r\n// Interfaz para la respuesta de la API\r\ninterface UserProfileResponse {\r\n  id: number;\r\n  name: string;\r\n  email: string;\r\n  email_verified_at: string | null;\r\n  age: number | null;\r\n  gender: string | null;\r\n  location: string | null;\r\n  created_at: string;\r\n  [key: string]: any; // Para cualquier otro campo que pueda venir en la respuesta\r\n}\r\n\r\n/**\r\n * Página de perfil de usuario\r\n * Este componente integra los diferentes módulos que componen el perfil\r\n */\r\nconst UserProfilePage: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const [userProfile, setUserProfile] = useState<UserProfile | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState<'personal' | 'security' | 'orders'>('personal');\r\n\r\n  // Cargar datos del perfil al iniciar\r\n  useEffect(() => {\r\n    fetchUserProfile();\r\n  }, [user?.id]);\r\n\r\n  // Función para transformar la respuesta de la API al formato requerido\r\n  const transformUserProfile = (apiResponse: UserProfileResponse): UserProfile => {\r\n    return {\r\n      id: apiResponse.id,\r\n      name: apiResponse.name,\r\n      email: apiResponse.email,\r\n      emailVerifiedAt: apiResponse.email_verified_at,\r\n      age: apiResponse.age,\r\n      gender: apiResponse.gender,\r\n      location: apiResponse.location,\r\n      created_at: apiResponse.created_at\r\n    };\r\n  };\r\n\r\n  // Función para obtener el perfil del usuario\r\n  const fetchUserProfile = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      // Cambiamos la ruta a /profile en lugar de AUTH.ME\r\n      const response = await ApiClient.get<UserProfileResponse>(API_ENDPOINTS.PROFILE.LIST);\r\n      \r\n      if (response) {\r\n        // Transformar la respuesta para asegurar la compatibilidad de tipos\r\n        const profileData = transformUserProfile(response);\r\n        setUserProfile(profileData);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al cargar el perfil del usuario:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Manejar actualización de perfil\r\n  const handleProfileUpdate = (updatedProfile: UserProfile) => {\r\n    setUserProfile(updatedProfile);\r\n  };\r\n\r\n  // Renderizar contenido según la pestaña activa\r\n  const renderActiveTab = () => {\r\n    if (isLoading) {\r\n      return (\r\n        <div className=\"flex justify-center items-center h-64\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"></div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    switch (activeTab) {\r\n      case 'personal':\r\n        return <PersonalInfoTab userProfile={userProfile} onProfileUpdate={handleProfileUpdate} />;\r\n      case 'security':\r\n        return <SecurityTab />;\r\n      case 'orders':\r\n        return <OrdersTab />;\r\n      default:\r\n        return <PersonalInfoTab userProfile={userProfile} onProfileUpdate={handleProfileUpdate} />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 lg:px-20 py-10\">\r\n      <h1 className=\"text-3xl font-bold mb-8\">Mi Perfil</h1>\r\n      \r\n      <div className=\"flex flex-col lg:flex-row gap-8\">\r\n        {/* Panel lateral */}\r\n        <ProfileSidebar \r\n          activeTab={activeTab}\r\n          setActiveTab={setActiveTab}\r\n          userCreatedAt={userProfile?.created_at}\r\n          userName={userProfile?.name}\r\n          userEmail={userProfile?.email}\r\n        />\r\n        \r\n        {/* Contenido principal */}\r\n        <div className=\"lg:w-3/4\">\r\n          <div className=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n            {renderActiveTab()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserProfilePage;"],"names":["ProfileSidebar","activeTab","setActiveTab","userCreatedAt","userName","userEmail","logout","user","useAuth","favoriteCount","useFavorites","cartItemCount","useCart","getUserInitial","formatDate","dateString","date","handleLogout","error","jsxs","jsx","User","Lock","ShoppingBag","Heart","LogOut","PersonalInfoTab","userProfile","onProfileUpdate","updateProfile","isEditing","setIsEditing","useState","isUpdating","setIsUpdating","profileError","setProfileError","profileSuccess","setProfileSuccess","formData","setFormData","useEffect","handleChange","e","name","value","prev","handlePersonalInfoSubmit","profileData","updatedUser","ApiClient","updatedProfile","handleCancelEdit","Settings","Mail","Calendar","MapPin","SecurityTab","passwordError","setPasswordError","passwordSuccess","setPasswordSuccess","showPassword","setShowPassword","handlePasswordSubmit","API_ENDPOINTS","errorMessages","togglePasswordVisibility","field","EyeOff","Eye","OrdersTab","orders","setOrders","isLoading","setIsLoading","orderFilter","setOrderFilter","orderAdapter","OrderServiceAdapter","fetchOrders","filters","result","getFilteredOrders","order","OrderStatusBadge","item","index","formatCurrency","Link","Fragment","UserProfilePage","setUserProfile","fetchUserProfile","transformUserProfile","apiResponse","response","handleProfileUpdate","renderActiveTab"],"mappings":"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"}