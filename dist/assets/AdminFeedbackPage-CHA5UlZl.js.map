{"version":3,"file":"AdminFeedbackPage-CHA5UlZl.js","sources":["../../src/presentation/pages/admin/AdminFeedbackPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Table from \"../../components/dashboard/Table\";\r\nimport {\r\n  User,\r\n  MessageSquare,\r\n  CheckCircle,\r\n  XCircle,\r\n  AlertTriangle,\r\n  Clock,\r\n  RefreshCw,\r\n  Filter,\r\n  Calendar,\r\n  BarChart2,\r\n  Eye,\r\n  Flag,\r\n  Tag,\r\n  Store\r\n} from \"lucide-react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport type { Feedback } from \"../../../core/domain/entities/Feedback\";\r\nimport StatCardList from \"../../components/dashboard/StatCardList\";\r\n\r\n\r\n\r\n// Datos simulados para feedback\r\nconst mockFeedback: Feedback[] = [\r\n  {\r\n    id: 1,\r\n    userId: 101,\r\n    sellerId: 2,\r\n    title: \"Mejora sugerida para la navegación\",\r\n    description: \"Sería genial si pudieran añadir filtros más específicos en la sección de categorías. A veces es difícil encontrar productos específicos.\",\r\n    type: \"improvement\",\r\n    status: \"pending\",\r\n    createdAt: \"2023-11-05T14:30:00Z\",\r\n    updatedAt: \"2023-11-05T14:30:00Z\",\r\n    user: {\r\n      id: 101,\r\n      name: \"Juan Pérez\"\r\n    }\r\n  },\r\n  {\r\n    id: 2,\r\n    userId: 102,\r\n    sellerId: 3,\r\n    title: \"Error al cargar imágenes de productos\",\r\n    description: \"He notado que algunas imágenes de productos no se cargan correctamente en dispositivos móviles, especialmente en iOS. Esto ocurre regularmente en la sección de ofertas.\",\r\n    type: \"bug\",\r\n    status: \"approved\",\r\n    adminNotes: \"Verificado y enviado al equipo de desarrollo. Se está trabajando en una solución.\",\r\n    reviewedBy: 201,\r\n    reviewedAt: \"2023-11-06T10:15:00Z\",\r\n    createdAt: \"2023-11-04T09:20:00Z\",\r\n    updatedAt: \"2023-11-06T10:15:00Z\",\r\n    user: {\r\n      id: 102,\r\n      name: \"María Rodríguez\"\r\n    },\r\n    admin: {\r\n      id: 201,\r\n      name: \"Admin Principal\"\r\n    }\r\n  },\r\n  {\r\n    id: 3,\r\n    userId: 103,\r\n    title: \"Sugerencia para nuevas categorías\",\r\n    description: \"Me encantaría ver una categoría específica para productos ecológicos o sostenibles. Creo que sería muy útil para los consumidores que buscan alternativas más respetuosas con el medio ambiente.\",\r\n    type: \"feature\",\r\n    status: \"pending\",\r\n    createdAt: \"2023-11-03T16:45:00Z\",\r\n    updatedAt: \"2023-11-03T16:45:00Z\",\r\n    user: {\r\n      id: 103,\r\n      name: \"Carlos Sánchez\"\r\n    }\r\n  },\r\n  {\r\n    id: 4,\r\n    userId: 104,\r\n    sellerId: 5,\r\n    title: \"Problema con el tiempo de carga\",\r\n    description: \"El sitio se ha vuelto extremadamente lento en los últimos días, especialmente al buscar productos o cambiar entre categorías. Por favor, mejoren el rendimiento.\",\r\n    type: \"bug\",\r\n    status: \"approved\",\r\n    adminNotes: \"Confirmado, estamos optimizando la carga de imágenes y recursos.\",\r\n    reviewedBy: 202,\r\n    reviewedAt: \"2023-11-05T11:30:00Z\",\r\n    createdAt: \"2023-11-02T13:20:00Z\",\r\n    updatedAt: \"2023-11-05T11:30:00Z\",\r\n    user: {\r\n      id: 104,\r\n      name: \"Ana Martínez\"\r\n    },\r\n    admin: {\r\n      id: 202,\r\n      name: \"Admin Técnico\"\r\n    }\r\n  },\r\n  {\r\n    id: 5,\r\n    userId: 105,\r\n    sellerId: 1,\r\n    title: \"Queja sobre vendedor no profesional\",\r\n    description: \"Tuve una experiencia muy negativa con el vendedor 'ElectroStore'. No respondieron a mis mensajes, enviaron un producto diferente al que compré y ahora no quieren aceptar la devolución.\",\r\n    type: \"complaint\",\r\n    status: \"pending\",\r\n    createdAt: \"2023-11-06T09:10:00Z\",\r\n    updatedAt: \"2023-11-06T09:10:00Z\",\r\n    user: {\r\n      id: 105,\r\n      name: \"Javier García\"\r\n    },\r\n    seller: {\r\n      id: 1,\r\n      storeName: \"ElectroStore\"\r\n    }\r\n  },\r\n  {\r\n    id: 6,\r\n    userId: 106,\r\n    title: \"Sugerencia para proceso de checkout\",\r\n    description: \"El proceso de pago tiene demasiados pasos. Sería genial si pudieran simplificarlo y ofrecer la opción de guardar información para futuras compras.\",\r\n    type: \"improvement\",\r\n    status: \"rejected\",\r\n    adminNotes: \"Actualmente no es viable reducir pasos debido a requisitos de seguridad. Lo reconsideraremos en futuras actualizaciones.\",\r\n    reviewedBy: 201,\r\n    reviewedAt: \"2023-11-04T14:30:00Z\",\r\n    createdAt: \"2023-11-01T10:45:00Z\",\r\n    updatedAt: \"2023-11-04T14:30:00Z\",\r\n    user: {\r\n      id: 106,\r\n      name: \"Lucía Fernández\"\r\n    },\r\n    admin: {\r\n      id: 201,\r\n      name: \"Admin Principal\"\r\n    }\r\n  },\r\n  {\r\n    id: 7,\r\n    userId: 107,\r\n    title: \"Solicitud de nueva función de comparación\",\r\n    description: \"Sería muy útil poder comparar varios productos lado a lado. Muchos otros sitios de e-commerce ofrecen esta función y realmente ayuda a tomar decisiones informadas.\",\r\n    type: \"feature\",\r\n    status: \"approved\",\r\n    adminNotes: \"Excelente idea, incluida en el roadmap para el próximo trimestre.\",\r\n    reviewedBy: 203,\r\n    reviewedAt: \"2023-11-06T13:45:00Z\",\r\n    createdAt: \"2023-11-04T18:30:00Z\",\r\n    updatedAt: \"2023-11-06T13:45:00Z\",\r\n    user: {\r\n      id: 107,\r\n      name: \"David López\"\r\n    },\r\n    admin: {\r\n      id: 203,\r\n      name: \"Admin Producto\"\r\n    }\r\n  },\r\n  {\r\n    id: 8,\r\n    userId: 108,\r\n    sellerId: 4,\r\n    title: \"Problema con cupones de descuento\",\r\n    description: \"Los cupones de descuento no se aplican correctamente cuando el carrito tiene productos de múltiples vendedores. El sistema muestra un error y no permite completar la compra.\",\r\n    type: \"bug\",\r\n    status: \"pending\",\r\n    createdAt: \"2023-11-05T20:15:00Z\",\r\n    updatedAt: \"2023-11-05T20:15:00Z\",\r\n    user: {\r\n      id: 108,\r\n      name: \"Elena Gómez\"\r\n    }\r\n  }\r\n];\r\n\r\n// Mapeo de estado para feedback\r\nconst feedbackStatusMap: Record<string, { label: string, color: string, icon: React.ReactNode }> = {\r\n  pending: { \r\n    label: \"Pendiente\", \r\n    color: \"bg-yellow-100 text-yellow-800\",\r\n    icon: <Clock className=\"w-3 h-3 mr-1\" />\r\n  },\r\n  approved: { \r\n    label: \"Aprobado\", \r\n    color: \"bg-green-100 text-green-800\",\r\n    icon: <CheckCircle className=\"w-3 h-3 mr-1\" />\r\n  },\r\n  rejected: { \r\n    label: \"Rechazado\", \r\n    color: \"bg-red-100 text-red-800\",\r\n    icon: <XCircle className=\"w-3 h-3 mr-1\" />\r\n  }\r\n};\r\n\r\n// Mapeo de tipo de feedback\r\nconst feedbackTypeMap: Record<string, { label: string, color: string, icon: React.ReactNode }> = {\r\n  improvement: { \r\n    label: \"Mejora\", \r\n    color: \"bg-blue-100 text-blue-800\",\r\n    icon: <Tag className=\"w-3 h-3 mr-1\" />\r\n  },\r\n  bug: { \r\n    label: \"Error\", \r\n    color: \"bg-red-100 text-red-800\",\r\n    icon: <AlertTriangle className=\"w-3 h-3 mr-1\" />\r\n  },\r\n  feature: { \r\n    label: \"Función\", \r\n    color: \"bg-purple-100 text-purple-800\",\r\n    icon: <Tag className=\"w-3 h-3 mr-1\" />\r\n  },\r\n  complaint: { \r\n    label: \"Queja\", \r\n    color: \"bg-orange-100 text-orange-800\",\r\n    icon: <Flag className=\"w-3 h-3 mr-1\" />\r\n  },\r\n  other: { \r\n    label: \"Otro\", \r\n    color: \"bg-gray-100 text-gray-800\",\r\n    icon: <MessageSquare className=\"w-3 h-3 mr-1\" />\r\n  }\r\n};\r\n\r\nconst AdminFeedbackPage: React.FC = () => {\r\n\tconst [feedback, setFeedback] = useState<Feedback[]>([]);\r\n\tconst [loading, setLoading] = useState(true);\r\n\tconst [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n\tconst [typeFilter, setTypeFilter] = useState<string>(\"all\");\r\n\tconst [dateRangeFilter, setDateRangeFilter] = useState<{\r\n\t\tfrom: string;\r\n\t\tto: string;\r\n\t}>({\r\n\t\tfrom: \"\",\r\n\t\tto: \"\",\r\n\t});\r\n\tconst [pagination, setPagination] = useState({\r\n\t\tcurrentPage: 1,\r\n\t\ttotalPages: 1,\r\n\t\ttotalItems: 0,\r\n\t\titemsPerPage: 10,\r\n\t});\r\n\tconst [selectedFeedback, setSelectedFeedback] = useState<Feedback | null>(\r\n\t\tnull\r\n\t);\r\n\tconst [showFeedbackModal, setShowFeedbackModal] = useState(false);\r\n\tconst [adminNote, setAdminNote] = useState(\"\");\r\n\tconst [generateDiscountCode, setGenerateDiscountCode] = useState(false);\r\n\tconst [discountPercentage, setDiscountPercentage] = useState(10); // Valor por defecto: 10%\r\n\r\n\t// Cargar datos de feedback\r\n\tuseEffect(() => {\r\n\t\tconst fetchFeedback = () => {\r\n\t\t\tsetLoading(true);\r\n\t\t\t// Simulación de llamada a API\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetFeedback(mockFeedback);\r\n\t\t\t\tsetPagination({\r\n\t\t\t\t\tcurrentPage: 1,\r\n\t\t\t\t\ttotalPages: 1,\r\n\t\t\t\t\ttotalItems: mockFeedback.length,\r\n\t\t\t\t\titemsPerPage: 10,\r\n\t\t\t\t});\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}, 500);\r\n\t\t};\r\n\r\n\t\tfetchFeedback();\r\n\t}, []);\r\n\r\n\t// Filtrar feedback\r\n\tconst filteredFeedback = feedback.filter((item) => {\r\n\t\t// Filtro por estado\r\n\t\tconst matchesStatus =\r\n\t\t\tstatusFilter === \"all\" || item.status === statusFilter;\r\n\r\n\t\t// Filtro por tipo\r\n\t\tconst matchesType = typeFilter === \"all\" || item.type === typeFilter;\r\n\r\n\t\t// Filtro por rango de fechas\r\n\t\tlet matchesDateRange = true;\r\n\t\tif (dateRangeFilter.from) {\r\n\t\t\tconst feedbackDate = new Date(item.createdAt || \"\");\r\n\t\t\tconst fromDate = new Date(dateRangeFilter.from);\r\n\t\t\tmatchesDateRange = feedbackDate >= fromDate;\r\n\t\t}\r\n\t\tif (dateRangeFilter.to && matchesDateRange) {\r\n\t\t\tconst feedbackDate = new Date(item.createdAt || \"\");\r\n\t\t\tconst toDate = new Date(dateRangeFilter.to);\r\n\t\t\t// Ajustar a final del día\r\n\t\t\ttoDate.setHours(23, 59, 59, 999);\r\n\t\t\tmatchesDateRange = feedbackDate <= toDate;\r\n\t\t}\r\n\r\n\t\treturn matchesStatus && matchesType && matchesDateRange;\r\n\t});\r\n\r\n\t// Abrir modal de feedback\r\n\tconst openFeedbackModal = (item: Feedback) => {\r\n\t\tsetSelectedFeedback(item);\r\n\t\tsetAdminNote(item.adminNotes || \"\");\r\n\t\tsetGenerateDiscountCode(false);\r\n\t\tsetDiscountPercentage(10);\r\n\t\tsetShowFeedbackModal(true);\r\n\t};\r\n\r\n\t// Cerrar modal de feedback\r\n\tconst closeFeedbackModal = () => {\r\n\t\tsetSelectedFeedback(null);\r\n\t\tsetShowFeedbackModal(false);\r\n\t\tsetAdminNote(\"\");\r\n\t\tsetGenerateDiscountCode(false);\r\n\t\tsetDiscountPercentage(10);\r\n\t};\r\n\r\n\t// Aprobar feedback\r\n\tconst approveFeedback = (feedbackId: number) => {\r\n\t\tif (selectedFeedback) {\r\n\t\t\tif (!adminNote) {\r\n\t\t\t\talert(\r\n\t\t\t\t\t\"Por favor, proporciona una nota de administrador para la aprobación.\"\r\n\t\t\t\t);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// En un caso real, aquí enviarías la solicitud al servidor con el código de descuento si está seleccionado\r\n\t\t\tconst approvalData = {\r\n\t\t\t\tid: feedbackId,\r\n\t\t\t\tstatus: \"approved\",\r\n\t\t\t\tadminNotes: adminNote,\r\n\t\t\t\tgenerateDiscountCode,\r\n\t\t\t\tdiscountPercentage: generateDiscountCode\r\n\t\t\t\t\t? discountPercentage\r\n\t\t\t\t\t: undefined,\r\n\t\t\t};\r\n\r\n\t\t\tconsole.log(\"Datos de aprobación:\", approvalData);\r\n\r\n\t\t\tcloseFeedbackModal();\r\n\t\t}\r\n\r\n\t\t// Actualizar el estado local\r\n\t\tsetFeedback((prevFeedback) =>\r\n\t\t\tprevFeedback.map((item) => {\r\n\t\t\t\tif (item.id === feedbackId) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\tstatus: \"approved\",\r\n\t\t\t\t\t\tadminNotes: adminNote,\r\n\t\t\t\t\t\treviewedBy: 201, // ID del admin actual (en un caso real vendría del contexto)\r\n\t\t\t\t\t\treviewedAt: new Date().toISOString(),\r\n\t\t\t\t\t\tupdatedAt: new Date().toISOString(),\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\treturn item;\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\t// Mostrar mensaje de aprobación\r\n\t\tlet message = `Feedback #${feedbackId} aprobado correctamente.`;\r\n\t\tif (generateDiscountCode) {\r\n\t\t\tmessage += ` Se ha generado un código de descuento del ${discountPercentage}% para el usuario.`;\r\n\t\t}\r\n\r\n\t\talert(message);\r\n\t};\r\n\r\n\t// Rechazar feedback\r\n\tconst rejectFeedback = (feedbackId: number) => {\r\n\t\tif (selectedFeedback) {\r\n\t\t\tif (!adminNote) {\r\n\t\t\t\talert(\r\n\t\t\t\t\t\"Por favor, proporciona una nota de administrador para el rechazo.\"\r\n\t\t\t\t);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tcloseFeedbackModal();\r\n\t\t}\r\n\r\n\t\t// Actualizar el estado local\r\n\t\tsetFeedback((prevFeedback) =>\r\n\t\t\tprevFeedback.map((item) => {\r\n\t\t\t\tif (item.id === feedbackId) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\tstatus: \"rejected\",\r\n\t\t\t\t\t\tadminNotes: adminNote,\r\n\t\t\t\t\t\treviewedBy: 201, // ID del admin actual (en un caso real vendría del contexto)\r\n\t\t\t\t\t\treviewedAt: new Date().toISOString(),\r\n\t\t\t\t\t\tupdatedAt: new Date().toISOString(),\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\treturn item;\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\talert(`Feedback #${feedbackId} rechazado.`);\r\n\t};\r\n\r\n\t// Reportar como inapropiado\r\n\tconst reportFeedback = (feedbackId: number) => {\r\n\t\talert(\r\n\t\t\t`El feedback #${feedbackId} ha sido reportado para revisión adicional.`\r\n\t\t);\r\n\t};\r\n\r\n\t// Formatear fecha\r\n\tconst formatDate = (dateString: string | undefined) => {\r\n\t\tif (!dateString) return \"N/A\";\r\n\r\n\t\tconst date = new Date(dateString);\r\n\t\treturn new Intl.DateTimeFormat(\"es-ES\", {\r\n\t\t\tday: \"2-digit\",\r\n\t\t\tmonth: \"2-digit\",\r\n\t\t\tyear: \"numeric\",\r\n\t\t\thour: \"2-digit\",\r\n\t\t\tminute: \"2-digit\",\r\n\t\t}).format(date);\r\n\t};\r\n\r\n\t// Manejar cambio de página\r\n\tconst handlePageChange = (page: number) => {\r\n\t\tsetPagination((prev) => ({...prev, currentPage: page}));\r\n\t\t// En una app real, aquí obtendrías los datos para la nueva página\r\n\t};\r\n\r\n\t// Refrescar datos\r\n\tconst refreshData = () => {\r\n\t\tsetLoading(true);\r\n\t\t// Simular recarga de datos\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetLoading(false);\r\n\t\t}, 500);\r\n\t};\r\n\r\n\t// Definir columnas de la tabla\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\tkey: \"user\",\r\n\t\t\theader: \"Usuario\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (feedback: Feedback) => (\r\n\t\t\t\t<div className=\"flex items-center\">\r\n\t\t\t\t\t<div className=\"flex-shrink-0 h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden\">\r\n\t\t\t\t\t\t<User className=\"h-4 w-4 text-gray-500\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"ml-3\">\r\n\t\t\t\t\t\t<div className=\"text-sm font-medium text-gray-900\">\r\n\t\t\t\t\t\t\t{feedback.user?.name || `Usuario #${feedback.userId}`}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-xs text-gray-500\">\r\n\t\t\t\t\t\t\tID: {feedback.userId}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"seller\",\r\n\t\t\theader: \"Vendedor\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (feedback: Feedback) => {\r\n\t\t\t\tif (feedback.sellerId && feedback.seller) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tto={`/admin/sellers/${feedback.sellerId}`}\r\n\t\t\t\t\t\t\tclassName=\"flex items-center text-primary-600 hover:text-primary-800\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Store className=\"h-4 w-4 mr-1\" />\r\n\t\t\t\t\t\t\t{feedback.seller.storeName}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn <span className=\"text-gray-500\">N/A</span>;\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"type\",\r\n\t\t\theader: \"Tipo\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (feedback: Feedback) => {\r\n\t\t\t\tconst type = feedbackTypeMap[feedback.type] || {\r\n\t\t\t\t\tlabel: feedback.type,\r\n\t\t\t\t\tcolor:\r\n\t\t\t\t\t\t\"bg-gray-100 text-gray-800\",\r\n\t\t\t\t\ticon: <AlertTriangle className=\"w-3 h-3 mr-1\" />,\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${type.color}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{type.icon}\r\n\t\t\t\t\t\t{type.label}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"title\",\r\n\t\t\theader: \"Título\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (feedback: Feedback) => (\r\n\t\t\t\t<div className=\"text-sm font-medium text-gray-900 line-clamp-2\">\r\n\t\t\t\t\t{feedback.title}\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"date\",\r\n\t\t\theader: \"Fecha\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (feedback: Feedback) => (\r\n\t\t\t\t<div className=\"text-xs text-gray-500\">\r\n\t\t\t\t\t{formatDate(feedback.createdAt)}\r\n\t\t\t\t\t{feedback.reviewedAt && (\r\n\t\t\t\t\t\t<div>Revisado: {formatDate(feedback.reviewedAt)}</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"status\",\r\n\t\t\theader: \"Estado\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (feedback: Feedback) => {\r\n\t\t\t\tconst status = feedbackStatusMap[feedback.status] || {\r\n\t\t\t\t\tlabel: feedback.status,\r\n\t\t\t\t\tcolor:\r\n\t\t\t\t\t\t\"bg-gray-100 text-gray-800\",\r\n\t\t\t\t\ticon: <AlertTriangle className=\"w-3 h-3 mr-1\" />,\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${status.color}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{status.icon}\r\n\t\t\t\t\t\t{status.label}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"actions\",\r\n\t\t\theader: \"Acciones\",\r\n\t\t\trender: (feedback: Feedback) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"flex justify-end space-x-2\">\r\n\t\t\t\t\t\t{/* Ver detalles */}\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() => openFeedbackModal(feedback)}\r\n\t\t\t\t\t\t\tclassName=\"p-1 text-blue-600 hover:bg-blue-100 rounded-md\"\r\n\t\t\t\t\t\t\ttitle=\"Ver detalles\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Eye size={18} />\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t{/* Aprobar feedback (si está pendiente) */}\r\n\t\t\t\t\t\t{feedback.status === \"pending\" && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tonClick={() => approveFeedback(feedback.id || 0)}\r\n\t\t\t\t\t\t\t\tclassName=\"p-1 text-green-600 hover:bg-green-100 rounded-md\"\r\n\t\t\t\t\t\t\t\ttitle=\"Aprobar feedback\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CheckCircle size={18} />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{/* Rechazar feedback (si está pendiente) */}\r\n\t\t\t\t\t\t{feedback.status === \"pending\" && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tonClick={() => rejectFeedback(feedback.id || 0)}\r\n\t\t\t\t\t\t\t\tclassName=\"p-1 text-red-600 hover:bg-red-100 rounded-md\"\r\n\t\t\t\t\t\t\t\ttitle=\"Rechazar feedback\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<XCircle size={18} />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{/* Reportar feedback */}\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() => reportFeedback(feedback.id || 0)}\r\n\t\t\t\t\t\t\tclassName=\"p-1 text-orange-600 hover:bg-orange-100 rounded-md\"\r\n\t\t\t\t\t\t\ttitle=\"Reportar feedback\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Flag size={18} />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t];\r\n\r\n\tconst statItems = [\r\n\t\t{\r\n\t\t  title: \"Total\",\r\n\t\t  value: feedback.length,\r\n\t\t  description: \"Comentarios y sugerencias\",\r\n\t\t  icon: MessageSquare,\r\n\t\t  bgColor: \"bg-blue-50/20\",\r\n\t\t  textColor: \"text-blue-800\",\r\n\t\t  valueColor: \"text-blue-900\",\r\n\t\t  descriptionColor: \"text-blue-700\",\r\n\t\t  iconColor: \"text-blue-600\",\r\n\t\t},\r\n\t\t{\r\n\t\t  title: \"Pendientes\",\r\n\t\t  value: feedback.filter((f) => f.status === \"pending\").length,\r\n\t\t  description: \"Esperando revisión\",\r\n\t\t  icon: Clock,\r\n\t\t  bgColor: \"bg-yellow-50/20\",\r\n\t\t  textColor: \"text-yellow-800\",\r\n\t\t  valueColor: \"text-yellow-900\",\r\n\t\t  descriptionColor: \"text-yellow-700\",\r\n\t\t  iconColor: \"text-yellow-600\",\r\n\t\t},\r\n\t\t{\r\n\t\t  title: \"Aprobados\",\r\n\t\t  value: feedback.filter((f) => f.status === \"approved\").length,\r\n\t\t  description: \"Implementados o en proceso\",\r\n\t\t  icon: CheckCircle,\r\n\t\t  bgColor: \"bg-green-50/20\",\r\n\t\t  textColor: \"text-green-800\",\r\n\t\t  valueColor: \"text-green-900\",\r\n\t\t  descriptionColor: \"text-green-700\",\r\n\t\t  iconColor: \"text-green-600\",\r\n\t\t},\r\n\t\t{\r\n\t\t  title: \"Rechazados\",\r\n\t\t  value: feedback.filter((f) => f.status === \"rejected\").length,\r\n\t\t  description: \"No considerados\",\r\n\t\t  icon: XCircle,\r\n\t\t  bgColor: \"bg-red-50/20\",\r\n\t\t  textColor: \"text-red-800\",\r\n\t\t  valueColor: \"text-red-900\",\r\n\t\t  descriptionColor: \"text-red-700\",\r\n\t\t  iconColor: \"text-red-600\",\r\n\t\t},\r\n\t  ];\r\n\r\n\treturn (\r\n\t\t<div className=\"space-y-6\">\r\n\t\t\t<div className=\"flex justify-between items-center\">\r\n\t\t\t\t<h1 className=\"text-2xl font-bold text-gray-900\">\r\n\t\t\t\t\tGestión de Feedback y Comentarios\r\n\t\t\t\t</h1>\r\n\t\t\t\t<div className=\"flex space-x-2\">\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto=\"/admin/feedback/dashboard\"\r\n\t\t\t\t\t\tclassName=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<BarChart2 size={18} className=\"inline mr-2\" />\r\n\t\t\t\t\t\tEstadísticas\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={refreshData}\r\n\t\t\t\t\t\tclassName=\"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RefreshCw size={18} className=\"inline mr-2\" />\r\n\t\t\t\t\t\tActualizar\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{/* StatCards */}\r\n\t\t\t<StatCardList items={statItems} />\r\n\t\t\t{/* Filtros */}\r\n\t\t\t<div className=\"bg-white rounded-lg shadow-sm p-4\">\r\n\t\t\t\t<div className=\"flex flex-col md:flex-row gap-4\">\r\n\t\t\t\t\t{/* Filtro de Estado */}\r\n\t\t\t\t\t<div className=\"flex items-center space-x-2\">\r\n\t\t\t\t\t\t<Filter className=\"h-5 w-5 text-gray-500\" />\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName=\"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\tvalue={statusFilter}\r\n\t\t\t\t\t\t\tonChange={(e) => setStatusFilter(e.target.value)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"all\">Todos los Estados</option>\r\n\t\t\t\t\t\t\t<option value=\"pending\">Pendientes</option>\r\n\t\t\t\t\t\t\t<option value=\"approved\">Aprobados</option>\r\n\t\t\t\t\t\t\t<option value=\"rejected\">Rechazados</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Filtro de Tipo */}\r\n\t\t\t\t\t<div className=\"flex items-center space-x-2\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName=\"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\tvalue={typeFilter}\r\n\t\t\t\t\t\t\tonChange={(e) => setTypeFilter(e.target.value)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"all\">Todos los Tipos</option>\r\n\t\t\t\t\t\t\t<option value=\"improvement\">Mejoras</option>\r\n\t\t\t\t\t\t\t<option value=\"bug\">Errores</option>\r\n\t\t\t\t\t\t\t<option value=\"feature\">Nuevas Funciones</option>\r\n\t\t\t\t\t\t\t<option value=\"complaint\">Quejas</option>\r\n\t\t\t\t\t\t\t<option value=\"other\">Otros</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Filtro de Fecha */}\r\n\t\t\t\t\t<div className=\"flex items-center space-x-2\">\r\n\t\t\t\t\t\t<Calendar className=\"h-5 w-5 text-gray-500\" />\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\tclassName=\"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\tvalue={dateRangeFilter.from}\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tsetDateRangeFilter({...dateRangeFilter, from: e.target.value})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tplaceholder=\"Desde\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\tclassName=\"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\tvalue={dateRangeFilter.to}\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tsetDateRangeFilter({...dateRangeFilter, to: e.target.value})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tplaceholder=\"Hasta\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Tabla de Feedback */}\r\n\t\t\t<Table\r\n\t\t\t\tdata={filteredFeedback}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tsearchFields={[\"title\", \"description\"]}\r\n\t\t\t\tloading={loading}\r\n\t\t\t\temptyMessage=\"No se encontraron comentarios o sugerencias\"\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tcurrentPage: pagination.currentPage,\r\n\t\t\t\t\ttotalPages: pagination.totalPages,\r\n\t\t\t\t\ttotalItems: pagination.totalItems,\r\n\t\t\t\t\titemsPerPage: pagination.itemsPerPage,\r\n\t\t\t\t\tonPageChange: handlePageChange,\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\r\n\t\t\t{/* Modal de Detalle de Feedback */}\r\n\t\t\t{showFeedbackModal && selectedFeedback && (\r\n\t\t\t\t<div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n\t\t\t\t\t<div className=\"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\">\r\n\t\t\t\t\t\t<div className=\"px-6 py-4 border-b border-gray-200 flex justify-between items-center\">\r\n\t\t\t\t\t\t\t<h3 className=\"text-lg font-medium text-gray-900\">\r\n\t\t\t\t\t\t\t\tDetalles de Feedback\r\n\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tonClick={closeFeedbackModal}\r\n\t\t\t\t\t\t\t\tclassName=\"text-gray-400 hover:text-gray-500\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<XCircle className=\"h-5 w-5\" />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"p-6\">\r\n\t\t\t\t\t\t\t{/* Información de Usuario */}\r\n\t\t\t\t\t\t\t<div className=\"mb-6\">\r\n\t\t\t\t\t\t\t\t<h4 className=\"text-sm font-medium text-gray-500 mb-2\">\r\n\t\t\t\t\t\t\t\t\tUsuario\r\n\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-shrink-0 h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden\">\r\n\t\t\t\t\t\t\t\t\t\t<User className=\"h-6 w-6 text-gray-500\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"ml-4\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-sm font-medium text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t\t\t{selectedFeedback.user?.name ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t`Usuario #${selectedFeedback.userId}`}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-xs text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\tID: {selectedFeedback.userId}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* Información del Feedback */}\r\n\t\t\t\t\t\t\t<div className=\"mb-6\">\r\n\t\t\t\t\t\t\t\t<div className=\"flex justify-between items-start mb-2\">\r\n\t\t\t\t\t\t\t\t\t<h4 className=\"text-sm font-medium text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\tDetalles\r\n\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t{(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tconst type = feedbackTypeMap[selectedFeedback.type] || {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: selectedFeedback.type,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"bg-gray-100 text-gray-800\",\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon: <AlertTriangle className=\"w-4 h-4 mr-1\" />,\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${type.color}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{type.icon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{type.label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t})()}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"text-lg font-medium text-gray-900 mb-2\">\r\n\t\t\t\t\t\t\t\t\t{selectedFeedback.title}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"bg-gray-50 p-4 rounded-lg text-gray-800 mb-2 whitespace-pre-wrap\">\r\n\t\t\t\t\t\t\t\t\t{selectedFeedback.description}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"text-sm text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t<div>Enviado: {formatDate(selectedFeedback.createdAt)}</div>\r\n\t\t\t\t\t\t\t\t\t{selectedFeedback.updatedAt !==\r\n\t\t\t\t\t\t\t\t\t\tselectedFeedback.createdAt && (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\tActualizado: {formatDate(selectedFeedback.updatedAt)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* Si es una queja sobre un vendedor, mostrar información del vendedor */}\r\n\t\t\t\t\t\t\t{selectedFeedback.sellerId && selectedFeedback.seller && (\r\n\t\t\t\t\t\t\t\t<div className=\"mb-6\">\r\n\t\t\t\t\t\t\t\t\t<h4 className=\"text-sm font-medium text-gray-500 mb-2\">\r\n\t\t\t\t\t\t\t\t\t\tVendedor Relacionado\r\n\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Store className=\"h-5 w-5 text-gray-500 mr-2\" />\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tto={`/admin/sellers/${selectedFeedback.sellerId}`}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-primary-600 hover:text-primary-800\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{selectedFeedback.seller.storeName}\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{/* Estado Actual */}\r\n\t\t\t\t\t\t\t<div className=\"mb-6\">\r\n\t\t\t\t\t\t\t\t<h4 className=\"text-sm font-medium text-gray-500 mb-2\">\r\n\t\t\t\t\t\t\t\t\tEstado Actual\r\n\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\r\n\t\t\t\t\t\t\t\t\t{(() => {\r\n\t\t\t\t\t\t\t\t\t\tconst status = feedbackStatusMap[\r\n\t\t\t\t\t\t\t\t\t\t\tselectedFeedback.status\r\n\t\t\t\t\t\t\t\t\t\t] || {\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: selectedFeedback.status,\r\n\t\t\t\t\t\t\t\t\t\t\tcolor:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"bg-gray-100 text-gray-800\",\r\n\t\t\t\t\t\t\t\t\t\t\ticon: <AlertTriangle className=\"w-4 h-4 mr-1\" />,\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${status.color}`}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{status.icon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{status.label}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})()}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* Notas de Administración existentes */}\r\n\t\t\t\t\t\t\t{selectedFeedback.adminNotes && (\r\n\t\t\t\t\t\t\t\t<div className=\"mb-6\">\r\n\t\t\t\t\t\t\t\t\t<h4 className=\"text-sm font-medium text-gray-500 mb-2\">\r\n\t\t\t\t\t\t\t\t\t\tNotas de Administración\r\n\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t<div className=\"bg-gray-50 p-3 rounded-lg text-gray-800 mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t{selectedFeedback.adminNotes}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-sm text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t{selectedFeedback.admin && (\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Por: {selectedFeedback.admin.name}</span>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{selectedFeedback.reviewedAt && (\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"ml-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t({formatDate(selectedFeedback.reviewedAt)})\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{/* Acciones de Administración */}\r\n\t\t\t\t\t\t\t{selectedFeedback.status === \"pending\" && (\r\n\t\t\t\t\t\t\t\t<div className=\"mb-6\">\r\n\t\t\t\t\t\t\t\t\t<h4 className=\"text-sm font-medium text-gray-500 mb-2\">\r\n\t\t\t\t\t\t\t\t\t\tRevisión de Administrador\r\n\t\t\t\t\t\t\t\t\t</h4>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\thtmlFor=\"adminNote\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tNota de Administrador (obligatoria)\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"adminNote\"\r\n\t\t\t\t\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Notas adicionales o respuesta al usuario...\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={adminNote}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setAdminNote(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t></textarea>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t{/* Opción de código de descuento (solo para aprobación) */}\r\n\t\t\t\t\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"generateDiscount\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={generateDiscountCode}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetGenerateDiscountCode(e.target.checked)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\thtmlFor=\"generateDiscount\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2 block text-sm text-gray-700\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tGenerar código de descuento para el usuario\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t{generateDiscountCode && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"ml-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thtmlFor=\"discountPercentage\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tPorcentaje de descuento\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"discountPercentage\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax=\"50\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstep=\"5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={discountPercentage}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDiscountPercentage(parseInt(e.target.value))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-3 w-40\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-medium text-gray-700 w-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{discountPercentage}%\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex space-x-2\">\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => approveFeedback(selectedFeedback.id || 0)}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!adminNote}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<CheckCircle size={18} className=\"mr-2\" />\r\n\t\t\t\t\t\t\t\t\t\t\tAprobar\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => rejectFeedback(selectedFeedback.id || 0)}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!adminNote}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<XCircle size={18} className=\"mr-2\" />\r\n\t\t\t\t\t\t\t\t\t\t\tRechazar\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{/* Enlaces rápidos (según el tipo de feedback) */}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h4 className=\"text-sm font-medium text-gray-500 mb-2\">\r\n\t\t\t\t\t\t\t\t\tEnlaces Rápidos\r\n\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t<div className=\"flex flex-wrap gap-2\">\r\n\t\t\t\t\t\t\t\t\t{selectedFeedback.sellerId && (\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tto={`/admin/sellers/${selectedFeedback.sellerId}`}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Store className=\"w-4 h-4 mr-1\" />\r\n\t\t\t\t\t\t\t\t\t\t\tPerfil del Vendedor\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tto={`/admin/users/${selectedFeedback.userId}`}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"inline-flex items-center px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<User className=\"w-4 h-4 mr-1\" />\r\n\t\t\t\t\t\t\t\t\t\tVer Usuario\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t\t\t\t\t{selectedFeedback.type === \"bug\" && (\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tto=\"/admin/bugs\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inline-flex items-center px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<AlertTriangle className=\"w-4 h-4 mr-1\" />\r\n\t\t\t\t\t\t\t\t\t\t\tLista de Errores\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t{selectedFeedback.type === \"feature\" && (\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tto=\"/admin/roadmap\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inline-flex items-center px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Tag className=\"w-4 h-4 mr-1\" />\r\n\t\t\t\t\t\t\t\t\t\t\tRoadmap de Funciones\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AdminFeedbackPage;"],"names":["mockFeedback","feedbackStatusMap","jsx","Clock","CheckCircle","XCircle","feedbackTypeMap","Tag","AlertTriangle","Flag","MessageSquare","AdminFeedbackPage","feedback","setFeedback","useState","loading","setLoading","statusFilter","setStatusFilter","typeFilter","setTypeFilter","dateRangeFilter","setDateRangeFilter","pagination","setPagination","selectedFeedback","setSelectedFeedback","showFeedbackModal","setShowFeedbackModal","adminNote","setAdminNote","generateDiscountCode","setGenerateDiscountCode","discountPercentage","setDiscountPercentage","useEffect","filteredFeedback","item","matchesStatus","matchesType","matchesDateRange","feedbackDate","fromDate","toDate","openFeedbackModal","closeFeedbackModal","approveFeedback","feedbackId","prevFeedback","message","rejectFeedback","reportFeedback","formatDate","dateString","date","handlePageChange","page","prev","refreshData","columns","jsxs","User","Link","Store","type","status","Eye","statItems","f","BarChart2","RefreshCw","StatCardList","Filter","e","Calendar","Table"],"mappings":"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"}