import{r as m,j as d,l as o,t as n}from"./index-DmNDOrWy.js";import{S as w}from"./star-DFFyFcok.js";const I=({value:i,onChange:e,size:r="medium",readOnly:s=!1,required:t=!1,maxStars:a=5,className:l=""})=>{const[E,g]=m.useState(0),[y,R]=m.useState(!1),h={small:16,medium:24,large:32}[r],S=c=>(y?c<=E:c<=i)?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300",f=c=>{s||!e||e(c===i?0:c)},v=c=>{s||(R(!0),g(c))},_=()=>{s||(R(!1),g(0))};return d.jsxs("div",{className:`flex items-center space-x-1 ${l}`,onMouseLeave:_,children:[Array.from({length:a}).map((c,u)=>{const p=u+1;return d.jsx(w,{size:h,className:`transition-colors cursor-${s?"default":"pointer"} ${S(p)}`,onClick:()=>f(p),onMouseEnter:()=>v(p),"aria-label":`${p} de ${a} estrellas`},u)}),t&&i===0&&d.jsx("span",{className:"text-red-500 text-xs ml-2",children:"* Requerido"})]})};class G{async getPendingRatings(){try{return await o.get(n.RATINGS.PENDING)}catch(e){return console.error("Error al obtener valoraciones pendientes:",e),{status:"error",data:{products:[],sellers:[]}}}}async rateProduct(e){try{return await o.post(n.RATINGS.RATE_PRODUCT,e)}catch(r){throw console.error("Error al valorar producto:",r),r}}async rateSeller(e){try{return await o.post(n.RATINGS.RATE_SELLER,e)}catch(r){throw console.error("Error al valorar vendedor:",r),r}}async getProductRatings(e,r=1,s=10){try{return await o.get(n.RATINGS.PRODUCT(e),{page:r,per_page:s})}catch(t){throw console.error(`Error al obtener valoraciones del producto ${e}:`,t),t}}async getSellerRatings(e,r=1,s=10){try{return await o.get(n.RATINGS.SELLER(e),{page:r,per_page:s})}catch(t){throw console.error(`Error al obtener valoraciones del vendedor ${e}:`,t),t}}async reportProblem(e){try{return await o.post(n.RATINGS.REPORT_PROBLEM,e)}catch(r){throw console.error("Error al reportar problema:",r),r}}async replyToRating(e){try{return await o.post(n.RATINGS.REPLY,e)}catch(r){throw console.error("Error al responder a valoración:",r),r}}async reportRating(e){try{return await o.post(n.RATINGS.REPORT,e)}catch(r){throw console.error("Error al reportar valoración:",r),r}}async getMyReceivedRatings(e=1,r=10,s){try{const t={page:e,per_page:r,type:"user_to_seller"};s&&s!=="all"&&(t.status=s),console.log("Solicitando valoraciones recibidas con parámetros:",t);const a=await o.get(n.RATINGS.MY_RECEIVED,t);console.log("Respuesta original de valoraciones recibidas:",a);const l={status:"success",data:[],meta:{total:0,per_page:r,current_page:e,last_page:1,average_rating:0,rating_counts:{1:0,2:0,3:0,4:0,5:0}}};return a?a.data&&a.data.data?{status:"success",data:a.data.data,meta:a.data.meta||l.meta}:a.data&&Array.isArray(a.data)?{status:"success",data:a.data,meta:a.meta||l.meta}:a.data&&!Array.isArray(a.data)?{status:"success",data:a.data,meta:a.meta||l.meta}:l:l}catch(t){return console.error("Error al obtener valoraciones recibidas:",t),{status:"error",message:t instanceof Error?t.message:"Error desconocido",data:[],meta:{total:0,per_page:r,current_page:e,last_page:1,average_rating:0,rating_counts:{1:0,2:0,3:0,4:0,5:0}}}}}async getMyGivenRatings(e=1,r=10,s){try{const t={page:e,per_page:r};return s&&(t.type=s),await o.get(n.RATINGS.MY_GIVEN,t)}catch(t){throw console.error("Error al obtener valoraciones dadas:",t),t}}}export{G as R,I as S};
//# sourceMappingURL=RatingService-DTWTD-sM.js.map
