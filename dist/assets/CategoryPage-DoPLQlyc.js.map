{"version":3,"file":"CategoryPage-DoPLQlyc.js","sources":["../../src/presentation/pages/CategoryPage.tsx"],"sourcesContent":["import {useEffect, useState} from \"react\";\r\nimport {ChevronRight} from \"lucide-react\";\r\nimport useCategories from \"../hooks/useCategories\";\r\n\r\nconst CategoryPage = () => {\r\n\tconst {loading, error, mainCategories, fetchMainCategories} = useCategories();\r\n  const [secciones, setSecciones] = useState<any[]>([]);\r\n  \r\n  interface Subtitle {\r\n\t\tlabel: string;\r\n\t\tlink: string;\r\n  }\r\n  \r\n\r\n\t// Fetch main categories on component mount\r\n\tuseEffect(() => {\r\n\t\tfetchMainCategories();\r\n\t}, [fetchMainCategories]);\r\n\r\n\t// Transform API categories to component format\r\n\tuseEffect(() => {\r\n\t\tif (mainCategories && mainCategories.length > 0) {\r\n\t\t\tconst transformedSections = mainCategories.map((category) => {\r\n\t\t\t\t// Get subcategories if available\r\n\t\t\t\tconst subtitles = category.subcategories\r\n\t\t\t\t\t? category.subcategories.map((subcategory) => ({\r\n\t\t\t\t\t\t\tlabel: subcategory.name,\r\n\t\t\t\t\t\t\tlink: `/categoria/${subcategory.slug}`,\r\n\t\t\t\t\t\t}))\r\n\t\t\t\t\t: [];\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttitle: category.name,\r\n\t\t\t\t\tdescription:\r\n\t\t\t\t\t\tcategory.description || \"Descubre nuestra selección de productos\",\r\n\t\t\t\t\tsubtitles: subtitles.slice(0, 5), // Limit to 5 subcategories per section\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\tsetSecciones(transformedSections);\r\n\t\t}\r\n\t}, [mainCategories]);\r\n\r\n\t// Show loading state\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<div className=\"max-w-6xl mx-auto px-4 py-12\">\r\n\t\t\t\t<div className=\"flex justify-center items-center h-64\">\r\n\t\t\t\t\t<div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\t// Show error state\r\n\tif (error) {\r\n\t\treturn (\r\n\t\t\t<div className=\"max-w-6xl mx-auto px-4 py-12\">\r\n\t\t\t\t<div className=\"bg-red-50 border-l-4 border-red-500 p-4 rounded\">\r\n\t\t\t\t\t<p className=\"text-red-700\">Error al cargar categorías: {error}</p>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => fetchMainCategories()}\r\n\t\t\t\t\t\tclassName=\"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tReintentar\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"max-w-6xl mx-auto px-4 py-12\">\r\n\t\t\t<header className=\"text-center mb-16\">\r\n\t\t\t\t<h1 className=\"text-4xl font-bold mb-4 text-gray-800\">\r\n\t\t\t\t\tExplora Nuestras Categorías\r\n\t\t\t\t</h1>\r\n\t\t\t\t<p className=\"text-gray-600 max-w-2xl mx-auto\">\r\n\t\t\t\t\tDescubre contenido relevante organizado por temas. Navega por nuestras\r\n\t\t\t\t\tcategorías para encontrar información actualizada y recursos útiles.\r\n\t\t\t\t</p>\r\n\t\t\t</header>\r\n\r\n\t\t\t<div className=\"grid md:grid-cols-2 gap-8\">\r\n\t\t\t\t{secciones.map((section, index) => (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\tclassName=\"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\"bg-gradient-to-bl from-primary-700 to-black px-6 py-8 opacity-90 text-white\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"flex items-center mb-4\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"text-2xl font-bold\">{section.title}</h2>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p className=\"opacity-90\">{section.description}</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<ul className=\"divide-y divide-gray-100\">\r\n\t\t\t\t\t\t\t{section.subtitles.map((sub:Subtitle, subIndex: number) => (\r\n\t\t\t\t\t\t\t\t<li key={subIndex}>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref={sub.link}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center justify-between p-4 hover:bg-gray-50 transition-colors\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-700 font-medium\">\r\n\t\t\t\t\t\t\t\t\t\t\t{sub.label}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t<ChevronRight className=\"text-gray-400 h-5 w-5\" />\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ul>\r\n\r\n\t\t\t\t\t\t<div className=\"px-6 py-4 bg-gray-50\">\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\thref={`/products?category=${encodeURIComponent(section.title)}`}\r\n\t\t\t\t\t\t\t\tclassName=\"text-sm font-medium text-blue-600 hover:text-blue-800 flex items-center\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVer todos los temas\r\n\t\t\t\t\t\t\t\t<ChevronRight className=\"ml-1 h-4 w-4\" />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CategoryPage;\r\n"],"names":["CategoryPage","loading","error","mainCategories","fetchMainCategories","useCategories","secciones","setSecciones","useState","useEffect","transformedSections","category","subtitles","subcategory","jsx","jsxs","section","index","sub","subIndex","ChevronRight"],"mappings":"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"}