{"version":3,"file":"NotificationPage-BtvX5ojq.js","sources":["../../node_modules/lucide-react/dist/esm/icons/message-circle.js","../../src/presentation/pages/NotificationPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.484.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M7.9 20A9 9 0 1 0 4 16.1L2 22Z\", key: \"vv11sd\" }]\n];\nconst MessageCircle = createLucideIcon(\"message-circle\", __iconNode);\n\nexport { __iconNode, MessageCircle as default };\n//# sourceMappingURL=message-circle.js.map\n","// src/presentation/pages/NotificationPage.tsx - CORREGIDO para sellers\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { \r\n  Bell, \r\n  Check, \r\n  CheckCheck, \r\n  Trash2, \r\n  Package,\r\n  ShoppingCart,\r\n  MessageCircle,\r\n  Star,\r\n  TrendingUp,\r\n  AlertTriangle,\r\n  Gift,\r\n  Truck,\r\n  FileText,\r\n  MoreVertical,\r\n  Shield,\r\n  Ban\r\n} from 'lucide-react';\r\nimport { useNotifications } from '../hooks/useNotifications';\r\nimport { useAuth } from '../hooks/useAuth';\r\nimport type { Notification } from '../../core/domain/entities/Notification';\r\nimport { formatRelativeTime } from '../../utils/dateUtils';\r\n\r\n// Funci√≥n para obtener el icono seg√∫n el tipo de notificaci√≥n\r\nconst getNotificationIcon = (type: string) => {\r\n  switch (type) {\r\n    case 'new_message':\r\n      return <MessageCircle className=\"text-blue-500\" size={20} />;\r\n    case 'order_status':\r\n      return <Package className=\"text-green-500\" size={20} />;\r\n    case 'shipping_update':\r\n      return <Truck className=\"text-purple-500\" size={20} />;\r\n    case 'product_update':\r\n      return <TrendingUp className=\"text-orange-500\" size={20} />;\r\n    case 'rating_received':\r\n    case 'seller_rated':\r\n      return <Star className=\"text-yellow-500\" size={20} />;\r\n    case 'new_order':\r\n      return <ShoppingCart className=\"text-green-600\" size={20} />;\r\n    case 'low_stock':\r\n      return <AlertTriangle className=\"text-red-500\" size={20} />;\r\n    case 'feedback_response':\r\n      return <FileText className=\"text-indigo-500\" size={20} />;\r\n    case 'promotion':\r\n    case 'discount':\r\n      return <Gift className=\"text-pink-500\" size={20} />;\r\n    case 'seller_strike':\r\n      return <Shield className=\"text-orange-500\" size={20} />;\r\n    case 'account_blocked':\r\n      return <Ban className=\"text-red-500\" size={20} />;\r\n    default:\r\n      return <Bell className=\"text-gray-500\" size={20} />;\r\n  }\r\n};\r\n\r\n// Funci√≥n para obtener el color de fondo seg√∫n el tipo\r\nconst getNotificationColor = (type: string) => {\r\n  switch (type) {\r\n    case 'new_message':\r\n      return 'bg-blue-50 border-blue-200';\r\n    case 'order_status':\r\n      return 'bg-green-50 border-green-200';\r\n    case 'shipping_update':\r\n      return 'bg-purple-50 border-purple-200';\r\n    case 'product_update':\r\n      return 'bg-orange-50 border-orange-200';\r\n    case 'rating_received':\r\n    case 'seller_rated':\r\n      return 'bg-yellow-50 border-yellow-200';\r\n    case 'new_order':\r\n      return 'bg-emerald-50 border-emerald-200';\r\n    case 'low_stock':\r\n      return 'bg-red-50 border-red-200';\r\n    case 'feedback_response':\r\n      return 'bg-indigo-50 border-indigo-200';\r\n    case 'promotion':\r\n    case 'discount':\r\n      return 'bg-pink-50 border-pink-200';\r\n    case 'seller_strike':\r\n      return 'bg-orange-50 border-orange-200';\r\n    case 'account_blocked':\r\n      return 'bg-red-50 border-red-200';\r\n    default:\r\n      return 'bg-gray-50 border-gray-200';\r\n  }\r\n};\r\n\r\n// Componente para el men√∫ de acciones de notificaci√≥n\r\ninterface NotificationActionsProps {\r\n  notification: Notification;\r\n  onMarkAsRead: (id: number) => void;\r\n  onDelete: (id: number) => void;\r\n  isOpen: boolean;\r\n  onToggle: () => void;\r\n}\r\n\r\nconst NotificationActions: React.FC<NotificationActionsProps> = ({\r\n  notification,\r\n  onMarkAsRead,\r\n  onDelete,\r\n  isOpen,\r\n  onToggle\r\n}) => {\r\n  return (\r\n    <div className=\"relative\">\r\n      <button\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n          onToggle();\r\n        }}\r\n        className=\"p-1 rounded-full hover:bg-gray-200 transition-colors\"\r\n      >\r\n        <MoreVertical size={16} className=\"text-gray-500\" />\r\n      </button>\r\n      \r\n      {isOpen && (\r\n        <div className=\"absolute right-0 top-8 bg-white rounded-lg shadow-lg border z-10 min-w-[150px]\">\r\n          {!notification.read && (\r\n            <button\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                onMarkAsRead(notification.id!);\r\n                onToggle();\r\n              }}\r\n              className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center\"\r\n            >\r\n              <Check size={14} className=\"mr-2\" />\r\n              Marcar como le√≠da\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onDelete(notification.id!);\r\n              onToggle();\r\n            }}\r\n            className=\"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center\"\r\n          >\r\n            <Trash2 size={14} className=\"mr-2\" />\r\n            Eliminar\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst NotificationPage: React.FC = () => {\r\n  const [filter, setFilter] = useState<'all' | 'unread'>('all');\r\n  const [activeMenu, setActiveMenu] = useState<number | null>(null);\r\n  const navigate = useNavigate();\r\n  const { isAuthenticated, roleInfo } = useAuth();\r\n  \r\n  const {\r\n    notifications,\r\n    loading,\r\n    error,\r\n    unreadCount,\r\n    hasMore,\r\n    currentPage,\r\n    totalNotifications,\r\n    fetchNotifications,\r\n    markAsRead,\r\n    markAllAsRead,\r\n    deleteNotification\r\n  } = useNotifications();\r\n\r\n  // Redirigir si no est√° autenticado\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      navigate('/login', { state: { from: '/notifications' } });\r\n    }\r\n  }, [isAuthenticated, navigate]);\r\n\r\n  // Cargar notificaciones iniciales\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      fetchNotifications(1, filter === 'unread');\r\n    }\r\n  }, [isAuthenticated, filter]);\r\n\r\n  useEffect(() => {\r\n    if (notifications.length > 0) {\r\n      console.log('üìä Notificaciones recibidas:', notifications.slice(0, 2));\r\n    }\r\n  }, [notifications]);\r\n\r\n  // CORRECCI√ìN: Funci√≥n mejorada para obtener URL correcta seg√∫n el rol del usuario\r\n  const getNotificationUrl = (notification: Notification): string | null => {\r\n    const { type, data } = notification;\r\n    \r\n    // Detectar si es seller y ajustar rutas\r\n    const isSeller = roleInfo.isSeller;\r\n    \r\n    console.log(`üîÄ Procesando notificaci√≥n tipo: ${type}, isSeller: ${isSeller}`, data);\r\n    \r\n    switch (type) {\r\n      case 'new_message':\r\n        if (data.chat_id) {\r\n          // CORRECCI√ìN: Redirigir a ruta correcta seg√∫n el rol\r\n          const chatUrl = isSeller \r\n            ? `/seller/messages/${data.chat_id}` \r\n            : `/chats/${data.chat_id}`;\r\n          console.log(`üìß Redirigiendo a chat: ${chatUrl}`);\r\n          return chatUrl;\r\n        }\r\n        // Fallback a p√°gina principal de mensajes\r\n        return isSeller ? '/seller/messages' : '/chats';\r\n        \r\n      case 'feedback_response':\r\n        return data.feedback_id ? `/feedback/${data.feedback_id}` : '/feedback';\r\n        \r\n      case 'order_status':\r\n        if (data.order_id) {\r\n          return isSeller \r\n            ? `/seller/orders/${data.order_id}` \r\n            : `/orders/${data.order_id}`;\r\n        }\r\n        return isSeller ? '/seller/orders' : '/orders';\r\n        \r\n      case 'product_update':\r\n        if (data.product_id) {\r\n          return isSeller \r\n            ? `/seller/products/edit/${data.product_id}` \r\n            : `/products/${data.product_id}`;\r\n        }\r\n        return isSeller ? '/seller/products' : null;\r\n        \r\n      case 'shipping_update':\r\n        if (data.tracking_number) {\r\n          return `/tracking/${data.tracking_number}`;\r\n        } else if (data.order_id) {\r\n          return isSeller \r\n            ? `/seller/orders/${data.order_id}` \r\n            : `/orders/${data.order_id}`;\r\n        }\r\n        return null;\r\n        \r\n      case 'rating_received':\r\n      case 'seller_rated':\r\n        if (data.rating_id) {\r\n          return `/ratings/${data.rating_id}`;\r\n        }\r\n        return isSeller ? '/seller/ratings' : '/profile';\r\n        \r\n      case 'new_order':\r\n        if (data.order_id) {\r\n          return isSeller ? `/seller/orders/${data.order_id}` : null;\r\n        }\r\n        return isSeller ? '/seller/orders' : null;\r\n        \r\n      case 'low_stock':\r\n        if (data.product_id) {\r\n          return isSeller ? `/seller/products/edit/${data.product_id}` : null;\r\n        }\r\n        return isSeller ? '/seller/products' : null;\r\n\r\n      // CORRECCI√ìN: Casos espec√≠ficos para strikes y bloqueos\r\n      case 'seller_strike':\r\n      case 'account_blocked':\r\n        return isSeller ? '/seller/profile' : '/profile';\r\n        \r\n      default:\r\n        console.log(`‚ùì Tipo de notificaci√≥n no reconocido: ${type}`);\r\n        return null;\r\n    }\r\n  };\r\n\r\n  // Manejar click en notificaci√≥n\r\n  const handleNotificationClick = async (notification: Notification) => {\r\n    console.log(`üñ±Ô∏è Click en notificaci√≥n ${notification.id} (tipo: ${notification.type})`);\r\n    \r\n    // Cerrar men√∫ de acciones si est√° abierto\r\n    setActiveMenu(null);\r\n    \r\n    // Marcar como le√≠da si no lo est√°\r\n    if (!notification.read) {\r\n      await markAsRead(notification.id!);\r\n    }\r\n    \r\n    // Obtener URL de destino\r\n    const url = getNotificationUrl(notification);\r\n    if (url) {\r\n      console.log(`üîÄ Navegando a: ${url} (usuario ${roleInfo.isSeller ? 'seller' : 'normal'})`);\r\n      navigate(url);\r\n    } else {\r\n      console.log('‚ö†Ô∏è No hay URL de destino para esta notificaci√≥n');\r\n    }\r\n  };\r\n\r\n  // Manejar eliminaci√≥n de notificaci√≥n\r\n  const handleDelete = async (id: number) => {\r\n    await deleteNotification(id);\r\n  };\r\n\r\n  // Manejar marcar como le√≠da\r\n  const handleMarkAsRead = async (id: number) => {\r\n    await markAsRead(id);\r\n  };\r\n\r\n  // Manejar marcar todas como le√≠das\r\n  const handleMarkAllAsRead = async () => {\r\n    await markAllAsRead();\r\n  };\r\n\r\n  // Cargar m√°s notificaciones\r\n  const loadMore = () => {\r\n    if (hasMore && !loading) {\r\n      fetchNotifications(currentPage + 1, filter === 'unread');\r\n    }\r\n  };\r\n\r\n  // Cambiar filtro\r\n  const handleFilterChange = (newFilter: 'all' | 'unread') => {\r\n    setFilter(newFilter);\r\n    setActiveMenu(null);\r\n  };\r\n\r\n  if (!isAuthenticated) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 lg:px-8 py-10 max-w-4xl\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Notificaciones</h1>\r\n          <p className=\"text-gray-600 mt-1\">\r\n            {totalNotifications > 0 && (\r\n              <>\r\n                {totalNotifications} {totalNotifications === 1 ? 'notificaci√≥n' : 'notificaciones'}\r\n                {unreadCount > 0 && (\r\n                  <span className=\"text-primary-600 font-medium\">\r\n                    , {unreadCount} sin leer\r\n                  </span>\r\n                )}\r\n              </>\r\n            )}\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex items-center space-x-3\">\r\n          {/* Filtros */}\r\n          <div className=\"flex items-center space-x-2 bg-gray-100 rounded-lg p-1\">\r\n            <button\r\n              onClick={() => handleFilterChange('all')}\r\n              className={`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${\r\n                filter === 'all'\r\n                  ? 'bg-white text-gray-900 shadow-sm'\r\n                  : 'text-gray-600 hover:text-gray-900'\r\n              }`}\r\n            >\r\n              Todas\r\n            </button>\r\n            <button\r\n              onClick={() => handleFilterChange('unread')}\r\n              className={`px-3 py-1.5 text-sm font-medium rounded-md transition-colors relative ${\r\n                filter === 'unread'\r\n                  ? 'bg-white text-gray-900 shadow-sm'\r\n                  : 'text-gray-600 hover:text-gray-900'\r\n              }`}\r\n            >\r\n              No le√≠das\r\n              {unreadCount > 0 && (\r\n                <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\">\r\n                  {unreadCount > 99 ? '99' : unreadCount}\r\n                </span>\r\n              )}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Marcar todas como le√≠das */}\r\n          {unreadCount > 0 && (\r\n            <button\r\n              onClick={handleMarkAllAsRead}\r\n              disabled={loading}\r\n              className=\"px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 flex items-center\"\r\n            >\r\n              <CheckCheck size={16} className=\"mr-2\" />\r\n              Marcar todas\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Error */}\r\n      {error && (\r\n        <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6\">\r\n          {error}\r\n          <button \r\n            className=\"ml-2 underline\" \r\n            onClick={() => fetchNotifications(1, filter === 'unread')}\r\n          >\r\n            Reintentar\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Loading inicial */}\r\n      {loading && notifications.length === 0 ? (\r\n        <div className=\"flex justify-center items-center h-64\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"></div>\r\n        </div>\r\n      ) : notifications.length === 0 ? (\r\n        /* Estado vac√≠o */\r\n        <div className=\"text-center py-20 bg-gradient-to-b from-gray-50 to-white rounded-xl shadow-md\">\r\n          <Bell className=\"mx-auto h-16 w-16 text-gray-300 mb-6\" />\r\n          <h2 className=\"text-2xl font-semibold text-gray-700 mb-3\">\r\n            {filter === 'unread' ? 'No tienes notificaciones sin leer' : 'No tienes notificaciones'}\r\n          </h2>\r\n          <p className=\"text-gray-500 mb-8 max-w-md mx-auto\">\r\n            {filter === 'unread' \r\n              ? 'Todas tus notificaciones est√°n al d√≠a. Te avisaremos cuando tengas algo nuevo.'\r\n              : 'Cuando tengas actualizaciones importantes, aparecer√°n aqu√≠.'\r\n            }\r\n          </p>\r\n          {filter === 'unread' && (\r\n            <button\r\n              onClick={() => handleFilterChange('all')}\r\n              className=\"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 shadow-sm hover:shadow transition-all\"\r\n            >\r\n              Ver todas las notificaciones\r\n            </button>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        /* Lista de notificaciones */\r\n        <div className=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n          {notifications.map((notification, index) => (\r\n            <div\r\n              key={notification.id}\r\n              onClick={() => handleNotificationClick(notification)}\r\n              className={`\r\n                relative border-l-4 cursor-pointer transition-all duration-200 hover:shadow-sm\r\n                ${!notification.read \r\n                  ? 'bg-blue-50 border-l-primary-500 hover:bg-blue-100' \r\n                  : 'bg-white border-l-gray-200 hover:bg-gray-50'\r\n                }\r\n                ${index !== notifications.length - 1 ? 'border-b border-gray-100' : ''}\r\n              `}\r\n            >\r\n              <div className=\"p-6\">\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex items-start space-x-4 flex-1\">\r\n                    {/* Icono */}\r\n                    <div className={`\r\n                      flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center\r\n                      ${getNotificationColor(notification.type)}\r\n                    `}>\r\n                      {getNotificationIcon(notification.type)}\r\n                    </div>\r\n\r\n                    {/* Contenido */}\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex items-center space-x-2 mb-1\">\r\n                        <h3 className={`text-base font-medium ${\r\n                          !notification.read ? 'text-gray-900' : 'text-gray-700'\r\n                        }`}>\r\n                          {notification.title}\r\n                        </h3>\r\n                        {!notification.read && (\r\n                          <div className=\"w-2 h-2 bg-primary-500 rounded-full\"></div>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <p className={`text-sm ${\r\n                        !notification.read ? 'text-gray-700' : 'text-gray-600'\r\n                      } mb-2`}>\r\n                        {notification.message}\r\n                      </p>\r\n                      \r\n                      <div className=\"flex items-center text-xs text-gray-500\">\r\n                        <span>{formatRelativeTime(notification.createdAt)}</span>\r\n                        {notification.readAt && (\r\n                          <span className=\"ml-2 flex items-center\">\r\n                            <Check size={12} className=\"mr-1\" />\r\n                            Le√≠da el {formatRelativeTime(notification.readAt)}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Men√∫ de acciones */}\r\n                  <NotificationActions\r\n                    notification={notification}\r\n                    onMarkAsRead={handleMarkAsRead}\r\n                    onDelete={handleDelete}\r\n                    isOpen={activeMenu === notification.id}\r\n                    onToggle={() => setActiveMenu(\r\n                      activeMenu === notification.id ? null : notification.id!\r\n                    )}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          {/* Bot√≥n cargar m√°s */}\r\n          {hasMore && (\r\n            <div className=\"p-6 bg-gray-50 border-t\">\r\n              <button\r\n                onClick={loadMore}\r\n                disabled={loading}\r\n                className=\"w-full px-4 py-3 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 font-medium\"\r\n              >\r\n                {loading ? (\r\n                  <div className=\"flex items-center justify-center\">\r\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-gray-400 mr-2\"></div>\r\n                    Cargando...\r\n                  </div>\r\n                ) : (\r\n                  'Cargar m√°s notificaciones'\r\n                )}\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Click outside para cerrar men√∫s */}\r\n      {activeMenu !== null && (\r\n        <div \r\n          className=\"fixed inset-0 z-0\" \r\n          onClick={() => setActiveMenu(null)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationPage;"],"names":["__iconNode","MessageCircle","createLucideIcon","getNotificationIcon","type","jsx","Package","Truck","TrendingUp","Star","ShoppingCart","AlertTriangle","FileText","Gift","Shield","Ban","Bell","getNotificationColor","NotificationActions","notification","onMarkAsRead","onDelete","isOpen","onToggle","jsxs","e","MoreVertical","Check","Trash2","NotificationPage","filter","setFilter","useState","activeMenu","setActiveMenu","navigate","useNavigate","isAuthenticated","roleInfo","useAuth","notifications","loading","error","unreadCount","hasMore","currentPage","totalNotifications","fetchNotifications","markAsRead","markAllAsRead","deleteNotification","useNotifications","useEffect","getNotificationUrl","data","isSeller","chatUrl","handleNotificationClick","url","handleDelete","id","handleMarkAsRead","handleMarkAllAsRead","loadMore","handleFilterChange","newFilter","Fragment","CheckCheck","index","formatRelativeTime"],"mappings":"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","x_google_ignoreList":[0]}