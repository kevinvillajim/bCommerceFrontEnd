{"version":3,"file":"AdminLayout-CCmgiq16.js","sources":["../../src/presentation/layouts/groups/adminGroups.tsx","../../src/presentation/hooks/useAdminNotifications.ts","../../src/presentation/layouts/AdminLayout.tsx"],"sourcesContent":["import {\r\n\tUsers,\r\n\tPackage,\r\n\tShoppingBag,\r\n\tTag,\r\n\tFileText,\r\n\tStar,\r\n\tSettings,\r\n\tBarChart2,\r\n\tDollarSign,\r\n\tMessageSquare,\r\n\tAlertTriangle,\r\n\tTruck,\r\n\tBriefcase,\r\n\tClipboardList,\r\n\tCreditCard,\r\n\tMinus,\r\n} from \"lucide-react\";\r\n\r\ninterface adminGroups {\r\n\tgroups: {\r\n\t\ttitle: string;\r\n\t\tlinks: {\r\n\t\t\tpath: string;\r\n\t\t\tlabel: string;\r\n\t\t\ticon?: React.ReactNode;\r\n\t\t\tisNotificated?: boolean;\r\n\t\t\tnotificationCount?: number;\r\n\t\t}[];\r\n    }[];\r\n    title: {\r\n        title: string;\r\n        icon: React.ReactNode;\r\n    }\r\n}\r\n\r\nconst adminGroups = [\r\n\t{\r\n\t\ttitle: \"Principal\",\r\n\t\tlinks: [\r\n\t\t\t{\r\n\t\t\t\tpath: \"/admin/dashboard\",\r\n\t\t\t\tlabel: \"Dashboard\",\r\n\t\t\t\ticon: <BarChart2 className=\"w-5 h-5 mr-3\" />,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\ttitle: \"Gestión de Usuario\",\r\n\t\tlinks: [\r\n\t\t\t{\r\n\t\t\t\tpath: \"/admin/users\",\r\n\t\t\t\tlabel: \"Usuarios\",\r\n\t\t\t\ticon: <Users className=\"w-5 h-5 mr-3\" />,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/admin/sellers\",\r\n\t\t\t\tlabel: \"Vendedores\",\r\n\t\t\t\ticon: <Briefcase className=\"w-5 h-5 mr-3\" />,\r\n\t\t\t\tisNotificated: false,\r\n\t\t\t\tnotificationCount: 0,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/admin/solicitudes\",\r\n\t\t\t\tlabel: \"Solicitudes\",\r\n\t\t\t\ticon: <ClipboardList className=\"w-5 h-5 mr-3\" />,\r\n\t\t\t\tisNotificated: false,\r\n\t\t\t\tnotificationCount: 0,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\ttitle: \"Productos\",\r\n\t\tlinks: [\r\n\t\t\t{\r\n\t\t\t\tpath: \"/admin/products\",\r\n\t\t\t\tlabel: \"Productos\",\r\n\t\t\t\ticon: <Package className=\"w-5 h-5 mr-3\" />,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/admin/categories\",\r\n\t\t\t\tlabel: \"Categorías\",\r\n\t\t\t\ticon: <Tag className=\"w-5 h-5 mr-3\" />,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\ttitle: \"Pedidos\",\r\n\t\tlinks: [\r\n\t\t\t{\r\n\t\t\t\tpath: \"/admin/orders\",\r\n\t\t\t\tlabel: \"Pedidos\",\r\n\t\t\t\ticon: <ShoppingBag className=\"w-5 h-5 mr-3\" />,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/admin/shipping\",\r\n\t\t\t\tlabel: \"Envíos\",\r\n\t\t\t\ticon: <Truck className=\"w-5 h-5 mr-3\" />,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\ttitle: \"Contenido\",\r\n\t\tlinks: [\r\n\t\t\t{\r\n\t\t\t\tpath: \"/admin/ratings\",\r\n\t\t\t\tlabel: \"Valoraciones y Reseñas\",\r\n\t\t\t\ticon: <Star className=\"w-5 h-5 mr-3\" />,\r\n\t\t\t\tisNotificated: false,\r\n\t\t\t\tnotificationCount: 10,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/admin/feedback\",\r\n\t\t\t\tlabel: \"Feedback y Comentarios\",\r\n\t\t\t\ticon: <MessageSquare className=\"w-5 h-5 mr-3\" />,\r\n\t\t\t\tisNotificated: true,\r\n\t\t\t\tnotificationCount: 5,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/admin/discounts\",\r\n\t\t\t\tlabel: \"Descuentos\",\r\n\t\t\t\ticon: <DollarSign className=\"w-5 h-5 mr-3\" />,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\ttitle: \"Finanzas\",\r\n\t\tlinks: [\r\n\t\t\t{\r\n\t\t\t\tpath: \"/admin/invoices\",\r\n\t\t\t\tlabel: \"Facturas\",\r\n\t\t\t\ticon: <FileText className=\"w-5 h-5 mr-3\" />,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/admin/credit-notes\",\r\n\t\t\t\tlabel: \"Notas de Crédito\",\r\n\t\t\t\ticon: <Minus className=\"w-5 h-5 mr-3\" />,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/admin/accounting\",\r\n\t\t\t\tlabel: \"Contabilidad\",\r\n\t\t\t\ticon: <DollarSign className=\"w-5 h-5 mr-3\" />,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/admin/external-payments\",\r\n\t\t\t\tlabel: \"Pagos Externos\",\r\n\t\t\t\ticon: <CreditCard className=\"w-5 h-5 mr-3\" />,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\ttitle: \"Sistema\",\r\n\t\tlinks: [\r\n\t\t\t{\r\n\t\t\t\tpath: \"/admin/settings\",\r\n\t\t\t\tlabel: \"Configuración\",\r\n\t\t\t\ticon: <Settings className=\"w-5 h-5 mr-3\" />,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/admin/logs\",\r\n\t\t\t\tlabel: \"Registros de Errores\",\r\n\t\t\t\ticon: <AlertTriangle className=\"w-5 h-5 mr-3\" />,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n];\r\n\r\nexport default adminGroups;","import { useEffect, useCallback, useMemo, useRef } from \"react\";\r\nimport { useAuth } from \"./useAuth\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useNotifications } from \"./useNotifications\";\r\n\r\ninterface AdminNotificationCounts {\r\n  users: number;\r\n  sellers: number;\r\n  solicitudes: number;  // Solicitudes de vendedor\r\n  orders: number;\r\n  shipping: number;\r\n  ratings: number;\r\n  feedback: number;\r\n  logs: number;\r\n  invoices: number;\r\n}\r\n\r\ninterface UseAdminNotificationsReturn {\r\n  counts: AdminNotificationCounts;\r\n  loading: boolean;\r\n  error: string | null;\r\n  refetch: () => Promise<void>;\r\n  markSectionAsRead: (section: keyof AdminNotificationCounts) => Promise<void>;\r\n}\r\n\r\nconst SECTION_PATHS = {\r\n  users: '/admin/users',\r\n  sellers: '/admin/sellers',\r\n  solicitudes: '/admin/solicitudes',\r\n  orders: '/admin/orders',\r\n  shipping: '/admin/shipping',\r\n  ratings: '/admin/ratings',\r\n  feedback: '/admin/feedback',\r\n  logs: '/admin/logs',\r\n  invoices: '/admin/invoices'\r\n};\r\n\r\n// Mapeo de tipos de notificación de admin a secciones\r\nconst NOTIFICATION_TYPE_TO_SECTION: Record<string, keyof AdminNotificationCounts> = {\r\n  // Usuarios y vendedores\r\n  'user_registered': 'users',\r\n  'user_blocked': 'users',\r\n  'user_reported': 'users',\r\n  'seller_application': 'solicitudes',\r\n  'seller_approved': 'sellers',\r\n  'seller_suspended': 'sellers',\r\n  'seller_issue': 'sellers',\r\n  \r\n  // Pedidos y envíos\r\n  'order_created': 'orders',\r\n  'order_cancelled': 'orders',\r\n  'order_refund': 'orders',\r\n  'payment_issue': 'orders',\r\n  'shipping_problem': 'shipping',\r\n  'delivery_issue': 'shipping',\r\n  \r\n  // Contenido y moderación\r\n  'rating_reported': 'ratings',\r\n  'rating_flagged': 'ratings',\r\n  'content_violation': 'ratings',\r\n  'feedback_submitted': 'feedback',\r\n  'complaint_received': 'feedback',\r\n  'feedback_flagged': 'feedback',\r\n  \r\n  // Sistema\r\n  'system_error': 'logs',\r\n  'critical_error': 'logs',\r\n  'security_alert': 'logs',\r\n  'payment_failed': 'invoices',\r\n  'invoice_overdue': 'invoices',\r\n};\r\n\r\nexport const useAdminNotifications = (): UseAdminNotificationsReturn => {\r\n  const { isAuthenticated, roleInfo } = useAuth();\r\n  const location = useLocation();\r\n  \r\n  // Usar el hook de notificaciones existente\r\n  const {\r\n    notifications,\r\n    loading,\r\n    error,\r\n    fetchNotifications,\r\n    markAsRead,\r\n  } = useNotifications();\r\n\r\n  // Calcular contadores basados en notificaciones no leídas\r\n  const counts = useMemo(() => {\r\n    if (!isAuthenticated || !roleInfo.isAdmin || !notifications.length) {\r\n      return { \r\n        users: 0, \r\n        sellers: 0, \r\n        solicitudes: 0, \r\n        orders: 0, \r\n        shipping: 0, \r\n        ratings: 0, \r\n        feedback: 0, \r\n        logs: 0, \r\n        invoices: 0 \r\n      };\r\n    }\r\n\r\n    const sectionCounts = {\r\n      users: 0,\r\n      sellers: 0,\r\n      solicitudes: 0,\r\n      orders: 0,\r\n      shipping: 0,\r\n      ratings: 0,\r\n      feedback: 0,\r\n      logs: 0,\r\n      invoices: 0,\r\n    };\r\n\r\n    // Contar notificaciones no leídas por sección\r\n    notifications\r\n      .filter(notification => !notification.read) // Solo las no leídas\r\n      .forEach(notification => {\r\n        const section = NOTIFICATION_TYPE_TO_SECTION[notification.type];\r\n        if (section) {\r\n          sectionCounts[section]++;\r\n        }\r\n      });\r\n\r\n    return sectionCounts;\r\n  }, [notifications, isAuthenticated, roleInfo.isAdmin]);\r\n\r\n  // Marcar notificaciones de una sección como leídas\r\n  const markSectionAsRead = useCallback(async (section: keyof AdminNotificationCounts) => {\r\n    if (!isAuthenticated || !roleInfo.isAdmin) return;\r\n\r\n    try {\r\n      // Encontrar todas las notificaciones no leídas de esta sección\r\n      const sectionNotifications = notifications\r\n        .filter(notification => \r\n          !notification.read && \r\n          NOTIFICATION_TYPE_TO_SECTION[notification.type] === section\r\n        );\r\n      \r\n      // Marcar cada una como leída\r\n      for (const notification of sectionNotifications) {\r\n        await markAsRead(notification.id!);\r\n      }\r\n      \r\n    } catch (err: any) {\r\n      console.error(`Error marking ${section} notifications as read:`, err);\r\n    }\r\n  }, [isAuthenticated, roleInfo.isAdmin, notifications, markAsRead]);\r\n\r\n  // Refs para evitar bucles infinitos\r\n  const countsRef = useRef(counts);\r\n  const markSectionAsReadRef = useRef(markSectionAsRead);\r\n\r\n  // Actualizar refs\r\n  countsRef.current = counts;\r\n  markSectionAsReadRef.current = markSectionAsRead;\r\n\r\n  // Detectar cambios de ruta y marcar como leídas automáticamente\r\n  useEffect(() => {\r\n    const currentPath = location.pathname;\r\n    \r\n    // Verificar si estamos en alguna de las secciones de admin\r\n    for (const [section, path] of Object.entries(SECTION_PATHS)) {\r\n      if (currentPath.startsWith(path)) {\r\n        const sectionKey = section as keyof AdminNotificationCounts;\r\n        // Solo marcar si hay notificaciones no leídas en esa sección\r\n        if (countsRef.current[sectionKey] > 0) {\r\n          markSectionAsReadRef.current(sectionKey);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n  }, [location.pathname]);\r\n\r\n  // Cargar notificaciones al montar el componente\r\n  useEffect(() => {\r\n    if (isAuthenticated && roleInfo.isAdmin) {\r\n      fetchNotifications(1, false); // Cargar todas las notificaciones\r\n    }\r\n  }, [isAuthenticated, roleInfo.isAdmin, fetchNotifications]);\r\n\r\n  const refetch = useCallback(async () => {\r\n    if (isAuthenticated && roleInfo.isAdmin) {\r\n      await fetchNotifications(1, false);\r\n    }\r\n  }, [isAuthenticated, roleInfo.isAdmin, fetchNotifications]);\r\n\r\n  return {\r\n    counts,\r\n    loading,\r\n    error,\r\n    refetch,\r\n    markSectionAsRead,\r\n  };\r\n};","import React, { useMemo } from \"react\";\r\nimport type { ReactNode } from \"react\";\r\nimport { Shield, AlertTriangle } from \"lucide-react\";\r\nimport { DashboardProvider } from \"../components/dashboard/DashboardContext\";\r\nimport BaseDashboardLayout from \"../components/dashboard/BaseDashboardLayout\";\r\nimport adminGroups from \"./groups/adminGroups\";\r\nimport { useAdminNotifications } from \"../hooks/useAdminNotifications\";\r\n\r\n/**\r\n * Componente de Layout para el Panel de Administración\r\n */\r\nconst AdminLayout: React.FC = () => {\r\n\t// Hook para obtener contadores de notificaciones automáticas\r\n\tconst { counts } = useAdminNotifications();\r\n\r\n\t// Títulos dinámicos basados en rutas\r\n\tconst pageTitles: {[key: string]: string} = {\r\n\t\t\"/admin/dashboard\": \"Dashboard\",\r\n\t\t\"/admin/users\": \"Gestión de Usuarios\",\r\n\t\t\"/admin/sellers\": \"Gestión de Vendedores\",\r\n\t\t\"/admin/solicitudes\": \"Solicitudes de Vendedor\",\r\n\t\t\"/admin/products\": \"Gestión de Productos\",\r\n\t\t\"/admin/categories\": \"Gestión de Categorías\",\r\n\t\t\"/admin/orders\": \"Gestión de Pedidos\",\r\n\t\t\"/admin/ratings\": \"Moderación de Valoraciones y Reseñas\",\r\n\t\t\"/admin/feedback\": \"Gestión de Comentarios\",\r\n\t\t\"/admin/discounts\": \"Códigos de Descuento\",\r\n\t\t\"/admin/invoices\": \"Facturas\",\r\n\t\t\"/admin/credit-notes\": \"Notas de Crédito\",\r\n\t\t\"/admin/accounting\": \"Contabilidad\",\r\n\t\t\"/admin/external-payments\": \"Pagos Externos\",\r\n\t\t\"/admin/settings\": \"Configuración del Sistema\",\r\n\t\t\"/admin/logs\": \"Registro de Errores\",\r\n\t};\r\n\r\n\t// Título del sidebar\r\n\tconst sidebarTitle = {\r\n\t\ttitle: \"Panel de Administración (Admin)\",\r\n\t\ticon: <Shield className=\"w-7 h-7 text-primary-400\" />,\r\n\t};\r\n\r\n\t// Grupos del sidebar con contadores dinámicos\r\n\tconst dynamicAdminGroups = useMemo(() => {\r\n\t\treturn adminGroups.map(group => ({\r\n\t\t\t...group,\r\n\t\t\tlinks: group.links.map(link => {\r\n\t\t\t\tlet notificationCount = 0;\r\n\t\t\t\t\r\n\t\t\t\t// Asignar contadores según la ruta\r\n\t\t\t\tswitch (link.path) {\r\n\t\t\t\t\tcase \"/admin/users\":\r\n\t\t\t\t\t\tnotificationCount = counts.users;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"/admin/sellers\":\r\n\t\t\t\t\t\tnotificationCount = counts.sellers;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"/admin/solicitudes\":\r\n\t\t\t\t\t\tnotificationCount = counts.solicitudes;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"/admin/orders\":\r\n\t\t\t\t\t\tnotificationCount = counts.orders;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"/admin/shipping\":\r\n\t\t\t\t\t\tnotificationCount = counts.shipping;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"/admin/ratings\":\r\n\t\t\t\t\t\tnotificationCount = counts.ratings;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"/admin/feedback\":\r\n\t\t\t\t\t\tnotificationCount = counts.feedback;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"/admin/logs\":\r\n\t\t\t\t\t\tnotificationCount = counts.logs;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"/admin/invoices\":\r\n\t\t\t\t\t\tnotificationCount = counts.invoices;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tnotificationCount = (link as any).notificationCount || 0;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...link,\r\n\t\t\t\t\tnotificationCount,\r\n\t\t\t\t\tisNotificated: notificationCount > 0\r\n\t\t\t\t};\r\n\t\t\t})\r\n\t\t}));\r\n\t}, [counts]);\r\n\r\n\t// Componente de alertas del sistema para mostrar en el header\r\n\tconst SystemAlertsHeader = (): ReactNode => {\r\n\t\t// Calcular total de notificaciones críticas\r\n\t\tconst totalCritical = counts.logs + counts.feedback + counts.solicitudes;\r\n\t\tconst totalModerate = counts.ratings + counts.orders + counts.invoices;\r\n\t\tconst totalNotifications = Object.values(counts).reduce((sum, count) => sum + count, 0);\r\n\r\n\t\tif (totalNotifications === 0) return null;\r\n\r\n\t\t// Determinar nivel de alerta\r\n\t\tconst isHighPriority = totalCritical > 0;\r\n\t\tconst alertClass = isHighPriority \r\n\t\t\t? \"bg-red-50 border-b border-red-200\" \r\n\t\t\t: \"bg-amber-50 border-b border-amber-200\";\r\n\t\tconst iconClass = isHighPriority ? \"text-red-500\" : \"text-amber-500\";\r\n\t\tconst textClass = isHighPriority ? \"text-red-800\" : \"text-amber-800\";\r\n\r\n\t\treturn (\r\n\t\t\t<div className={alertClass + \" px-4 py-2\"}>\r\n\t\t\t\t<div className=\"flex items-center\">\r\n\t\t\t\t\t<AlertTriangle className={`h-5 w-5 ${iconClass} mr-2`} />\r\n\t\t\t\t\t<span className={`text-sm ${textClass}`}>\r\n\t\t\t\t\t\t{isHighPriority ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<strong>¡Atención!</strong> Tienes {totalCritical} notificación{totalCritical !== 1 ? 'es' : ''} crítica{totalCritical !== 1 ? 's' : ''} \r\n\t\t\t\t\t\t\t\t{totalModerate > 0 && ` y ${totalModerate} adicionales`} pendientes.\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\tTienes <strong>{totalNotifications}</strong> notificación{totalNotifications !== 1 ? 'es' : ''} \r\n\t\t\t\t\t\t\t\tpendiente{totalNotifications !== 1 ? 's' : ''} en el panel de administración.\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<DashboardProvider initialType=\"admin\" initialPageTitles={pageTitles}>\r\n\t\t\t<BaseDashboardLayout\r\n\t\t\t\tsidebarGroups={dynamicAdminGroups}\r\n\t\t\t\tsidebarTitle={sidebarTitle}\r\n\t\t\t\theaderExtras={<SystemAlertsHeader />}\r\n\t\t\t/>\r\n\t\t</DashboardProvider>\r\n\t);\r\n};\r\n\r\nexport default AdminLayout;\r\n"],"names":["adminGroups","jsx","BarChart2","Users","Briefcase","ClipboardList","Package","Tag","ShoppingBag","Truck","Star","MessageSquare","DollarSign","FileText","Minus","CreditCard","Settings","AlertTriangle","SECTION_PATHS","NOTIFICATION_TYPE_TO_SECTION","useAdminNotifications","isAuthenticated","roleInfo","useAuth","location","useLocation","notifications","loading","error","fetchNotifications","markAsRead","useNotifications","counts","useMemo","sectionCounts","notification","section","markSectionAsRead","useCallback","sectionNotifications","err","countsRef","useRef","markSectionAsReadRef","useEffect","currentPath","path","sectionKey","refetch","AdminLayout","pageTitles","sidebarTitle","Shield","dynamicAdminGroups","group","link","notificationCount","SystemAlertsHeader","totalCritical","totalModerate","totalNotifications","sum","count","isHighPriority","alertClass","iconClass","textClass","jsxs","Fragment","DashboardProvider","BaseDashboardLayout"],"mappings":"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"}