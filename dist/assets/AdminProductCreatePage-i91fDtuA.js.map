{"version":3,"file":"AdminProductCreatePage-i91fDtuA.js","sources":["../../src/presentation/pages/admin/AdminProductCreatePage.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  Save,\r\n  X,\r\n  Upload,\r\n  Plus,\r\n  Trash2,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  Palette,\r\n  Ruler,\r\n  Tag,\r\n  DollarSign,\r\n  PackageOpen,\r\n  FileText,\r\n  Image,\r\n  Store,\r\n  AlertTriangle,\r\n  User\r\n} from \"lucide-react\";\r\nimport {useAdminProducts} from \"../../hooks/useAdminProducts\";\r\nimport useCategoriesSelect from \"../../hooks/useCategoriesSelect\";\r\nimport ApiClient from \"../../../infrastructure/api/apiClient\";\r\n\r\ninterface Seller {\r\n\tid: number;\r\n\tname: string;\r\n\tstore_name?: string;\r\n\tuser_id: number;\r\n\tstatus: string;\r\n}\r\n\r\nconst AdminProductCreatePage: React.FC = () => {\r\n\tconst navigate = useNavigate();\r\n\tconst [saving, setSaving] = useState(false);\r\n\tconst [sellers, setSellers] = useState<Seller[]>([]);\r\n\tconst [loadingSellers, setLoadingSellers] = useState(true);\r\n\tconst {createProduct} = useAdminProducts();\r\n\tconst {\r\n\t\tparentCategoryOptions,\r\n\t\tsubcategoryOptions,\r\n\t\tsetSelectedParentId,\r\n\t\tloading: loadingCategories,\r\n\t} = useCategoriesSelect();\r\n\r\n\t// Estados para controlar las secciones expandidas\r\n\tconst [expandedSections, setExpandedSections] = useState({\r\n\t\tseller: true, // ✅ Nueva sección para admin\r\n\t\tbasic: true,\r\n\t\tpricing: true,\r\n\t\tcategorization: true,\r\n\t\tphysical: false,\r\n\t\tvariations: false,\r\n\t\tmedia: true,\r\n\t\tseo: false,\r\n\t\tadvanced: false,\r\n\t});\r\n\r\n\t// Estado del formulario con todos los campos posibles + sellerId\r\n\tconst [formData, setFormData] = useState({\r\n\t\t// ✅ NUEVO: Selector de vendedor para admin\r\n\t\tsellerId: \"\",\r\n\r\n\t\t// Información básica (requerida)\r\n\t\tname: \"\",\r\n\t\tdescription: \"\",\r\n\t\tshort_description: \"\",\r\n\r\n\t\t// Categorización\r\n\t\tparentCategory: \"\",\r\n\t\tcategory: \"\",\r\n\t\ttags: [] as string[],\r\n\t\tcurrentTag: \"\",\r\n\r\n\t\t// Precios y stock\r\n\t\tprice: \"\",\r\n\t\tstock: \"\",\r\n\t\tdiscount_percentage: \"\",\r\n\r\n\t\t// Características físicas\r\n\t\tweight: \"\",\r\n\t\twidth: \"\",\r\n\t\theight: \"\",\r\n\t\tdepth: \"\",\r\n\t\tdimensions: \"\",\r\n\r\n\t\t// Variaciones\r\n\t\tcolors: [] as string[],\r\n\t\tcurrentColor: \"\",\r\n\t\tsizes: [] as string[],\r\n\t\tcurrentSize: \"\",\r\n\r\n\t\t// Atributos personalizados\r\n\t\tattributes: [] as Array<{key: string; value: string}>,\r\n\t\tcurrentAttributeKey: \"\",\r\n\t\tcurrentAttributeValue: \"\",\r\n\r\n\t\t// Multimedia\r\n\t\timages: [] as File[],\r\n\t\tpreviewImages: [] as string[],\r\n\r\n\t\t// Configuración avanzada\r\n\t\tstatus: \"active\",\r\n\t\tfeatured: false,\r\n\t\tpublished: true,\r\n\t});\r\n\r\n\t// Validación de campos requeridos (incluye sellerId para admin)\r\n\tconst requiredFields = [\"sellerId\", \"name\", \"description\", \"price\", \"stock\", \"category\"];\r\n\tconst [validationErrors, setValidationErrors] = useState<\r\n\t\tRecord<string, string>\r\n\t>({});\r\n\r\n\t// ✅ Cargar vendedores disponibles\r\n\tuseEffect(() => {\r\n\t\tconst loadSellers = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tsetLoadingSellers(true);\r\n\t\t\t\tconst response = await ApiClient.get('/admin/sellers-simple');\r\n\t\t\t\tconsole.log('Sellers API response:', response); // Debug log\r\n\t\t\t\t\r\n\t\t\t\t// Manejo flexible de la respuesta\r\n\t\t\t\tif ((response as any)?.data) {\r\n\t\t\t\t\tconst sellersData = (response as any).data?.data || (response as any).data;\r\n\t\t\t\t\tconsole.log('Processed sellers data:', sellersData); // Debug log\r\n\t\t\t\t\tsetSellers(Array.isArray(sellersData) ? sellersData : []);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error('No data in sellers response:', response);\r\n\t\t\t\t\tsetSellers([]);\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error loading sellers:', error);\r\n\t\t\t\tsetSellers([]);\r\n\t\t\t} finally {\r\n\t\t\t\tsetLoadingSellers(false);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tloadSellers();\r\n\t}, []);\r\n\r\n\t// Toggle para expandir/colapsar secciones\r\n\tconst toggleSection = (section: keyof typeof expandedSections) => {\r\n\t\tsetExpandedSections((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\t[section]: !prev[section],\r\n\t\t}));\r\n\t};\r\n\r\n\t// Handle input changes para campos simples\r\n\tconst handleInputChange = (\r\n\t\te: React.ChangeEvent<\r\n\t\t\tHTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\r\n\t\t>\r\n\t) => {\r\n\t\tconst {name, value, type} = e.target;\r\n\r\n\t\t// Manejar checkboxes\r\n\t\tif (type === \"checkbox\") {\r\n\t\t\tconst checked = (e.target as HTMLInputElement).checked;\r\n\t\t\tsetFormData((prev) => ({...prev, [name]: checked}));\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetFormData((prev) => ({...prev, [name]: value}));\r\n\r\n\t\t// Si cambia la categoría padre, actualizar el estado para el filtrado de subcategorías\r\n\t\tif (name === \"parentCategory\" && value) {\r\n\t\t\tsetSelectedParentId(parseInt(value));\r\n\t\t\t// Resetear la selección de subcategoría\r\n\t\t\tsetFormData((prev) => ({...prev, category: \"\"}));\r\n\t\t}\r\n\r\n\t\t// Limpiar errores de validación al cambiar un campo\r\n\t\tif (validationErrors[name]) {\r\n\t\t\tsetValidationErrors((prev) => {\r\n\t\t\t\tconst newErrors = {...prev};\r\n\t\t\t\tdelete newErrors[name];\r\n\t\t\t\treturn newErrors;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t// Handle image upload\r\n\tconst handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\tif (e.target.files && e.target.files.length > 0) {\r\n\t\t\tconst newImages = Array.from(e.target.files);\r\n\t\t\tconst newPreviews = newImages.map((file) => URL.createObjectURL(file));\r\n\r\n\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\timages: [...prev.images, ...newImages],\r\n\t\t\t\tpreviewImages: [...prev.previewImages, ...newPreviews],\r\n\t\t\t}));\r\n\t\t}\r\n\t};\r\n\r\n\t// Remove image\r\n\tconst removeImage = (index: number) => {\r\n\t\tconst newImages = [...formData.images];\r\n\t\tconst newPreviews = [...formData.previewImages];\r\n\r\n\t\t// Revoke object URL to prevent memory leaks\r\n\t\tURL.revokeObjectURL(newPreviews[index]);\r\n\r\n\t\tnewImages.splice(index, 1);\r\n\t\tnewPreviews.splice(index, 1);\r\n\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\timages: newImages,\r\n\t\t\tpreviewImages: newPreviews,\r\n\t\t}));\r\n\t};\r\n\r\n\t// Add tag\r\n\tconst addTag = () => {\r\n\t\tif (\r\n\t\t\tformData.currentTag.trim() &&\r\n\t\t\t!formData.tags.includes(formData.currentTag.trim())\r\n\t\t) {\r\n\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\ttags: [...prev.tags, prev.currentTag.trim()],\r\n\t\t\t\tcurrentTag: \"\",\r\n\t\t\t}));\r\n\t\t}\r\n\t};\r\n\r\n\t// Remove tag\r\n\tconst removeTag = (tag: string) => {\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\ttags: prev.tags.filter((t) => t !== tag),\r\n\t\t}));\r\n\t};\r\n\r\n\t// Handle tag input keydown\r\n\tconst handleTagKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n\t\tif (e.key === \"Enter\") {\r\n\t\t\te.preventDefault();\r\n\t\t\taddTag();\r\n\t\t}\r\n\t};\r\n\r\n\t// Add color\r\n\tconst addColor = () => {\r\n\t\tif (\r\n\t\t\tformData.currentColor.trim() &&\r\n\t\t\t!formData.colors.includes(formData.currentColor.trim())\r\n\t\t) {\r\n\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\tcolors: [...prev.colors, prev.currentColor.trim()],\r\n\t\t\t\tcurrentColor: \"\",\r\n\t\t\t}));\r\n\t\t}\r\n\t};\r\n\r\n\t// Remove color\r\n\tconst removeColor = (color: string) => {\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\tcolors: prev.colors.filter((c) => c !== color),\r\n\t\t}));\r\n\t};\r\n\r\n\t// Handle color input keydown\r\n\tconst handleColorKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n\t\tif (e.key === \"Enter\") {\r\n\t\t\te.preventDefault();\r\n\t\t\taddColor();\r\n\t\t}\r\n\t};\r\n\r\n\t// Add size\r\n\tconst addSize = () => {\r\n\t\tif (\r\n\t\t\tformData.currentSize.trim() &&\r\n\t\t\t!formData.sizes.includes(formData.currentSize.trim())\r\n\t\t) {\r\n\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\tsizes: [...prev.sizes, prev.currentSize.trim()],\r\n\t\t\t\tcurrentSize: \"\",\r\n\t\t\t}));\r\n\t\t}\r\n\t};\r\n\r\n\t// Remove size\r\n\tconst removeSize = (size: string) => {\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\tsizes: prev.sizes.filter((s) => s !== size),\r\n\t\t}));\r\n\t};\r\n\r\n\t// Handle size input keydown\r\n\tconst handleSizeKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n\t\tif (e.key === \"Enter\") {\r\n\t\t\te.preventDefault();\r\n\t\t\taddSize();\r\n\t\t}\r\n\t};\r\n\r\n\t// Add attribute\r\n\tconst addAttribute = () => {\r\n\t\tconst key = formData.currentAttributeKey.trim();\r\n\t\tconst value = formData.currentAttributeValue.trim();\r\n\r\n\t\tif (key && value) {\r\n\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\tattributes: [...prev.attributes, {key, value}],\r\n\t\t\t\tcurrentAttributeKey: \"\",\r\n\t\t\t\tcurrentAttributeValue: \"\",\r\n\t\t\t}));\r\n\t\t}\r\n\t};\r\n\r\n\t// Remove attribute\r\n\tconst removeAttribute = (index: number) => {\r\n\t\tsetFormData((prev) => {\r\n\t\t\tconst newAttributes = [...prev.attributes];\r\n\t\t\tnewAttributes.splice(index, 1);\r\n\t\t\treturn {\r\n\t\t\t\t...prev,\r\n\t\t\t\tattributes: newAttributes,\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\t// Handle attribute input keydown\r\n\tconst handleAttributeKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n\t\tif (e.key === \"Enter\") {\r\n\t\t\te.preventDefault();\r\n\t\t\t// Mover el foco al campo de valor\r\n\t\t\tconst valueInput = document.getElementById(\"attributeValue\");\r\n\t\t\tif (valueInput) {\r\n\t\t\t\tvalueInput.focus();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleAttributeValueKeyDown = (\r\n\t\te: React.KeyboardEvent<HTMLInputElement>\r\n\t) => {\r\n\t\tif (e.key === \"Enter\") {\r\n\t\t\te.preventDefault();\r\n\t\t\taddAttribute();\r\n\t\t}\r\n\t};\r\n\r\n\t// Validar el formulario\r\n\tconst validateForm = (): boolean => {\r\n\t\tconst errors: Record<string, string> = {};\r\n\r\n\t\t// Validar campos requeridos\r\n\t\trequiredFields.forEach((field) => {\r\n\t\t\tif (!formData[field as keyof typeof formData]) {\r\n\t\t\t\terrors[field] = `El campo ${field} es obligatorio`;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Validar que el precio sea un número positivo\r\n\t\tif (\r\n\t\t\tformData.price &&\r\n\t\t\t(isNaN(Number(formData.price)) || Number(formData.price) <= 0)\r\n\t\t) {\r\n\t\t\terrors.price = \"El precio debe ser un número mayor que cero\";\r\n\t\t}\r\n\r\n\t\t// Validar que el stock sea un número no negativo\r\n\t\tif (\r\n\t\t\tformData.stock &&\r\n\t\t\t(isNaN(Number(formData.stock)) || Number(formData.stock) < 0)\r\n\t\t) {\r\n\t\t\terrors.stock = \"El stock debe ser un número no negativo\";\r\n\t\t}\r\n\r\n\t\t// Validar que el descuento sea un número entre 0 y 100\r\n\t\tif (\r\n\t\t\tformData.discount_percentage &&\r\n\t\t\t(isNaN(Number(formData.discount_percentage)) ||\r\n\t\t\t\tNumber(formData.discount_percentage) < 0 ||\r\n\t\t\t\tNumber(formData.discount_percentage) > 100)\r\n\t\t) {\r\n\t\t\terrors.discount_percentage =\r\n\t\t\t\t\"El descuento debe ser un porcentaje entre 0 y 100\";\r\n\t\t}\r\n\r\n\t\t// Validar dimensiones numéricas si se proporcionan\r\n\t\t[\"weight\", \"width\", \"height\", \"depth\"].forEach((field) => {\r\n\t\t\tconst value = formData[field as keyof typeof formData] as string;\r\n\t\t\tif (value && isNaN(Number(value))) {\r\n\t\t\t\terrors[field] = `El campo ${field} debe ser un número`;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsetValidationErrors(errors);\r\n\t\treturn Object.keys(errors).length === 0;\r\n\t};\r\n\r\n\t// Submit form\r\n\tconst handleSubmit = async (e: React.FormEvent) => {\r\n\t\te.preventDefault();\r\n\r\n\t\t// Validar formulario\r\n\t\tif (!validateForm()) {\r\n\t\t\t// Mostrar mensaje de error y detener la presentación\r\n\t\t\tconst firstErrorField = Object.keys(validationErrors)[0];\r\n\t\t\tconst errorElement = document.getElementById(firstErrorField);\r\n\t\t\tif (errorElement) {\r\n\t\t\t\terrorElement.scrollIntoView({behavior: \"smooth\", block: \"center\"});\r\n\t\t\t\terrorElement.focus();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetSaving(true);\r\n\r\n\t\ttry {\r\n\t\t\t// Preparar datos para enviar a la API\r\n\t\t\tconst productData = {\r\n\t\t\t\tname: formData.name,\r\n\t\t\t\tdescription: formData.description,\r\n\t\t\t\tshort_description: formData.short_description || undefined,\r\n\t\t\t\tprice: parseFloat(formData.price),\r\n\t\t\t\tstock: parseInt(formData.stock),\r\n\t\t\t\tcategory_id: parseInt(formData.category),\r\n\t\t\t\tcategoryId: parseInt(formData.category), // Para compatibilidad con ambos formatos\r\n\t\t\t\tstatus: formData.status,\r\n\t\t\t\ttags: formData.tags.length > 0 ? formData.tags : undefined,\r\n\t\t\t\timages: formData.images.length > 0 ? formData.images : undefined,\r\n\r\n\t\t\t\t// Campos opcionales adicionales\r\n\t\t\t\tdiscount_percentage: formData.discount_percentage\r\n\t\t\t\t\t? parseFloat(formData.discount_percentage)\r\n\t\t\t\t\t: undefined,\r\n\t\t\t\tweight: formData.weight ? parseFloat(formData.weight) : undefined,\r\n\t\t\t\twidth: formData.width ? parseFloat(formData.width) : undefined,\r\n\t\t\t\theight: formData.height ? parseFloat(formData.height) : undefined,\r\n\t\t\t\tdepth: formData.depth ? parseFloat(formData.depth) : undefined,\r\n\t\t\t\tdimensions: formData.dimensions || undefined,\r\n\t\t\t\tcolors: formData.colors.length > 0 ? formData.colors : undefined,\r\n\t\t\t\tsizes: formData.sizes.length > 0 ? formData.sizes : undefined,\r\n\t\t\t\tattributes:\r\n\t\t\t\t\tformData.attributes.length > 0 ? formData.attributes : undefined,\r\n\t\t\t\tfeatured: formData.featured,\r\n\t\t\t\tpublished: formData.published,\r\n\t\t\t};\r\n\r\n\t\t\t// Log para depuración\r\n\t\t\tconsole.log(\"Enviando datos de producto (Admin):\", productData);\r\n\r\n\t\t\t// ✅ Crear producto como admin, asignándolo al vendedor seleccionado\r\n\t\t\tconst sellerId = parseInt(formData.sellerId);\r\n\t\t\tconst result = await createProduct(productData, sellerId);\r\n\r\n\t\t\tif (result) {\r\n\t\t\t\t// Redirigir a la lista de productos de admin\r\n\t\t\t\tnavigate(\"/admin/products\");\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(\"No se pudo crear el producto\");\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Error al crear producto:\", error);\r\n\t\t\talert(error instanceof Error ? error.message : \"Error al crear producto\");\r\n\t\t} finally {\r\n\t\t\tsetSaving(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// Componente para los encabezados de sección\r\n\tconst SectionHeader = ({\r\n\t\ttitle,\r\n\t\tsection,\r\n\t\ticon: Icon,\r\n\t}: {\r\n\t\ttitle: string;\r\n\t\tsection: keyof typeof expandedSections;\r\n\t\ticon: React.ElementType;\r\n\t}) => (\r\n\t\t<div\r\n\t\t\tclassName=\"flex items-center justify-between cursor-pointer py-3 border-b border-gray-200\"\r\n\t\t\tonClick={() => toggleSection(section)}\r\n\t\t>\r\n\t\t\t<div className=\"flex items-center\">\r\n\t\t\t\t<Icon className=\"w-5 h-5 text-primary-600 mr-2\" />\r\n\t\t\t\t<h3 className=\"text-lg font-medium text-gray-900\">\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</h3>\r\n\t\t\t</div>\r\n\t\t\t{expandedSections[section] ? (\r\n\t\t\t\t<ChevronUp className=\"w-5 h-5 text-gray-500\" />\r\n\t\t\t) : (\r\n\t\t\t\t<ChevronDown className=\"w-5 h-5 text-gray-500\" />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"space-y-6\">\r\n\t\t\t<div className=\"flex justify-between items-center\">\r\n\t\t\t\t<h1 className=\"text-2xl font-bold text-gray-900\">\r\n\t\t\t\t\tCrear Nuevo Producto (Admin)\r\n\t\t\t\t</h1>\r\n\t\t\t\t<div className=\"flex space-x-2\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tonClick={() => navigate(\"/admin/products\")}\r\n\t\t\t\t\t\tclassName=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<X size={18} className=\"inline mr-1\" /> Cancelar\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t\t\tdisabled={saving}\r\n\t\t\t\t\t\tclassName=\"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{saving ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<span className=\"inline-block animate-spin mr-1\">⟳</span>{\" \"}\r\n\t\t\t\t\t\t\t\tGuardando...\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Save size={18} className=\"inline mr-1\" /> Crear Producto\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Tarjeta de campos requeridos */}\r\n\t\t\t<div className=\"bg-amber-50 border-l-4 border-amber-500 p-4 rounded-r-lg mb-6\">\r\n\t\t\t\t<div className=\"flex\">\r\n\t\t\t\t\t<div className=\"flex-shrink-0\">\r\n\t\t\t\t\t\t<AlertTriangle className=\"h-5 w-5 text-amber-500\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"ml-3\">\r\n\t\t\t\t\t\t<h3 className=\"text-sm font-medium text-amber-800\">\r\n\t\t\t\t\t\t\tCampos requeridos\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t<div className=\"mt-2 text-sm text-amber-700\">\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tLos campos marcados con <span className=\"text-red-500\">*</span>{\" \"}\r\n\t\t\t\t\t\t\t\tson obligatorios para crear el producto. Como administrador, debes asignar el producto a un vendedor.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<form onSubmit={handleSubmit} className=\"space-y-6\">\r\n\t\t\t\t{/* ✅ NUEVA SECCIÓN: Asignación de Vendedor */}\r\n\t\t\t\t<div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n\t\t\t\t\t<SectionHeader\r\n\t\t\t\t\t\ttitle=\"Asignación de Vendedor\"\r\n\t\t\t\t\t\tsection=\"seller\"\r\n\t\t\t\t\t\ticon={User}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{expandedSections.seller && (\r\n\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor=\"sellerId\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tVendedor Asignado <span className=\"text-red-500\">*</span>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t{loadingSellers ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 text-gray-400\">\r\n\t\t\t\t\t\t\t\t\t\tCargando vendedores...\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tid=\"sellerId\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"sellerId\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={formData.sellerId}\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\t\tclassName={`w-full px-3 py-2 border ${\r\n\t\t\t\t\t\t\t\t\t\t\tvalidationErrors.sellerId ? \"border-red-500\" : \"border-gray-300\"\r\n\t\t\t\t\t\t\t\t\t\t} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"\">Seleccionar Vendedor</option>\r\n\t\t\t\t\t\t\t\t\t\t{sellers.map((seller) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option key={seller.id} value={seller.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{seller.store_name || seller.name || `Vendedor ${seller.id}`}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{validationErrors.sellerId && (\r\n\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm text-red-500\">\r\n\t\t\t\t\t\t\t\t\t\t{validationErrors.sellerId}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<p className=\"mt-1 text-xs text-gray-500\">\r\n\t\t\t\t\t\t\t\t\tSelecciona el vendedor al cual será asignado este producto.\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Información Básica */}\r\n\t\t\t\t<div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n\t\t\t\t\t<SectionHeader\r\n\t\t\t\t\t\ttitle=\"Información Básica\"\r\n\t\t\t\t\t\tsection=\"basic\"\r\n\t\t\t\t\t\ticon={FileText}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{expandedSections.basic && (\r\n\t\t\t\t\t\t<div className=\"mt-4 grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n\t\t\t\t\t\t\t{/* Nombre del Producto */}\r\n\t\t\t\t\t\t\t<div className=\"md:col-span-2\">\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor=\"name\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tNombre del Producto <span className=\"text-red-500\">*</span>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData.name}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName={`w-full px-3 py-2 border ${\r\n\t\t\t\t\t\t\t\t\t\tvalidationErrors.name\r\n\t\t\t\t\t\t\t\t\t\t\t? \"border-red-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"border-gray-300\"\r\n\t\t\t\t\t\t\t\t\t} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{validationErrors.name && (\r\n\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm text-red-500\">\r\n\t\t\t\t\t\t\t\t\t\t{validationErrors.name}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* Descripción Corta */}\r\n\t\t\t\t\t\t\t<div className=\"md:col-span-2\">\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor=\"short_description\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tDescripción Corta\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tid=\"short_description\"\r\n\t\t\t\t\t\t\t\t\tname=\"short_description\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData.short_description}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Resumen breve del producto (para listados y búsquedas)\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* Descripción Completa */}\r\n\t\t\t\t\t\t\t<div className=\"md:col-span-2\">\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor=\"description\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tDescripción Completa <span className=\"text-red-500\">*</span>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t\tid=\"description\"\r\n\t\t\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\t\t\t\tvalue={formData.description}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName={`w-full px-3 py-2 border ${\r\n\t\t\t\t\t\t\t\t\t\tvalidationErrors.description\r\n\t\t\t\t\t\t\t\t\t\t\t? \"border-red-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"border-gray-300\"\r\n\t\t\t\t\t\t\t\t\t} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{validationErrors.description && (\r\n\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm text-red-500\">\r\n\t\t\t\t\t\t\t\t\t\t{validationErrors.description}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Precios y Stock */}\r\n\t\t\t\t<div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n\t\t\t\t\t<SectionHeader\r\n\t\t\t\t\t\ttitle=\"Precios y Stock\"\r\n\t\t\t\t\t\tsection=\"pricing\"\r\n\t\t\t\t\t\ticon={DollarSign}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{expandedSections.pricing && (\r\n\t\t\t\t\t\t<div className=\"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n\t\t\t\t\t\t\t{/* Precio */}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor=\"price\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tPrecio ($) <span className=\"text-red-500\">*</span>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tid=\"price\"\r\n\t\t\t\t\t\t\t\t\tname=\"price\"\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tstep=\"0.01\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData.price}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName={`w-full px-3 py-2 border ${\r\n\t\t\t\t\t\t\t\t\t\tvalidationErrors.price\r\n\t\t\t\t\t\t\t\t\t\t\t? \"border-red-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"border-gray-300\"\r\n\t\t\t\t\t\t\t\t\t} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{validationErrors.price && (\r\n\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm text-red-500\">\r\n\t\t\t\t\t\t\t\t\t\t{validationErrors.price}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* Descuento */}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor=\"discount_percentage\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tDescuento (%)\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tid=\"discount_percentage\"\r\n\t\t\t\t\t\t\t\t\tname=\"discount_percentage\"\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\t\t\t\t\tstep=\"0.1\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData.discount_percentage}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName={`w-full px-3 py-2 border ${\r\n\t\t\t\t\t\t\t\t\t\tvalidationErrors.discount_percentage\r\n\t\t\t\t\t\t\t\t\t\t\t? \"border-red-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"border-gray-300\"\r\n\t\t\t\t\t\t\t\t\t} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{validationErrors.discount_percentage && (\r\n\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm text-red-500\">\r\n\t\t\t\t\t\t\t\t\t\t{validationErrors.discount_percentage}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* Stock */}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor=\"stock\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tCantidad en Stock <span className=\"text-red-500\">*</span>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tid=\"stock\"\r\n\t\t\t\t\t\t\t\t\tname=\"stock\"\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData.stock}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName={`w-full px-3 py-2 border ${\r\n\t\t\t\t\t\t\t\t\t\tvalidationErrors.stock\r\n\t\t\t\t\t\t\t\t\t\t\t? \"border-red-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"border-gray-300\"\r\n\t\t\t\t\t\t\t\t\t} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{validationErrors.stock && (\r\n\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm text-red-500\">\r\n\t\t\t\t\t\t\t\t\t\t{validationErrors.stock}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* Estado del producto */}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor=\"status\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tEstado del Producto\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tid=\"status\"\r\n\t\t\t\t\t\t\t\t\tname=\"status\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData.status}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<option value=\"active\">Activo</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"inactive\">Inactivo</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"draft\">Borrador</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* Configuración avanzada */}\r\n\t\t\t\t\t\t\t<div className=\"lg:col-span-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"flex space-x-6\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"featured\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"featured\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={formData.featured}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"featured\" className=\"ml-2 block text-sm text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t\t\tProducto Destacado\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"published\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"published\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={formData.published}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"published\" className=\"ml-2 block text-sm text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t\t\tPublicado\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Categorización */}\r\n\t\t\t\t<div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n\t\t\t\t\t<SectionHeader\r\n\t\t\t\t\t\ttitle=\"Categorización\"\r\n\t\t\t\t\t\tsection=\"categorization\"\r\n\t\t\t\t\t\ticon={Tag}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{expandedSections.categorization && (\r\n\t\t\t\t\t\t<div className=\"mt-4 space-y-6\">\r\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n\t\t\t\t\t\t\t\t{/* Categoría Principal */}\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\thtmlFor=\"parentCategory\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tCategoría Principal <span className=\"text-red-500\">*</span>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t{loadingCategories ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 text-gray-400\">\r\n\t\t\t\t\t\t\t\t\t\t\tCargando categorías...\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"parentCategory\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"parentCategory\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={formData.parentCategory}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`w-full px-3 py-2 border ${\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalidationErrors.parentCategory\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"border-red-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"border-gray-300\"\r\n\t\t\t\t\t\t\t\t\t\t\t} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">Seleccionar Categoría Principal</option>\r\n\t\t\t\t\t\t\t\t\t\t\t{parentCategoryOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={option.value} value={option.value}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{option.label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{validationErrors.parentCategory && (\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm text-red-500\">\r\n\t\t\t\t\t\t\t\t\t\t\t{validationErrors.parentCategory}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t{/* Subcategoría */}\r\n\t\t\t\t\t\t\t\t<div className={formData.parentCategory ? \"\" : \"opacity-50\"}>\r\n\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\thtmlFor=\"category\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tSubcategoría <span className=\"text-red-500\">*</span>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tid=\"category\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"category\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={formData.category}\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!formData.parentCategory}\r\n\t\t\t\t\t\t\t\t\t\tclassName={`w-full px-3 py-2 border ${\r\n\t\t\t\t\t\t\t\t\t\t\tvalidationErrors.category\r\n\t\t\t\t\t\t\t\t\t\t\t\t? \"border-red-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t: \"border-gray-300\"\r\n\t\t\t\t\t\t\t\t\t\t} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t{formData.parentCategory\r\n\t\t\t\t\t\t\t\t\t\t\t\t? subcategoryOptions.length > 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Seleccionar Subcategoría\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"No hay subcategorías disponibles\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t: \"Primero selecciona una categoría principal\"}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t{subcategoryOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option key={option.value} value={option.value}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{option.label}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t{/* Opción para usar la categoría principal si no hay subcategorías */}\r\n\t\t\t\t\t\t\t\t\t\t{formData.parentCategory &&\r\n\t\t\t\t\t\t\t\t\t\t\tsubcategoryOptions.length === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value={formData.parentCategory}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tUsar categoría principal\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t{validationErrors.category && (\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm text-red-500\">\r\n\t\t\t\t\t\t\t\t\t\t\t{validationErrors.category}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* Etiquetas (Tags) */}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n\t\t\t\t\t\t\t\t\tEtiquetas (Tags)\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<div className=\"flex\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Añade una etiqueta y presiona Enter\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={formData.currentTag}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentTag: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tonKeyDown={handleTagKeyDown}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"flex-grow px-3 py-2 border border-gray-300 rounded-l-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={addTag}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"px-4 py-2 bg-primary-600 text-white rounded-r-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Plus size={18} />\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"flex flex-wrap gap-2 mt-2\">\r\n\t\t\t\t\t\t\t\t\t{formData.tags.map((tag) => (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tkey={tag}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"bg-gray-100 text-gray-800 px-2 py-1 rounded-md flex items-center\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{tag}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => removeTag(tag)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-1 text-gray-500 hover:text-gray-700\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<X size={14} />\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t{formData.tags.length === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\tAún no se han añadido etiquetas\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Características Físicas */}\r\n\t\t\t\t<div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n\t\t\t\t\t<SectionHeader\r\n\t\t\t\t\t\ttitle=\"Características Físicas\"\r\n\t\t\t\t\t\tsection=\"physical\"\r\n\t\t\t\t\t\ticon={PackageOpen}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{expandedSections.physical && (\r\n\t\t\t\t\t\t<div className=\"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n\t\t\t\t\t\t\t{/* Peso */}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor=\"weight\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tPeso (kg)\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tid=\"weight\"\r\n\t\t\t\t\t\t\t\t\tname=\"weight\"\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tstep=\"0.001\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData.weight}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName={`w-full px-3 py-2 border ${\r\n\t\t\t\t\t\t\t\t\t\tvalidationErrors.weight\r\n\t\t\t\t\t\t\t\t\t\t\t? \"border-red-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"border-gray-300\"\r\n\t\t\t\t\t\t\t\t\t} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{validationErrors.weight && (\r\n\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm text-red-500\">\r\n\t\t\t\t\t\t\t\t\t\t{validationErrors.weight}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* Ancho */}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor=\"width\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tAncho (cm)\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tid=\"width\"\r\n\t\t\t\t\t\t\t\t\tname=\"width\"\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tstep=\"0.1\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData.width}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName={`w-full px-3 py-2 border ${\r\n\t\t\t\t\t\t\t\t\t\tvalidationErrors.width\r\n\t\t\t\t\t\t\t\t\t\t\t? \"border-red-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"border-gray-300\"\r\n\t\t\t\t\t\t\t\t\t} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{validationErrors.width && (\r\n\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm text-red-500\">\r\n\t\t\t\t\t\t\t\t\t\t{validationErrors.width}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* Alto */}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor=\"height\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tAlto (cm)\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tid=\"height\"\r\n\t\t\t\t\t\t\t\t\tname=\"height\"\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tstep=\"0.1\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData.height}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName={`w-full px-3 py-2 border ${\r\n\t\t\t\t\t\t\t\t\t\tvalidationErrors.height\r\n\t\t\t\t\t\t\t\t\t\t\t? \"border-red-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"border-gray-300\"\r\n\t\t\t\t\t\t\t\t\t} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{validationErrors.height && (\r\n\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm text-red-500\">\r\n\t\t\t\t\t\t\t\t\t\t{validationErrors.height}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* Profundidad */}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor=\"depth\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tProfundidad (cm)\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tid=\"depth\"\r\n\t\t\t\t\t\t\t\t\tname=\"depth\"\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tstep=\"0.1\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData.depth}\r\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName={`w-full px-3 py-2 border ${\r\n\t\t\t\t\t\t\t\t\t\tvalidationErrors.depth\r\n\t\t\t\t\t\t\t\t\t\t\t? \"border-red-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"border-gray-300\"\r\n\t\t\t\t\t\t\t\t\t} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{validationErrors.depth && (\r\n\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm text-red-500\">\r\n\t\t\t\t\t\t\t\t\t\t{validationErrors.depth}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Variaciones */}\r\n\t\t\t\t<div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n\t\t\t\t\t<SectionHeader\r\n\t\t\t\t\t\ttitle=\"Variaciones y Atributos\"\r\n\t\t\t\t\t\tsection=\"variations\"\r\n\t\t\t\t\t\ticon={Palette}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{expandedSections.variations && (\r\n\t\t\t\t\t\t<div className=\"mt-4 space-y-8\">\r\n\t\t\t\t\t\t\t{/* Colores */}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h4 className=\"text-md font-medium text-gray-800 mb-2 flex items-center\">\r\n\t\t\t\t\t\t\t\t\t<Palette className=\"w-4 h-4 mr-1\" /> Colores Disponibles\r\n\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t<div className=\"flex\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Añade un color y presiona Enter\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={formData.currentColor}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentColor: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tonKeyDown={handleColorKeyDown}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"flex-grow px-3 py-2 border border-gray-300 rounded-l-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={addColor}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"px-4 py-2 bg-primary-600 text-white rounded-r-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Plus size={18} />\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"flex flex-wrap gap-2 mt-2\">\r\n\t\t\t\t\t\t\t\t\t{formData.colors.map((color) => (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tkey={color}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"bg-gray-100 text-gray-800 px-2 py-1 rounded-md flex items-center\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{color}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => removeColor(color)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-1 text-gray-500 hover:text-gray-700\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<X size={14} />\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t{formData.colors.length === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\tAún no se han añadido colores\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* Tallas */}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h4 className=\"text-md font-medium text-gray-800 mb-2 flex items-center\">\r\n\t\t\t\t\t\t\t\t\t<Ruler className=\"w-4 h-4 mr-1\" /> Tallas Disponibles\r\n\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t<div className=\"flex\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Añade una talla y presiona Enter\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={formData.currentSize}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentSize: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tonKeyDown={handleSizeKeyDown}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"flex-grow px-3 py-2 border border-gray-300 rounded-l-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={addSize}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"px-4 py-2 bg-primary-600 text-white rounded-r-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Plus size={18} />\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"flex flex-wrap gap-2 mt-2\">\r\n\t\t\t\t\t\t\t\t\t{formData.sizes.map((size) => (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tkey={size}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"bg-gray-100 text-gray-800 px-2 py-1 rounded-md flex items-center\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{size}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => removeSize(size)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-1 text-gray-500 hover:text-gray-700\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<X size={14} />\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t{formData.sizes.length === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\tAún no se han añadido tallas\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* Atributos personalizados */}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h4 className=\"text-md font-medium text-gray-800 mb-2 flex items-center\">\r\n\t\t\t\t\t\t\t\t\t<Store className=\"w-4 h-4 mr-1\" /> Atributos Personalizados\r\n\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"attributeKey\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Nombre del atributo (ej: Material)\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={formData.currentAttributeKey}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentAttributeKey: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tonKeyDown={handleAttributeKeyDown}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"attributeValue\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Valor (ej: Algodón)\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={formData.currentAttributeValue}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentAttributeValue: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tonKeyDown={handleAttributeValueKeyDown}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex-grow px-3 py-2 border border-gray-300 rounded-l-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={addAttribute}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"px-4 py-2 bg-primary-600 text-white rounded-r-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Plus size={18} />\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t{/* Lista de atributos */}\r\n\t\t\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t\t\t{formData.attributes.length > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"bg-gray-50 p-4 rounded-md\">\r\n\t\t\t\t\t\t\t\t\t\t\t<table className=\"min-w-full divide-y divide-gray-200\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAtributo\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tValor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAcción\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tbody className=\"divide-y divide-gray-200\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{formData.attributes.map((attr, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-3 py-2 text-sm text-gray-800\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{attr.key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-3 py-2 text-sm text-gray-600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{attr.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-3 py-2 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => removeAttribute(index)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-red-600 hover:text-red-800\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<X size={16} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t\tAún no se han añadido atributos personalizados\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Imágenes */}\r\n\t\t\t\t<div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n\t\t\t\t\t<SectionHeader\r\n\t\t\t\t\t\ttitle=\"Imágenes del Producto\"\r\n\t\t\t\t\t\tsection=\"media\"\r\n\t\t\t\t\t\ticon={Image}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{expandedSections.media && (\r\n\t\t\t\t\t\t<div className=\"mt-4 space-y-4\">\r\n\t\t\t\t\t\t\t{/* Image Uploader */}\r\n\t\t\t\t\t\t\t<div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\t\tid=\"images\"\r\n\t\t\t\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\t\t\tonChange={handleImageUpload}\r\n\t\t\t\t\t\t\t\t\tclassName=\"hidden\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor=\"images\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"cursor-pointer flex flex-col items-center justify-center\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Upload className=\"h-12 w-12 text-gray-400 mb-2\" />\r\n\t\t\t\t\t\t\t\t\t<p className=\"text-gray-600 mb-1\">\r\n\t\t\t\t\t\t\t\t\t\tArrastra y suelta imágenes aquí o haz clic para subir\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\tJPEG, PNG, WebP hasta 2MB\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* Image Previews */}\r\n\t\t\t\t\t\t\t{formData.previewImages.length > 0 && (\r\n\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mt-4\">\r\n\t\t\t\t\t\t\t\t\t{formData.previewImages.map((preview, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<div key={index} className=\"relative group\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-lg bg-gray-100\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={preview}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={`Vista previa ${index + 1}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-full w-full object-cover object-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => removeImage(index)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Trash2 size={14} />\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t{index === 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"absolute bottom-2 left-2 bg-primary-500 text-white text-xs py-1 px-2 rounded-md\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tPrincipal\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Submit Button - Bottom */}\r\n\t\t\t\t<div className=\"flex justify-end\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tdisabled={saving}\r\n\t\t\t\t\t\tclassName=\"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{saving ? \"Creando...\" : \"Crear Producto\"}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AdminProductCreatePage;"],"names":["AdminProductCreatePage","navigate","useNavigate","saving","setSaving","useState","sellers","setSellers","loadingSellers","setLoadingSellers","createProduct","useAdminProducts","parentCategoryOptions","subcategoryOptions","setSelectedParentId","loadingCategories","useCategoriesSelect","expandedSections","setExpandedSections","formData","setFormData","requiredFields","validationErrors","setValidationErrors","useEffect","response","ApiClient","sellersData","error","toggleSection","section","prev","handleInputChange","e","name","value","type","checked","newErrors","handleImageUpload","newImages","newPreviews","file","removeImage","index","addTag","removeTag","tag","t","handleTagKeyDown","addColor","removeColor","color","c","handleColorKeyDown","addSize","removeSize","size","s","handleSizeKeyDown","addAttribute","key","removeAttribute","newAttributes","handleAttributeKeyDown","valueInput","handleAttributeValueKeyDown","validateForm","errors","field","handleSubmit","firstErrorField","errorElement","productData","sellerId","SectionHeader","title","Icon","jsxs","jsx","ChevronUp","ChevronDown","X","Fragment","Save","AlertTriangle","User","seller","FileText","DollarSign","Tag","option","Plus","PackageOpen","Palette","Ruler","Store","attr","Image","Upload","preview","Trash2"],"mappings":"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"}