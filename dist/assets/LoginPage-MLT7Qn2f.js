const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DmNDOrWy.js","assets/index-C-ipTXIM.css"])))=>i.map(i=>d[i]);
import{r as a,d as M,e as F,u as S,j as e,L as g,_ as I}from"./index-DmNDOrWy.js";const B=()=>{const[i,p]=a.useState(""),[c,f]=a.useState(""),[w,b]=a.useState(!1),[l,j]=a.useState(!1),[o,d]=a.useState(!1),m=M(),y=F(),{login:v,loading:u,error:x}=S(),n=y.state?.from?.pathname,N=async r=>{if(r.preventDefault(),!o){d(!0),console.log("🔐 Iniciando proceso de login con:",i);try{if(await v({email:i,password:c})){console.log("✅ Login exitoso, obteniendo información de rol...");const t=await(await I(async()=>{const{default:s}=await import("./index-DmNDOrWy.js").then(_=>_.y);return{default:s}},__vite__mapDeps([0,1]))).default.checkUserRole(!0);if(console.log("🎯 Información de rol obtenida:",t),t&&t.success){let s=n||"/";t.data.is_admin?(s="/admin/dashboard",console.log("👑 Usuario es admin, redirigiendo a:",s)):t.data.is_seller?(s="/seller/dashboard",console.log("🏪 Usuario es seller, redirigiendo a:",s)):(s=n||"/",console.log("👤 Usuario normal, redirigiendo a:",s)),console.log("🚀 Redirigiendo inmediatamente a:",s),m(s,{replace:!0})}else console.error("❌ No se pudo obtener información de rol"),m(n||"/",{replace:!0})}else console.error("❌ Fallo en el login")}catch(h){console.error("❌ Error durante el proceso de login:",h)}finally{d(!1)}}},C=()=>{j(!l)},k=()=>{console.log("Iniciar sesión con Google")},L=()=>{console.log("Iniciar sesión con Facebook")};return o?e.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Iniciando sesión..."})]})}):e.jsx("div",{className:"min-h-[80vh] flex items-center justify-center py-12 px-4",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Inicia sesión en tu cuenta"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["O"," ",e.jsx(g,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"crea una nueva cuenta"})]})]}),x&&e.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-md text-sm",children:x}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:N,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo electrónico"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",value:i,onChange:r=>p(r.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:"current-password",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",value:c,onChange:r=>f(r.target.value)}),e.jsx("button",{type:"button",onClick:C,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-600",children:l?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember_me",name:"remember_me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:w,onChange:r=>b(r.target.checked)}),e.jsx("label",{htmlFor:"remember_me",className:"ml-2 block text-sm text-gray-700",children:"Recordarme"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(g,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"¿Olvidaste tu contraseña?"})})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:u||o,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[u||o?e.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):null,"Iniciar sesión"]})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500",children:"O continuar con"})})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:k,className:"w-full inline-flex justify-center items-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[e.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),e.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),e.jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),e.jsx("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),"Google"]}),e.jsxs("button",{type:"button",onClick:L,className:"w-full inline-flex justify-center items-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"#1877F2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12,2C6.477,2,2,6.477,2,12c0,4.991,3.657,9.128,8.438,9.879V14.89h-2.54V12h2.54V9.797c0-2.506,1.492-3.89,3.777-3.89c1.094,0,2.238,0.195,2.238,0.195v2.46h-1.26c-1.243,0-1.63,0.771-1.63,1.562V12h2.773l-0.443,2.89h-2.33v6.989C18.343,21.129,22,16.99,22,12C22,6.477,17.523,2,12,2z"})}),"Facebook"]})]})]})]})})};export{B as default};
//# sourceMappingURL=LoginPage-MLT7Qn2f.js.map
