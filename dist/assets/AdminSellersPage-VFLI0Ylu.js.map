{"version":3,"file":"AdminSellersPage-VFLI0Ylu.js","sources":["../../node_modules/lucide-react/dist/esm/icons/user-plus.js","../../src/infrastructure/adapters/SellerAdapter.ts","../../src/core/services/SellerAdminService.ts","../../src/presentation/components/admin/StatusUpdateModal.tsx","../../src/presentation/components/admin/SellerFormModal.tsx","../../src/presentation/pages/admin/AdminSellersPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.484.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"line\", { x1: \"19\", x2: \"19\", y1: \"8\", y2: \"14\", key: \"1bvyxn\" }],\n  [\"line\", { x1: \"22\", x2: \"16\", y1: \"11\", y2: \"11\", key: \"1shjgl\" }]\n];\nconst UserPlus = createLucideIcon(\"user-plus\", __iconNode);\n\nexport { __iconNode, UserPlus as default };\n//# sourceMappingURL=user-plus.js.map\n","import type {Seller} from \"../../core/domain/entities/Seller\";\r\n\r\n/**\r\n * Adaptador para convertir entre formatos de datos del backend y frontend para vendedores\r\n */\r\nexport class SellerAdapter {\r\n\t/**\r\n\t * Convierte datos del backend (snake_case) a formato de entidad Seller (camelCase)\r\n\t */\r\n\tstatic toEntity(backendData: any): Seller {\r\n\t\treturn {\r\n\t\t\tid: backendData.id,\r\n\t\t\tuserId: backendData.user_id,\r\n\t\t\tstoreName: backendData.store_name,\r\n\t\t\tdescription: backendData.description || undefined,\r\n\t\t\tstatus: backendData.status,\r\n\t\t\tverificationLevel: backendData.verification_level,\r\n\t\t\tcommissionRate: backendData.commission_rate,\r\n\t\t\ttotalSales: backendData.total_sales || 0,\r\n\t\t\tisFeatured: backendData.is_featured || false,\r\n\t\t\taverageRating: backendData.average_rating,\r\n\t\t\ttotalRatings: backendData.total_ratings,\r\n\t\t\tcreatedAt: backendData.created_at,\r\n\t\t\tupdatedAt: backendData.updated_at,\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Convierte múltiples vendedores desde el formato del backend\r\n\t */\r\n\tstatic toEntityList(backendDataList: any[]): Seller[] {\r\n\t\tif (!Array.isArray(backendDataList)) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\treturn backendDataList.map((data) => this.toEntity(data));\r\n\t}\r\n\r\n\t/**\r\n\t * Convierte datos de entidad Seller (camelCase) a formato de API del backend (snake_case)\r\n\t */\r\n\tstatic toBackend(entityData: Partial<Seller>): any {\r\n\t\tconst result: any = {};\r\n\r\n\t\tif (entityData.userId !== undefined) result.user_id = entityData.userId;\r\n\t\tif (entityData.storeName !== undefined)\r\n\t\t\tresult.store_name = entityData.storeName;\r\n\t\tif (entityData.description !== undefined)\r\n\t\t\tresult.description = entityData.description;\r\n\t\tif (entityData.status !== undefined) result.status = entityData.status;\r\n\t\tif (entityData.verificationLevel !== undefined)\r\n\t\t\tresult.verification_level = entityData.verificationLevel;\r\n\t\tif (entityData.commissionRate !== undefined)\r\n\t\t\tresult.commission_rate = entityData.commissionRate;\r\n\t\tif (entityData.isFeatured !== undefined)\r\n\t\t\tresult.is_featured = entityData.isFeatured;\r\n\r\n\t\treturn result;\r\n\t}\r\n}\r\n\r\nexport default SellerAdapter;\r\n","// src/core/services/SellerAdminService.ts\r\nimport ApiClient from \"../../infrastructure/api/apiClient\";\r\nimport {API_ENDPOINTS} from \"../../constants/apiEndpoints\";\r\nimport SellerAdapter from \"../../infrastructure/adapters/SellerAdapter\";\r\n\r\n// Interfaces para los datos de creación y actualización\r\nexport interface CreateSellerData {\r\n\tuser_id: number;\r\n\tstore_name: string;\r\n\tdescription?: string;\r\n\tstatus: \"pending\" | \"active\";\r\n\tverification_level: \"none\" | \"basic\" | \"verified\" | \"premium\";\r\n\tcommission_rate: number;\r\n\tis_featured: boolean;\r\n}\r\n\r\nexport interface UpdateSellerData {\r\n\tstore_name?: string;\r\n\tdescription?: string;\r\n\tverification_level?: \"none\" | \"basic\" | \"verified\" | \"premium\";\r\n\tcommission_rate?: number;\r\n\tis_featured?: boolean;\r\n\tuser_id?: number; // AGREGADO para compatibilidad con SellerFormModal\r\n}\r\n\r\nexport interface SellerFilter {\r\n\tstatus?: string;\r\n\tverification_level?: string;\r\n\tsort_by?: string;\r\n\tsort_dir?: \"asc\" | \"desc\";\r\n\tper_page?: number;\r\n\tpage?: number;\r\n}\r\n\r\nexport interface SellerAdminResponse {\r\n\tdata: any[]; // AGREGADO: propiedad data que faltaba\r\n\tsellers?: any[]; // Mantener por compatibilidad\r\n\tmeta: {\r\n\t\ttotal: number;\r\n\t\tcurrent_page: number;\r\n\t\tlast_page: number;\r\n\t\tper_page: number;\r\n\t};\r\n\tpagination?: {\r\n\t\tcurrentPage: number;\r\n\t\ttotalPages: number;\r\n\t\ttotalItems: number;\r\n\t\titemsPerPage: number;\r\n\t};\r\n}\r\n\r\nexport class SellerAdminService {\r\n\t/**\r\n\t * Obtiene la lista de vendedores con filtros opcionales\r\n\t */\r\n\tasync getSellers(filters: SellerFilter = {}) {\r\n\t\ttry {\r\n\t\t\tconst response = await ApiClient.get<any>(\r\n\t\t\t\tAPI_ENDPOINTS.ADMIN.SELLERS,\r\n\t\t\t\tfilters\r\n\t\t\t);\r\n\r\n\t\t\tif (response?.status === \"success\" && response.data) {\r\n\t\t\t\t// Usar adaptador para convertir los datos\r\n\t\t\t\tconst sellers = SellerAdapter.toEntityList(response.data.data);\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tsellers,\r\n\t\t\t\t\tpagination: {\r\n\t\t\t\t\t\tcurrentPage: response.data.current_page || 1,\r\n\t\t\t\t\t\ttotalPages: response.data.last_page || 1,\r\n\t\t\t\t\t\ttotalItems: response.data.total || 0,\r\n\t\t\t\t\t\titemsPerPage: response.data.per_page || 10,\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tthrow new Error(response?.message || \"Error al obtener vendedores\");\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Error al obtener vendedores:\", error);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Actualiza el nivel de verificación de un vendedor\r\n\t */\r\n\tasync updateVerificationLevel(\r\n\t\tid: number,\r\n\t\tlevel: \"none\" | \"basic\" | \"verified\" | \"premium\"\r\n\t) {\r\n\t\ttry {\r\n\t\t\tconst response = await ApiClient.patch<any>(\r\n\t\t\t\tAPI_ENDPOINTS.ADMIN.SELLERS + `/${id}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tverification_level: level,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (response?.status === \"success\") {\r\n\t\t\t\treturn SellerAdapter.toEntity(response.data);\r\n\t\t\t}\r\n\r\n\t\t\tthrow new Error(\r\n\t\t\t\tresponse?.message ||\r\n\t\t\t\t\t\"Error al actualizar nivel de verificación del vendedor\"\r\n\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\r\n\t\t\t\t`Error al actualizar nivel de verificación del vendedor ${id}:`,\r\n\t\t\t\terror\r\n\t\t\t);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Cambia el estado destacado de un vendedor\r\n\t */\r\n\tasync toggleFeatured(id: number, isFeatured: boolean) {\r\n\t\ttry {\r\n\t\t\tconst response = await ApiClient.patch<any>(\r\n\t\t\t\tAPI_ENDPOINTS.ADMIN.SELLERS + `/${id}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tis_featured: isFeatured,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (response?.status === \"success\") {\r\n\t\t\t\treturn SellerAdapter.toEntity(response.data);\r\n\t\t\t}\r\n\r\n\t\t\tthrow new Error(\r\n\t\t\t\tresponse?.message || \"Error al cambiar estado destacado del vendedor\"\r\n\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\r\n\t\t\t\t`Error al cambiar estado destacado del vendedor ${id}:`,\r\n\t\t\t\terror\r\n\t\t\t);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Actualiza el estado de un vendedor\r\n\t */\r\n\tasync updateSellerStatus(\r\n\t\tid: number,\r\n\t\tstatus: \"pending\" | \"active\" | \"suspended\" | \"inactive\",\r\n\t\treason?: string\r\n\t) {\r\n\t\ttry {\r\n\t\t\tconst response = await ApiClient.put<any>(\r\n\t\t\t\tAPI_ENDPOINTS.ADMIN.SELLER_STATUS(id),\r\n\t\t\t\t{\r\n\t\t\t\t\tstatus,\r\n\t\t\t\t\treason,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (response?.status === \"success\") {\r\n\t\t\t\treturn SellerAdapter.toEntity(response.data);\r\n\t\t\t}\r\n\r\n\t\t\tthrow new Error(\r\n\t\t\t\tresponse?.message || \"Error al actualizar estado del vendedor\"\r\n\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(`Error al actualizar estado del vendedor ${id}:`, error);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Crea un nuevo vendedor\r\n\t */\r\n\tasync createSeller(data: CreateSellerData) {\r\n\t\ttry {\r\n\t\t\t// No necesitamos adaptar los datos de entrada porque ya están en el formato del backend\r\n\t\t\tconst response = await ApiClient.post<any>(\r\n\t\t\t\tAPI_ENDPOINTS.ADMIN.CREATE_SELLER,\r\n\t\t\t\tdata\r\n\t\t\t);\r\n\r\n\t\t\tif (response?.status === \"success\") {\r\n\t\t\t\treturn SellerAdapter.toEntity(response.data);\r\n\t\t\t}\r\n\r\n\t\t\tthrow new Error(response?.message || \"Error al crear vendedor\");\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Error al crear vendedor:\", error);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Actualiza información de un vendedor existente\r\n\t */\r\n\tasync updateSeller(id: number, data: UpdateSellerData) {\r\n\t\ttry {\r\n\t\t\tconst response = await ApiClient.put<any>(\r\n\t\t\t\tAPI_ENDPOINTS.ADMIN.UPDATE_SELLER(id),\r\n\t\t\t\tdata\r\n\t\t\t);\r\n\r\n\t\t\tif (response?.status === \"success\") {\r\n\t\t\t\treturn SellerAdapter.toEntity(response.data);\r\n\t\t\t}\r\n\r\n\t\t\tthrow new Error(response?.message || \"Error al actualizar vendedor\");\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(`Error al actualizar vendedor ${id}:`, error);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Obtiene usuarios que no son vendedores (para crear nuevos vendedores)\r\n\t */\r\n\tasync getNonSellerUsers() {\r\n\t\ttry {\r\n\t\t\t// Obtener la lista de usuarios\r\n\t\t\tconst response = await ApiClient.get<any>(API_ENDPOINTS.ADMIN.USERS);\r\n\r\n\t\t\tif (response?.success === true && response.data) {\r\n\t\t\t\t// Filtrar solo usuarios que no son vendedores\r\n\t\t\t\treturn response.data\r\n\t\t\t\t\t.filter((user: any) => !user.is_seller)\r\n\t\t\t\t\t.map((user: any) => ({\r\n\t\t\t\t\t\tid: user.id,\r\n\t\t\t\t\t\tname: user.name,\r\n\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t}));\r\n\t\t\t}\r\n\r\n\t\t\tthrow new Error(response?.message || \"Error al obtener usuarios\");\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Error al obtener usuarios no vendedores:\", error);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default SellerAdminService;\r\n","import React, {useState} from \"react\";\r\nimport {Ban, CheckCircle, AlertTriangle} from \"lucide-react\";\r\n\r\ninterface StatusUpdateModalProps {\r\n\tisOpen: boolean;\r\n\tonClose: () => void;\r\n\tonConfirm: (reason: string) => void;\r\n\ttitle: string;\r\n\tmessage: string;\r\n\tconfirmButtonText: string;\r\n\tstatus: \"suspend\" | \"activate\" | \"deactivate\";\r\n}\r\n\r\nconst StatusUpdateModal: React.FC<StatusUpdateModalProps> = ({\r\n\tisOpen,\r\n\tonClose,\r\n\tonConfirm,\r\n\ttitle,\r\n\tmessage,\r\n\tconfirmButtonText,\r\n\tstatus,\r\n}) => {\r\n\tconst [reason, setReason] = useState(\"\");\r\n\r\n\tif (!isOpen) return null;\r\n\r\n\tconst handleConfirm = () => {\r\n\t\tonConfirm(reason);\r\n\t\tsetReason(\"\");\r\n\t};\r\n\r\n\tconst getStatusIcon = () => {\r\n\t\tswitch (status) {\r\n\t\t\tcase \"suspend\":\r\n\t\t\t\treturn <Ban className=\"h-12 w-12 text-yellow-500\" />;\r\n\t\t\tcase \"deactivate\":\r\n\t\t\t\treturn <Ban className=\"h-12 w-12 text-red-500\" />;\r\n\t\t\tcase \"activate\":\r\n\t\t\t\treturn <CheckCircle className=\"h-12 w-12 text-green-500\" />;\r\n\t\t\tdefault:\r\n\t\t\t\treturn <AlertTriangle className=\"h-12 w-12 text-yellow-500\" />;\r\n\t\t}\r\n\t};\r\n\r\n\tconst getButtonClass = () => {\r\n\t\tswitch (status) {\r\n\t\t\tcase \"suspend\":\r\n\t\t\t\treturn \"bg-yellow-600 hover:bg-yellow-700\";\r\n\t\t\tcase \"deactivate\":\r\n\t\t\t\treturn \"bg-red-600 hover:bg-red-700\";\r\n\t\t\tcase \"activate\":\r\n\t\t\t\treturn \"bg-green-600 hover:bg-green-700\";\r\n\t\t\tdefault:\r\n\t\t\t\treturn \"bg-blue-600 hover:bg-blue-700\";\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n\t\t\t{/* Overlay */}\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"fixed inset-0 bg-black bg-opacity-50\"\r\n\t\t\t\tonClick={onClose}\r\n\t\t\t></div>\r\n\r\n\t\t\t{/* Modal */}\r\n\t\t\t<div className=\"bg-white rounded-lg p-6 w-full max-w-md z-10\">\r\n\t\t\t\t<div className=\"flex flex-col items-center mb-4\">\r\n\t\t\t\t\t{getStatusIcon()}\r\n\t\t\t\t\t<h3 className=\"text-xl font-semibold mt-2 text-gray-900\">\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<p className=\"text-gray-700 mb-4\">{message}</p>\r\n\r\n\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n\t\t\t\t\t\tRazón (opcional):\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\tvalue={reason}\r\n\t\t\t\t\t\tonChange={(e) => setReason(e.target.value)}\r\n\t\t\t\t\t\tplaceholder=\"Explique brevemente la razón de esta acción...\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"flex justify-end space-x-3\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 transition-colors\"\r\n\t\t\t\t\t\tonClick={onClose}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName={`px-4 py-2 text-white rounded-md transition-colors ${getButtonClass()}`}\r\n\t\t\t\t\t\tonClick={handleConfirm}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{confirmButtonText}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default StatusUpdateModal;\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {Store, X} from \"lucide-react\";\r\nimport type {Seller} from \"../../../core/domain/entities/Seller\";\r\nimport type {\r\n\tCreateSellerData,\r\n\tUpdateSellerData,\r\n} from \"../../../core/services/SellerAdminService\";\r\n\r\ninterface SellerFormModalProps {\r\n\tisOpen: boolean;\r\n\tonClose: () => void;\r\n\tonSubmit: (data: CreateSellerData | UpdateSellerData) => Promise<void>;\r\n\tseller?: Seller | null;\r\n\ttitle: string;\r\n\tisCreate?: boolean;\r\n\tusers?: {id: number; name: string; email: string}[];\r\n}\r\n\r\nconst SellerFormModal: React.FC<SellerFormModalProps> = ({\r\n\tisOpen,\r\n\tonClose,\r\n\tonSubmit,\r\n\tseller,\r\n\ttitle,\r\n\tisCreate = false,\r\n\tusers = [],\r\n}) => {\r\n\tconst [formData, setFormData] = useState<CreateSellerData | UpdateSellerData>(\r\n\t\t{\r\n\t\t\tstore_name: \"\",\r\n\t\t\tdescription: \"\",\r\n\t\t\tstatus: \"pending\",\r\n\t\t\tverification_level: \"none\",\r\n\t\t\tcommission_rate: 10,\r\n\t\t\tis_featured: false,\r\n\t\t\tuser_id: 0,\r\n\t\t}\r\n\t);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [error, setError] = useState<string | null>(null);\r\n\r\n\t// Cargar datos del vendedor si es edición\r\n\tuseEffect(() => {\r\n\t\tif (seller && !isCreate) {\r\n\t\t\tsetFormData({\r\n\t\t\t\tstore_name: seller.storeName,\r\n\t\t\t\tdescription: seller.description || \"\",\r\n\t\t\t\tverification_level: seller.verificationLevel as\r\n\t\t\t\t\t| \"none\"\r\n\t\t\t\t\t| \"basic\"\r\n\t\t\t\t\t| \"verified\"\r\n\t\t\t\t\t| \"premium\",\r\n\t\t\t\tcommission_rate: seller.commissionRate,\r\n\t\t\t\tis_featured: seller.isFeatured,\r\n\t\t\t});\r\n\t\t} else if (isCreate) {\r\n\t\t\t// Valores por defecto para creación\r\n\t\t\tsetFormData({\r\n\t\t\t\tuser_id: users.length > 0 ? users[0].id : 0,\r\n\t\t\t\tstore_name: \"\",\r\n\t\t\t\tdescription: \"\",\r\n\t\t\t\tstatus: \"pending\",\r\n\t\t\t\tverification_level: \"none\",\r\n\t\t\t\tcommission_rate: 10,\r\n\t\t\t\tis_featured: false,\r\n\t\t\t});\r\n\t\t}\r\n\t}, [seller, isCreate, users]);\r\n\r\n\tif (!isOpen) return null;\r\n\r\n\tconst handleChange = (\r\n\t\te: React.ChangeEvent<\r\n\t\t\tHTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\r\n\t\t>\r\n\t) => {\r\n\t\tconst {name, value, type} = e.target;\r\n\r\n\t\tif (type === \"checkbox\") {\r\n\t\t\tconst checkbox = e.target as HTMLInputElement;\r\n\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\t[name]: checkbox.checked,\r\n\t\t\t}));\r\n\t\t} else if (name === \"commission_rate\") {\r\n\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\t[name]: parseFloat(value),\r\n\t\t\t}));\r\n\t\t} else if (name === \"user_id\") {\r\n\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\t[name]: parseInt(value, 10),\r\n\t\t\t}));\r\n\t\t} else {\r\n\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\t[name]: value,\r\n\t\t\t}));\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSubmit = async (e: React.FormEvent) => {\r\n\t\te.preventDefault();\r\n\t\tsetLoading(true);\r\n\t\tsetError(null);\r\n\r\n\t\ttry {\r\n\t\t\tawait onSubmit(formData);\r\n\t\t\tonClose();\r\n\t\t} catch (err) {\r\n\t\t\tif (err instanceof Error) {\r\n\t\t\t\tsetError(err.message);\r\n\t\t\t} else {\r\n\t\t\t\tsetError(\"Error al procesar el formulario\");\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n\t\t\t{/* Overlay */}\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"fixed inset-0 bg-black bg-opacity-50\"\r\n\t\t\t\tonClick={onClose}\r\n\t\t\t></div>\r\n\r\n\t\t\t{/* Modal */}\r\n\t\t\t<div className=\"bg-white rounded-lg p-6 w-full max-w-lg z-10 max-h-[90vh] overflow-y-auto\">\r\n\t\t\t\t<div className=\"flex justify-between items-center mb-4\">\r\n\t\t\t\t\t<div className=\"flex items-center\">\r\n\t\t\t\t\t\t<Store className=\"h-6 w-6 mr-2 text-primary-600\" />\r\n\t\t\t\t\t\t<h3 className=\"text-xl font-semibold text-gray-900\">{title}</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={onClose}\r\n\t\t\t\t\t\tclassName=\"text-gray-400 hover:text-gray-500\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<X className=\"h-5 w-5\" />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{error && (\r\n\t\t\t\t\t<div className=\"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\r\n\t\t\t\t\t\t{error}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t\t{/* Selección de usuario (solo para creación) */}\r\n\t\t\t\t\t{isCreate && (\r\n\t\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n\t\t\t\t\t\t\t\tUsuario:\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tname=\"user_id\"\r\n\t\t\t\t\t\t\t\tvalue={(formData as CreateSellerData).user_id || 0} // CORREGIDO: cast explícito y valor por defecto\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tclassName=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option value=\"\">Seleccionar usuario</option>\r\n\t\t\t\t\t\t\t\t{users.map((user) => (\r\n\t\t\t\t\t\t\t\t\t<option key={user.id} value={user.id}>\r\n\t\t\t\t\t\t\t\t\t\t{user.name} ({user.email})\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{/* Nombre de la tienda */}\r\n\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n\t\t\t\t\t\t\tNombre de la tienda:\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"store_name\"\r\n\t\t\t\t\t\t\tvalue={formData.store_name}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tclassName=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Descripción */}\r\n\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n\t\t\t\t\t\t\tDescripción:\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\tvalue={formData.description}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tclassName=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Estado (solo para creación) */}\r\n\t\t\t\t\t{isCreate && (\r\n\t\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n\t\t\t\t\t\t\t\tEstado inicial:\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tname=\"status\"\r\n\t\t\t\t\t\t\t\tvalue={(formData as CreateSellerData).status}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tclassName=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option value=\"pending\">Pendiente</option>\r\n\t\t\t\t\t\t\t\t<option value=\"active\">Activo</option>\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{/* Nivel de verificación */}\r\n\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n\t\t\t\t\t\t\tNivel de verificación:\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tname=\"verification_level\"\r\n\t\t\t\t\t\t\tvalue={formData.verification_level}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tclassName=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"none\">Sin verificar</option>\r\n\t\t\t\t\t\t\t<option value=\"basic\">Básica</option>\r\n\t\t\t\t\t\t\t<option value=\"verified\">Verificado</option>\r\n\t\t\t\t\t\t\t<option value=\"premium\">Premium</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Comisión */}\r\n\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n\t\t\t\t\t\t\tTasa de comisión (%):\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"commission_rate\"\r\n\t\t\t\t\t\t\tvalue={formData.commission_rate}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\t\t\tstep=\"0.1\"\r\n\t\t\t\t\t\t\tclassName=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Destacado */}\r\n\t\t\t\t\t<div className=\"mb-4 flex items-center\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\tname=\"is_featured\"\r\n\t\t\t\t\t\t\tid=\"is_featured\"\r\n\t\t\t\t\t\t\tchecked={!!formData.is_featured}\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\tis_featured: e.target.checked,\r\n\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\thtmlFor=\"is_featured\"\r\n\t\t\t\t\t\t\tclassName=\"ml-2 block text-sm text-gray-700\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDestacar vendedor\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Botones */}\r\n\t\t\t\t\t<div className=\"flex justify-end space-x-3 mt-6\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tonClick={onClose}\r\n\t\t\t\t\t\t\tclassName=\"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 transition-colors\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\tclassName=\"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors disabled:opacity-70 disabled:cursor-not-allowed flex items-center\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<circle\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"opacity-25\"\r\n\t\t\t\t\t\t\t\t\t\t\tcx=\"12\"\r\n\t\t\t\t\t\t\t\t\t\t\tcy=\"12\"\r\n\t\t\t\t\t\t\t\t\t\t\tr=\"10\"\r\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth=\"4\"\r\n\t\t\t\t\t\t\t\t\t\t></circle>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"opacity-75\"\r\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n\t\t\t\t\t\t\t\t\t\t></path>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\tProcesando...\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : isCreate ? (\r\n\t\t\t\t\t\t\t\t\"Crear vendedor\"\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\"Guardar cambios\"\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SellerFormModal;\r\n","import React, {useState, useEffect} from \"react\";\r\nimport Table from \"../../components/dashboard/Table\";\r\nimport {\r\n\tStore,\r\n\tShieldCheck,\r\n\tStar,\r\n\tPackage,\r\n\tDollarSign,\r\n\tFilter,\r\n\tRefreshCw,\r\n\tEye,\r\n\tBan,\r\n\tCheckCircle,\r\n\tClock,\r\n\tUserPlus,\r\n} from \"lucide-react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport type {Seller} from \"../../../core/domain/entities/Seller\";\r\nimport SellerAdminService from \"../../../core/services/SellerAdminService\";\r\nimport StatusUpdateModal from \"../../components/admin/StatusUpdateModal\";\r\nimport SellerFormModal from \"../../components/admin/SellerFormModal\";\r\n\r\nconst AdminSellersPage: React.FC = () => {\r\n\tconst [sellers, setSellers] = useState<Seller[]>([]);\r\n\tconst [loading, setLoading] = useState(true);\r\n\tconst [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n\tconst [verificationFilter, setVerificationFilter] = useState<string>(\"all\");\r\n\tconst [pagination, setPagination] = useState({\r\n\t\tcurrentPage: 1,\r\n\t\ttotalPages: 1,\r\n\t\ttotalItems: 0,\r\n\t\titemsPerPage: 10,\r\n\t});\r\n\r\n\t// Estados para modales\r\n\tconst [statusModal, setStatusModal] = useState({\r\n\t\tisOpen: false,\r\n\t\tsellerId: 0,\r\n\t\tstatus: \"activate\" as \"activate\" | \"suspend\" | \"deactivate\",\r\n\t\ttitle: \"\",\r\n\t\tmessage: \"\",\r\n\t\tbuttonText: \"\",\r\n\t});\r\n\r\n\tconst [sellerFormModal, setSellerFormModal] = useState({\r\n\t\tisOpen: false,\r\n\t\tseller: null as Seller | null,\r\n\t\tisCreate: true,\r\n\t\ttitle: \"Crear nuevo vendedor\",\r\n\t});\r\n\r\n\tconst [nonSellerUsers, setNonSellerUsers] = useState<\r\n\t\tArray<{id: number; name: string; email: string}>\r\n\t>([]);\r\n\tconst [error, setError] = useState<string | null>(null);\r\n\r\n\t// Inicializar el servicio\r\n\tconst sellerService = new SellerAdminService();\r\n\r\n\t// Cargar datos de vendedores\r\n\tuseEffect(() => {\r\n\t\tfetchSellers();\r\n\t}, [statusFilter, verificationFilter, pagination.currentPage]);\r\n\r\n\t// Función para obtener vendedores del backend\r\n\tconst fetchSellers = async () => {\r\n\t\tsetLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\r\n\t\t\tconst filters: any = {\r\n\t\t\t\tpage: pagination.currentPage,\r\n\t\t\t\tper_page: pagination.itemsPerPage,\r\n\t\t\t};\r\n\r\n\t\t\t// Añadir filtros si están definidos\r\n\t\t\tif (statusFilter !== \"all\") {\r\n\t\t\t\tfilters.status = statusFilter;\r\n\t\t\t}\r\n\r\n\t\t\tif (verificationFilter !== \"all\") {\r\n\t\t\t\tfilters.verification_level = verificationFilter;\r\n\t\t\t}\r\n\r\n\t\t\tconst result = await sellerService.getSellers(filters);\r\n\t\t\tsetSellers(result.sellers);\r\n\t\t\tsetPagination(result.pagination);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Error al obtener vendedores:\", error);\r\n\t\t\tsetError(\"Error al cargar vendedores. Por favor, inténtalo de nuevo.\");\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// Cargar usuarios no vendedores (para crear nuevos vendedores)\r\n\tconst loadNonSellerUsers = async () => {\r\n\t\ttry {\r\n\t\t\tconst users = await sellerService.getNonSellerUsers();\r\n\t\t\tsetNonSellerUsers(users);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Error al cargar usuarios:\", error);\r\n\t\t\tsetError(\"Error al cargar usuarios. Por favor, inténtalo de nuevo.\");\r\n\t\t}\r\n\t};\r\n\r\n\t// Manejar cambio de estado de vendedor\r\n\tconst toggleSellerStatus = (sellerId: number) => {\r\n\t\t// Buscar el vendedor\r\n\t\tconst seller = sellers.find((s) => s.id === sellerId);\r\n\t\tif (!seller) return;\r\n\r\n\t\tlet status: \"activate\" | \"suspend\" | \"deactivate\";\r\n\t\tlet title = \"\";\r\n\t\tlet message = \"\";\r\n\t\tlet buttonText = \"\";\r\n\r\n\t\tif (seller.status === \"active\") {\r\n\t\t\tstatus = \"suspend\";\r\n\t\t\ttitle = \"Suspender vendedor\";\r\n\t\t\tmessage = `¿Estás seguro de que deseas suspender al vendedor \"${seller.storeName}\"? Esta acción limitará temporalmente su capacidad para vender.`;\r\n\t\t\tbuttonText = \"Suspender\";\r\n\t\t} else if (seller.status === \"suspended\") {\r\n\t\t\tstatus = \"deactivate\";\r\n\t\t\ttitle = \"Desactivar vendedor\";\r\n\t\t\tmessage = `¿Estás seguro de que deseas desactivar al vendedor \"${seller.storeName}\"? Esta acción lo desactivará completamente.`;\r\n\t\t\tbuttonText = \"Desactivar\";\r\n\t\t} else {\r\n\t\t\tstatus = \"activate\";\r\n\t\t\ttitle = \"Activar vendedor\";\r\n\t\t\tmessage = `¿Estás seguro de que deseas activar al vendedor \"${seller.storeName}\"? Esta acción permitirá que vuelva a vender en la plataforma.`;\r\n\t\t\tbuttonText = \"Activar\";\r\n\t\t}\r\n\r\n\t\tsetStatusModal({\r\n\t\t\tisOpen: true,\r\n\t\t\tsellerId,\r\n\t\t\tstatus,\r\n\t\t\ttitle,\r\n\t\t\tmessage,\r\n\t\t\tbuttonText,\r\n\t\t});\r\n\t};\r\n\r\n\t// Procesar cambio de estado\r\n\tconst handleStatusUpdate = async (reason: string) => {\r\n\t\tsetLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\r\n\t\t\tconst {sellerId, status} = statusModal;\r\n\t\t\tlet newStatus: \"active\" | \"suspended\" | \"inactive\";\r\n\r\n\t\t\tif (status === \"activate\") {\r\n\t\t\t\tnewStatus = \"active\";\r\n\t\t\t} else if (status === \"suspend\") {\r\n\t\t\t\tnewStatus = \"suspended\";\r\n\t\t\t} else {\r\n\t\t\t\tnewStatus = \"inactive\";\r\n\t\t\t}\r\n\r\n\t\t\tawait sellerService.updateSellerStatus(sellerId, newStatus, reason);\r\n\r\n\t\t\t// Actualizar el estado local para reflejar el cambio inmediatamente\r\n\t\t\tsetSellers((prevSellers) =>\r\n\t\t\t\tprevSellers.map((seller) => {\r\n\t\t\t\t\tif (seller.id === sellerId) {\r\n\t\t\t\t\t\treturn {...seller, status: newStatus};\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn seller;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t\t// Cerrar el modal\r\n\t\t\tsetStatusModal((prev) => ({...prev, isOpen: false}));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Error al actualizar estado:\", error);\r\n\t\t\tsetError(\r\n\t\t\t\t\"Error al actualizar el estado del vendedor. Por favor, inténtalo de nuevo.\"\r\n\t\t\t);\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// Aprobar vendedor pendiente\r\n\tconst approveSeller = async (sellerId: number) => {\r\n\t\tsetLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\r\n\t\t\tawait sellerService.updateSellerStatus(sellerId, \"active\");\r\n\r\n\t\t\t// Actualizar el estado local\r\n\t\t\tsetSellers((prevSellers) =>\r\n\t\t\t\tprevSellers.map((seller) => {\r\n\t\t\t\t\tif (seller.id === sellerId) {\r\n\t\t\t\t\t\treturn {...seller, status: \"active\"};\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn seller;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t\talert(`Vendedor #${sellerId} ha sido aprobado`);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Error al aprobar vendedor:\", error);\r\n\t\t\tsetError(\"Error al aprobar el vendedor. Por favor, inténtalo de nuevo.\");\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// Cambiar nivel de verificación\r\n\tconst updateVerificationLevel = async (\r\n\t\tsellerId: number,\r\n\t\tlevel: \"none\" | \"basic\" | \"verified\" | \"premium\"\r\n\t) => {\r\n\t\tsetLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\r\n\t\t\tawait sellerService.updateSeller(sellerId, {verification_level: level});\r\n\r\n\t\t\t// Actualizar el estado local\r\n\t\t\tsetSellers((prevSellers) =>\r\n\t\t\t\tprevSellers.map((seller) => {\r\n\t\t\t\t\tif (seller.id === sellerId) {\r\n\t\t\t\t\t\treturn {...seller, verificationLevel: level};\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn seller;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t\talert(\r\n\t\t\t\t`Nivel de verificación actualizado a \"${level}\" para vendedor #${sellerId}`\r\n\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Error al actualizar verificación:\", error);\r\n\t\t\tsetError(\r\n\t\t\t\t\"Error al actualizar nivel de verificación. Por favor, inténtalo de nuevo.\"\r\n\t\t\t);\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// Destacar/Quitar destacado de vendedor\r\n\tconst toggleFeatured = async (sellerId: number) => {\r\n\t\t// Buscar el vendedor para determinar el estado actual\r\n\t\tconst seller = sellers.find((s) => s.id === sellerId);\r\n\t\tif (!seller) return;\r\n\r\n\t\tsetLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\r\n\t\t\tawait sellerService.updateSeller(sellerId, {\r\n\t\t\t\tis_featured: !seller.isFeatured,\r\n\t\t\t});\r\n\r\n\t\t\t// Actualizar el estado local\r\n\t\t\tsetSellers((prevSellers) =>\r\n\t\t\t\tprevSellers.map((seller) => {\r\n\t\t\t\t\tif (seller.id === sellerId) {\r\n\t\t\t\t\t\treturn {...seller, isFeatured: !seller.isFeatured};\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn seller;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Error al actualizar estado destacado:\", error);\r\n\t\t\tsetError(\r\n\t\t\t\t\"Error al actualizar estado destacado. Por favor, inténtalo de nuevo.\"\r\n\t\t\t);\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// Abrir modal para crear nuevo vendedor\r\n\tconst handleCreateSeller = () => {\r\n\t\t// Cargar usuarios no vendedores\r\n\t\tloadNonSellerUsers();\r\n\r\n\t\tsetSellerFormModal({\r\n\t\t\tisOpen: true,\r\n\t\t\tseller: null,\r\n\t\t\tisCreate: true,\r\n\t\t\ttitle: \"Crear nuevo vendedor\",\r\n\t\t});\r\n\t};\r\n\r\n\t// Abrir modal para editar vendedor\r\n\tconst handleEditSeller = (seller: Seller) => {\r\n\t\tsetSellerFormModal({\r\n\t\t\tisOpen: true,\r\n\t\t\tseller,\r\n\t\t\tisCreate: false,\r\n\t\t\ttitle: `Editar vendedor: ${seller.storeName}`,\r\n\t\t});\r\n\t};\r\n\r\n\t// Procesar formulario de creación/edición\r\n\tconst handleSellerFormSubmit = async (formData: any) => {\r\n\t\tsetLoading(true);\r\n\t\tsetError(null);\r\n\t\ttry {\r\n\t\t\tif (sellerFormModal.isCreate) {\r\n\t\t\t\t// Crear nuevo vendedor\r\n\t\t\t\tawait sellerService.createSeller(formData);\r\n\t\t\t\talert(\"Vendedor creado correctamente\");\r\n\t\t\t} else if (sellerFormModal.seller) {\r\n\t\t\t\t// Actualizar vendedor existente\r\n\t\t\t\tawait sellerService.updateSeller(sellerFormModal.seller.id, formData);\r\n\t\t\t\talert(\"Vendedor actualizado correctamente\");\r\n\t\t\t}\r\n\r\n\t\t\t// Recargar lista de vendedores\r\n\t\t\tfetchSellers();\r\n\t\t\t// Cerrar modal\r\n\t\t\tsetSellerFormModal((prev) => ({...prev, isOpen: false}));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Error al procesar vendedor:\", error);\r\n\t\t\tthrow error; // Propagamos el error para que lo maneje el componente del formulario\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// Manejar cambio de página\r\n\tconst handlePageChange = (page: number) => {\r\n\t\tsetPagination((prev) => ({...prev, currentPage: page}));\r\n\t};\r\n\r\n\t// Refrescar datos\r\n\tconst refreshData = () => {\r\n\t\tfetchSellers();\r\n\t};\r\n\r\n\t// Formatear moneda\r\n\tconst formatCurrency = (amount: number) => {\r\n\t\treturn new Intl.NumberFormat(\"es-ES\", {\r\n\t\t\tstyle: \"currency\",\r\n\t\t\tcurrency: \"EUR\",\r\n\t\t\tminimumFractionDigits: 2,\r\n\t\t}).format(amount);\r\n\t};\r\n\r\n\t// Definir columnas de la tabla\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\tkey: \"store\",\r\n\t\t\theader: \"Tienda\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (seller: Seller) => (\r\n\t\t\t\t<div className=\"flex items-center\">\r\n\t\t\t\t\t<div className=\"flex-shrink-0 h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center overflow-hidden\">\r\n\t\t\t\t\t\t<Store className=\"h-6 w-6 text-primary-600\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"ml-4\">\r\n\t\t\t\t\t\t<div className=\"text-sm font-medium text-gray-900 flex items-center\">\r\n\t\t\t\t\t\t\t{seller.storeName}\r\n\t\t\t\t\t\t\t{seller.isFeatured && (\r\n\t\t\t\t\t\t\t\t<span className=\"ml-2\">\r\n\t\t\t\t\t\t\t\t\t<Star className=\"h-4 w-4 text-yellow-500 inline\" />\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-xs text-gray-500\">\r\n\t\t\t\t\t\t\tID: {seller.id} - User ID: {seller.userId}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"status\",\r\n\t\t\theader: \"Estado\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (seller: Seller) => {\r\n\t\t\t\tlet statusColor = \"\";\r\n\t\t\t\tlet statusText = \"\";\r\n\t\t\t\tlet StatusIcon: any = null;\r\n\r\n\t\t\t\tswitch (seller.status) {\r\n\t\t\t\t\tcase \"active\":\r\n\t\t\t\t\t\tstatusColor =\r\n\t\t\t\t\t\t\t\"bg-green-100 text-green-800\";\r\n\t\t\t\t\t\tstatusText = \"Activo\";\r\n\t\t\t\t\t\tStatusIcon = CheckCircle;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"pending\":\r\n\t\t\t\t\t\tstatusColor =\r\n\t\t\t\t\t\t\t\"bg-yellow-100 text-yellow-800\";\r\n\t\t\t\t\t\tstatusText = \"Pendiente\";\r\n\t\t\t\t\t\tStatusIcon = Clock;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"suspended\":\r\n\t\t\t\t\t\tstatusColor =\r\n\t\t\t\t\t\t\t\"bg-red-100 text-red-800\";\r\n\t\t\t\t\t\tstatusText = \"Suspendido\";\r\n\t\t\t\t\t\tStatusIcon = Ban;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"inactive\":\r\n\t\t\t\t\t\tstatusColor =\r\n\t\t\t\t\t\t\t\"bg-gray-100 text-gray-800\";\r\n\t\t\t\t\t\tstatusText = \"Inactivo\";\r\n\t\t\t\t\t\tStatusIcon = Eye;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${statusColor}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{StatusIcon && <StatusIcon className=\"w-3 h-3 mr-1\" />}\r\n\t\t\t\t\t\t{statusText}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"verification\",\r\n\t\t\theader: \"Verificación\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (seller: Seller) => {\r\n\t\t\t\tlet verificationColor = \"\";\r\n\t\t\t\tlet verificationText = \"\";\r\n\r\n\t\t\t\tswitch (seller.verificationLevel) {\r\n\t\t\t\t\tcase \"none\":\r\n\t\t\t\t\t\tverificationColor =\r\n\t\t\t\t\t\t\t\"bg-gray-100 text-gray-800\";\r\n\t\t\t\t\t\tverificationText = \"Sin verificar\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"basic\":\r\n\t\t\t\t\t\tverificationColor =\r\n\t\t\t\t\t\t\t\"bg-blue-100 text-blue-800\";\r\n\t\t\t\t\t\tverificationText = \"Básica\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"verified\":\r\n\t\t\t\t\t\tverificationColor =\r\n\t\t\t\t\t\t\t\"bg-green-100 text-green-800\";\r\n\t\t\t\t\t\tverificationText = \"Verificada\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"premium\":\r\n\t\t\t\t\t\tverificationColor =\r\n\t\t\t\t\t\t\t\"bg-purple-100 text-purple-800\";\r\n\t\t\t\t\t\tverificationText = \"Premium\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${verificationColor}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{verificationText}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"rating\",\r\n\t\t\theader: \"Valoración\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (seller: Seller) => (\r\n\t\t\t\t<div className=\"flex items-center\">\r\n\t\t\t\t\t{(seller.averageRating ?? 0) > 0 ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Star className=\"h-4 w-4 text-yellow-500 mr-1\" />\r\n\t\t\t\t\t\t\t<span>{(seller.averageRating ?? 0).toFixed(1)}</span>\r\n\t\t\t\t\t\t\t<span className=\"text-xs text-gray-500 ml-1\">\r\n\t\t\t\t\t\t\t\t({seller.totalRatings ?? 0})\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<span className=\"text-xs text-gray-500\">\r\n\t\t\t\t\t\t\tSin valoraciones\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"sales\",\r\n\t\t\theader: \"Ventas\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (seller: Seller) => (\r\n\t\t\t\t<div className=\"flex items-center\">\r\n\t\t\t\t\t<DollarSign className=\"h-4 w-4 text-green-500 mr-1\" />\r\n\t\t\t\t\t<span>{formatCurrency(seller.totalSales)}</span>\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"products\",\r\n\t\t\theader: \"Productos\",\r\n\t\t\trender: (seller: Seller) => (\r\n\t\t\t\t<Link\r\n\t\t\t\t\tto={`/admin/products?sellerId=${seller.id}`}\r\n\t\t\t\t\tclassName=\"text-primary-600 hover:text-primary-800 underline flex items-center\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Package className=\"h-4 w-4 mr-1\" />\r\n\t\t\t\t\tVer productos\r\n\t\t\t\t</Link>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"createdAt\",\r\n\t\t\theader: \"Creado\",\r\n\t\t\tsortable: true,\r\n\t\t\trender: (seller: Seller) => {\r\n\t\t\t\tconst date = new Date(seller.createdAt || \"\");\r\n\t\t\t\treturn date.toLocaleDateString();\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"actions\",\r\n\t\t\theader: \"Acciones\",\r\n\t\t\trender: (seller: Seller) => (\r\n\t\t\t\t<div className=\"flex justify-end space-x-2\">\r\n\t\t\t\t\t{/* Botón para cambiar estado */}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => toggleSellerStatus(seller.id)}\r\n\t\t\t\t\t\tclassName={`p-1 rounded-md ${\r\n\t\t\t\t\t\t\tseller.status === \"active\"\r\n\t\t\t\t\t\t\t\t? \"text-red-600 hover:bg-red-100\"\r\n\t\t\t\t\t\t\t\t: \"text-green-600 hover:bg-green-100\"\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\tseller.status === \"active\"\r\n\t\t\t\t\t\t\t\t? \"Suspender vendedor\"\r\n\t\t\t\t\t\t\t\t: seller.status === \"suspended\"\r\n\t\t\t\t\t\t\t\t\t? \"Desactivar vendedor\"\r\n\t\t\t\t\t\t\t\t\t: \"Activar vendedor\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{seller.status === \"active\" ? (\r\n\t\t\t\t\t\t\t<Ban size={18} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<CheckCircle size={18} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t{/* Botón de aprobación para vendedores pendientes */}\r\n\t\t\t\t\t{seller.status === \"pending\" && (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() => approveSeller(seller.id)}\r\n\t\t\t\t\t\t\tclassName=\"p-1 text-green-600 hover:bg-green-100 rounded-md\"\r\n\t\t\t\t\t\t\ttitle=\"Aprobar vendedor\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CheckCircle size={18} />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{/* Botón para alternar destacado */}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => toggleFeatured(seller.id)}\r\n\t\t\t\t\t\tclassName={`p-1 rounded-md ${\r\n\t\t\t\t\t\t\tseller.isFeatured\r\n\t\t\t\t\t\t\t\t? \"text-yellow-600 hover:bg-yellow-100\"\r\n\t\t\t\t\t\t\t\t: \"text-gray-600 hover:bg-gray-100\"\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\ttitle={seller.isFeatured ? \"Quitar destacado\" : \"Destacar vendedor\"}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Star size={18} />\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t{/* Botones para niveles de verificación (menú desplegable en una app real) */}\r\n\t\t\t\t\t<div className=\"relative group\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"p-1 text-blue-600 hover:bg-blue-100 rounded-md\"\r\n\t\t\t\t\t\t\ttitle=\"Actualizar nivel de verificación\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ShieldCheck size={18} />\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t{/* En una app real, esto sería un menú desplegable */}\r\n\t\t\t\t\t\t<div className=\"hidden group-hover:block absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200\">\r\n\t\t\t\t\t\t\t<div className=\"py-1\">\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() => updateVerificationLevel(seller.id, \"none\")}\r\n\t\t\t\t\t\t\t\t\tclassName=\"block w-full px-4 py-2 text-sm text-left text-gray-700 hover:bg-gray-100\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSin verificar\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() => updateVerificationLevel(seller.id, \"basic\")}\r\n\t\t\t\t\t\t\t\t\tclassName=\"block w-full px-4 py-2 text-sm text-left text-gray-700 hover:bg-gray-100\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tVerificación básica\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() => updateVerificationLevel(seller.id, \"verified\")}\r\n\t\t\t\t\t\t\t\t\tclassName=\"block w-full px-4 py-2 text-sm text-left text-gray-700 hover:bg-gray-100\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tVerificado\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() => updateVerificationLevel(seller.id, \"premium\")}\r\n\t\t\t\t\t\t\t\t\tclassName=\"block w-full px-4 py-2 text-sm text-left text-gray-700 hover:bg-gray-100\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tVerificación premium\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Botón para editar vendedor */}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => handleEditSeller(seller)}\r\n\t\t\t\t\t\tclassName=\"p-1 text-blue-600 hover:bg-blue-100 rounded-md\"\r\n\t\t\t\t\t\ttitle=\"Editar vendedor\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tclassName=\"h-4 w-4\"\r\n\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\r\n\t\t\t\t\t\t\t\tstrokeWidth={2}\r\n\t\t\t\t\t\t\t\td=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t{/* Ver detalles del vendedor */}\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={`/admin/sellers/${seller.id}`}\r\n\t\t\t\t\t\tclassName=\"p-1 text-primary-600 hover:bg-primary-100 rounded-md\"\r\n\t\t\t\t\t\ttitle=\"Ver detalles\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Eye size={18} />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div className=\"space-y-6\">\r\n\t\t\t<div className=\"flex justify-between items-center\">\r\n\t\t\t\t<h1 className=\"text-2xl font-bold text-gray-900\">\r\n\t\t\t\t\tGestión de Vendedores\r\n\t\t\t\t</h1>\r\n\t\t\t\t<div className=\"flex space-x-2\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={handleCreateSeller}\r\n\t\t\t\t\t\tclassName=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<UserPlus size={18} className=\"inline mr-2\" />\r\n\t\t\t\t\t\tNuevo Vendedor\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={refreshData}\r\n\t\t\t\t\t\tclassName=\"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\"\r\n\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RefreshCw\r\n\t\t\t\t\t\t\tsize={18}\r\n\t\t\t\t\t\t\tclassName={`inline mr-2 ${loading ? \"animate-spin\" : \"\"}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\tActualizar\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Mensaje de error */}\r\n\t\t\t{error && (\r\n\t\t\t\t<div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\">\r\n\t\t\t\t\t<span className=\"block sm:inline\">{error}</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{/* Filtros */}\r\n\t\t\t<div className=\"bg-white rounded-lg shadow-sm p-4\">\r\n\t\t\t\t<div className=\"flex flex-col md:flex-row gap-4\">\r\n\t\t\t\t\t{/* Filtro de Estado */}\r\n\t\t\t\t\t<div className=\"flex items-center space-x-2\">\r\n\t\t\t\t\t\t<Filter className=\"h-5 w-5 text-gray-500\" />\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName=\"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\tvalue={statusFilter}\r\n\t\t\t\t\t\t\tonChange={(e) => setStatusFilter(e.target.value)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"all\">Todos los Estados</option>\r\n\t\t\t\t\t\t\t<option value=\"active\">Activos</option>\r\n\t\t\t\t\t\t\t<option value=\"pending\">Pendientes</option>\r\n\t\t\t\t\t\t\t<option value=\"suspended\">Suspendidos</option>\r\n\t\t\t\t\t\t\t<option value=\"inactive\">Inactivos</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Filtro de Nivel de Verificación */}\r\n\t\t\t\t\t<div className=\"flex items-center space-x-2\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName=\"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\tvalue={verificationFilter}\r\n\t\t\t\t\t\t\tonChange={(e) => setVerificationFilter(e.target.value)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"all\">Todos los Niveles de Verificación</option>\r\n\t\t\t\t\t\t\t<option value=\"none\">Sin verificar</option>\r\n\t\t\t\t\t\t\t<option value=\"basic\">Verificación básica</option>\r\n\t\t\t\t\t\t\t<option value=\"verified\">Verificados</option>\r\n\t\t\t\t\t\t\t<option value=\"premium\">Verificación premium</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Tabla de Vendedores */}\r\n\t\t\t<Table\r\n\t\t\t\tdata={sellers}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tsearchFields={[\"storeName\", \"description\"]}\r\n\t\t\t\tloading={loading}\r\n\t\t\t\temptyMessage=\"No se encontraron vendedores\"\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tcurrentPage: pagination.currentPage,\r\n\t\t\t\t\ttotalPages: pagination.totalPages,\r\n\t\t\t\t\ttotalItems: pagination.totalItems,\r\n\t\t\t\t\titemsPerPage: pagination.itemsPerPage,\r\n\t\t\t\t\tonPageChange: handlePageChange,\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\r\n\t\t\t{/* Modal de actualización de estado */}\r\n\t\t\t<StatusUpdateModal\r\n\t\t\t\tisOpen={statusModal.isOpen}\r\n\t\t\t\tonClose={() => setStatusModal((prev) => ({...prev, isOpen: false}))}\r\n\t\t\t\tonConfirm={handleStatusUpdate}\r\n\t\t\t\ttitle={statusModal.title}\r\n\t\t\t\tmessage={statusModal.message}\r\n\t\t\t\tconfirmButtonText={statusModal.buttonText}\r\n\t\t\t\tstatus={statusModal.status}\r\n\t\t\t/>\r\n\r\n\t\t\t{/* Modal de creación/edición de vendedor */}\r\n\t\t\t<SellerFormModal\r\n\t\t\t\tisOpen={sellerFormModal.isOpen}\r\n\t\t\t\tonClose={() => setSellerFormModal((prev) => ({...prev, isOpen: false}))}\r\n\t\t\t\tonSubmit={handleSellerFormSubmit}\r\n\t\t\t\tseller={sellerFormModal.seller}\r\n\t\t\t\ttitle={sellerFormModal.title}\r\n\t\t\t\tisCreate={sellerFormModal.isCreate}\r\n\t\t\t\tusers={nonSellerUsers}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AdminSellersPage;\r\n"],"names":["__iconNode","UserPlus","createLucideIcon","SellerAdapter","backendData","backendDataList","data","entityData","result","SellerAdminService","filters","response","ApiClient","API_ENDPOINTS","error","id","level","isFeatured","status","reason","user","StatusUpdateModal","isOpen","onClose","onConfirm","title","message","confirmButtonText","setReason","useState","handleConfirm","getStatusIcon","jsx","Ban","CheckCircle","AlertTriangle","getButtonClass","jsxs","e","SellerFormModal","onSubmit","seller","isCreate","users","formData","setFormData","loading","setLoading","setError","useEffect","handleChange","name","value","type","checkbox","prev","handleSubmit","err","Store","X","Fragment","AdminSellersPage","sellers","setSellers","statusFilter","setStatusFilter","verificationFilter","setVerificationFilter","pagination","setPagination","statusModal","setStatusModal","sellerFormModal","setSellerFormModal","nonSellerUsers","setNonSellerUsers","sellerService","fetchSellers","loadNonSellerUsers","toggleSellerStatus","sellerId","s","buttonText","handleStatusUpdate","newStatus","prevSellers","approveSeller","updateVerificationLevel","toggleFeatured","handleCreateSeller","handleEditSeller","handleSellerFormSubmit","handlePageChange","page","refreshData","formatCurrency","amount","columns","Star","statusColor","statusText","StatusIcon","Clock","Eye","verificationColor","verificationText","DollarSign","Link","Package","ShieldCheck","RefreshCw","Filter","Table"],"mappings":"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","x_google_ignoreList":[0]}