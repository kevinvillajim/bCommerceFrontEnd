import{j as e,w as y,E as w}from"./ui-vendor-BUNMIuFe.js";import{r as m,u as S,L as x}from"./react-vendor-Cy458wKG.js";import{u as q}from"./chat-chunk-BRsdDZXf.js";import{u as L}from"./usePasswordValidation-DE6-gHPX.js";import{G as F,a as A}from"./GoogleAuthCallbackHandler-CB-0QgeP.js";import"./utils-vendor-DeGC_a19.js";import"./seller-chunk-6swISJwY.js";import"./admin-chunk-BNcFjXlJ.js";const H=()=>{const[s,N]=m.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[r,p]=m.useState({}),[n,b]=m.useState(!1),[d,j]=m.useState(!1),f=S(),{register:v,loading:c,error:h}=q(),{rules:o,loading:C,validatePassword:P}=L(),l=a=>{const{name:t,value:i}=a.target;N(u=>({...u,[t]:i})),r[t]&&p(u=>{const g={...u};return delete g[t],g})},k=()=>{const a={};if(s.firstName.trim()||(a.firstName="El nombre es obligatorio"),s.lastName.trim()||(a.lastName="El apellido es obligatorio"),s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(a.email="El correo electrónico no es válido"):a.email="El correo electrónico es obligatorio",!s.password)a.password="La contraseña es obligatoria";else{const t=P(s.password);t.isValid||(a.password=t.errors[0])}return s.password!==s.confirmPassword&&(a.confirmPassword="Las contraseñas no coinciden"),p(a),Object.keys(a).length===0},E=async a=>{if(a.preventDefault(),!k())return;const t={name:`${s.firstName} ${s.lastName}`,email:s.email,password:s.password,password_confirmation:s.confirmPassword},i=await v(t);i&&(i.user&&!i.user.emailVerifiedAt?f("/email-verification-pending",{state:{email:i.user.email}}):f("/"))};return e.jsxs("div",{className:"min-h-[80vh] flex items-center justify-center py-12 px-4",children:[e.jsx(F,{}),e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Crea tu cuenta"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["¿Ya tienes una cuenta?"," ",e.jsx(x,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Inicia sesión"})]})]}),h&&e.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-md text-sm",children:h}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(A,{action:"register",disabled:c}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500",children:"O registrarse con email"})})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:E,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"Nombre"}),e.jsx("input",{id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",required:!0,className:`mt-1 block w-full border ${r.firstName?"border-red-500":"border-gray-300"} rounded-md shadow-sm p-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500`,value:s.firstName,onChange:l}),r.firstName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Apellido"}),e.jsx("input",{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",required:!0,className:`mt-1 block w-full border ${r.lastName?"border-red-500":"border-gray-300"} rounded-md shadow-sm p-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500`,value:s.lastName,onChange:l}),r.lastName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.lastName})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo electrónico"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`mt-1 block w-full border ${r.email?"border-red-500":"border-gray-300"} rounded-md shadow-sm p-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500`,value:s.email,onChange:l}),r.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",required:!0,minLength:o.minLength,className:`mt-1 block w-full border ${r.password?"border-red-500":"border-gray-300"} rounded-md shadow-sm p-3 pr-12 focus:outline-none focus:ring-primary-500 focus:border-primary-500`,value:s.password,onChange:l}),e.jsx("button",{type:"button",onClick:()=>b(!n),className:"absolute inset-y-0 right-0 flex items-center pr-3 mt-1",children:n?e.jsx(y,{size:20,className:"text-gray-400 hover:text-gray-600"}):e.jsx(w,{size:20,className:"text-gray-400 hover:text-gray-600"})})]}),r.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.password}),!C&&!r.password&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:["La contraseña debe tener al menos ",o.minLength," caracteres",o.requirements.length>0&&" e incluir:"]}),o.requirements.length>0&&e.jsx("ul",{className:"text-xs text-gray-500 list-disc list-inside space-y-1",children:o.requirements.map((a,t)=>e.jsx("li",{children:a},t))})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmar contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:d?"text":"password",autoComplete:"new-password",required:!0,className:`mt-1 block w-full border ${r.confirmPassword?"border-red-500":"border-gray-300"} rounded-md shadow-sm p-3 pr-12 focus:outline-none focus:ring-primary-500 focus:border-primary-500`,value:s.confirmPassword,onChange:l}),e.jsx("button",{type:"button",onClick:()=>j(!d),className:"absolute inset-y-0 right-0 flex items-center pr-3 mt-1",children:d?e.jsx(y,{size:20,className:"text-gray-400 hover:text-gray-600"}):e.jsx(w,{size:20,className:"text-gray-400 hover:text-gray-600"})})]}),r.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.confirmPassword})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"cursor-pointer h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["Acepto los"," ",e.jsx(x,{to:"/terms",className:"font-medium text-primary-600 hover:text-primary-500",children:"Términos de Servicio"})," ","y"," ",e.jsx(x,{to:"/privacy",className:"font-medium text-primary-600 hover:text-primary-500",children:"Política de Privacidad"})]})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:c,className:"cursor-pointer group relative w-full flex justify-center py-3 px-4 border border-transparent rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?e.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):null,"Crear Cuenta"]})})]})]})]})};export{H as default};
//# sourceMappingURL=RegisterPage-CuiP3o9Q.js.map
