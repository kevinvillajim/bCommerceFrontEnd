{"version":3,"file":"AdminOrderDetailPage-Bez-_PiI.js","sources":["../../src/presentation/pages/admin/AdminOrderDetailPage.tsx"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport {useParams, useNavigate, Link} from \"react-router-dom\";\r\nimport {\r\n\tShoppingBag,\r\n\tUser,\r\n\tCalendar,\r\n\tMapPin,\r\n\tTruck,\r\n\tClock,\r\n\tCreditCard,\r\n\tCheckCircle,\r\n\tXCircle,\r\n\tArrowLeft,\r\n\tEdit,\r\n\tRefreshCw,\r\n\tPackage,\r\n} from \"lucide-react\";\r\nimport {AdminOrderServiceAdapter} from \"../../../core/adapters/AdminOrderServiceAdapter\";\r\nimport OrderStatusBadge from \"../../components/orders/OrderStatusBadge\";\r\nimport {formatCurrency} from \"../../../utils/formatters/formatCurrency\";\r\n\r\nconst AdminOrderDetailPage: React.FC = () => {\r\n\tconst {id} = useParams<{id: string}>();\r\n\tconst navigate = useNavigate();\r\n\tconst [loading, setLoading] = useState(true);\r\n\tconst [orderDetail, setOrderDetail] = useState<any>(null);\r\n\tconst [error, setError] = useState<string | null>(null);\r\n\tconst orderAdapter = new AdminOrderServiceAdapter();\r\n\r\n\t// Estados para modal de actualización\r\n\tconst [showStatusModal, setShowStatusModal] = useState(false);\r\n\tconst [newStatus, setNewStatus] = useState(\"\");\r\n\tconst [updatingStatus, setUpdatingStatus] = useState(false);\r\n\r\n\t// Estados para modal de envío\r\n\tconst [showShippingModal, setShowShippingModal] = useState(false);\r\n\tconst [shippingInfo, setShippingInfo] = useState({\r\n\t\ttracking_number: \"\",\r\n\t\tshipping_company: \"\",\r\n\t\testimated_delivery: \"\",\r\n\t\tnotes: \"\",\r\n\t});\r\n\tconst [updatingShipping, setUpdatingShipping] = useState(false);\r\n\r\n\t// Obtener datos de la orden\r\n\tuseEffect(() => {\r\n\t\tif (!id) return;\r\n\r\n\t\tconst fetchOrderDetail = async () => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tsetError(null);\r\n\t\t\ttry {\r\n\t\t\t\tconst order = await orderAdapter.getOrderDetails(parseInt(id));\r\n\t\t\t\tif (order) {\r\n\t\t\t\t\tsetOrderDetail(order);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetError(\"No se pudo obtener la información de la orden\");\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(\"Error al obtener detalles de la orden:\", error);\r\n\t\t\t\tsetError(\"Error al cargar los detalles de la orden\");\r\n\t\t\t} finally {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfetchOrderDetail();\r\n\t}, [id]);\r\n\r\n\t// Mapeo de estados disponibles\r\n\tconst availableStatuses = [\r\n\t\t{value: \"pending\", label: \"Pendiente\"},\r\n\t\t{value: \"processing\", label: \"En proceso\"},\r\n\t\t{value: \"paid\", label: \"Pagado\"},\r\n\t\t{value: \"shipped\", label: \"Enviado\"},\r\n\t\t{value: \"delivered\", label: \"Entregado\"},\r\n\t\t{value: \"completed\", label: \"Completado\"},\r\n\t\t{value: \"cancelled\", label: \"Cancelado\"},\r\n\t];\r\n\r\n\t// Formatear fecha\r\n\tconst formatDate = (dateString: string | undefined) => {\r\n\t\tif (!dateString) return \"N/A\";\r\n\r\n\t\tconst date = new Date(dateString);\r\n\t\treturn new Intl.DateTimeFormat(\"es-ES\", {\r\n\t\t\tday: \"2-digit\",\r\n\t\t\tmonth: \"2-digit\",\r\n\t\t\tyear: \"numeric\",\r\n\t\t\thour: \"2-digit\",\r\n\t\t\tminute: \"2-digit\",\r\n\t\t}).format(date);\r\n\t};\r\n\r\n\t// Actualizar estado de la orden\r\n\tconst handleUpdateStatus = async () => {\r\n\t\tif (!newStatus || !orderDetail) return;\r\n\r\n\t\tsetUpdatingStatus(true);\r\n\t\ttry {\r\n\t\t\tconst success = await orderAdapter.updateOrderStatus(\r\n\t\t\t\torderDetail.id,\r\n\t\t\t\tnewStatus as any\r\n\t\t\t);\r\n\r\n\t\t\tif (success) {\r\n\t\t\t\t// Actualizar estado local\r\n\t\t\t\tsetOrderDetail({\r\n\t\t\t\t\t...orderDetail,\r\n\t\t\t\t\tstatus: newStatus,\r\n\t\t\t\t\tupdatedAt: new Date().toISOString(),\r\n\t\t\t\t});\r\n\t\t\t\tsetShowStatusModal(false);\r\n\t\t\t} else {\r\n\t\t\t\talert(\"Error al actualizar el estado de la orden\");\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Error al actualizar estado:\", error);\r\n\t\t\talert(\"Error al actualizar el estado de la orden\");\r\n\t\t} finally {\r\n\t\t\tsetUpdatingStatus(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// Actualizar información de envío\r\n\tconst handleUpdateShipping = async () => {\r\n\t\tif (!orderDetail) return;\r\n\r\n\t\tsetUpdatingShipping(true);\r\n\t\ttry {\r\n\t\t\t// Implementar la lógica para actualizar información de envío\r\n\t\t\t// Aquí deberías llamar al servicio correspondiente\r\n\t\t\talert(\"Funcionalidad aún no implementada\");\r\n\r\n\t\t\tsetShowShippingModal(false);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Error al actualizar información de envío:\", error);\r\n\t\t\talert(\"Error al actualizar la información de envío\");\r\n\t\t} finally {\r\n\t\t\tsetUpdatingShipping(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// Cancelar orden\r\n\tconst handleCancelOrder = async () => {\r\n\t\tif (!orderDetail) return;\r\n\r\n\t\tif (window.confirm(\"¿Estás seguro de que deseas cancelar este pedido?\")) {\r\n\t\t\tsetLoading(true);\r\n\t\t\ttry {\r\n\t\t\t\tconst success = await orderAdapter.cancelOrder(orderDetail.id);\r\n\r\n\t\t\t\tif (success) {\r\n\t\t\t\t\t// Actualizar estado local\r\n\t\t\t\t\tsetOrderDetail({\r\n\t\t\t\t\t\t...orderDetail,\r\n\t\t\t\t\t\tstatus: \"cancelled\",\r\n\t\t\t\t\t\tupdatedAt: new Date().toISOString(),\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"Error al cancelar la orden\");\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(\"Error al cancelar orden:\", error);\r\n\t\t\t\talert(\"Error al cancelar la orden\");\r\n\t\t\t} finally {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<div className=\"p-6 flex justify-center\">\r\n\t\t\t\t<div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"></div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn (\r\n\t\t\t<div className=\"p-6\">\r\n\t\t\t\t<div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4\">\r\n\t\t\t\t\t<strong className=\"font-bold\">Error!</strong>\r\n\t\t\t\t\t<span className=\"block sm:inline\"> {error}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() => navigate(\"/admin/orders\")}\r\n\t\t\t\t\tclassName=\"flex items-center text-primary-600 hover:text-primary-800\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<ArrowLeft className=\"mr-2\" size={16} />\r\n\t\t\t\t\tVolver a la lista de pedidos\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tif (!orderDetail) {\r\n\t\treturn (\r\n\t\t\t<div className=\"p-6\">\r\n\t\t\t\t<div className=\"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded relative mb-4\">\r\n\t\t\t\t\t<strong className=\"font-bold\">No encontrado.</strong>\r\n\t\t\t\t\t<span className=\"block sm:inline\">\r\n\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\tNo se encontró la orden solicitada.\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() => navigate(\"/admin/orders\")}\r\n\t\t\t\t\tclassName=\"flex items-center text-primary-600 hover:text-primary-800\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<ArrowLeft className=\"mr-2\" size={16} />\r\n\t\t\t\t\tVolver a la lista de pedidos\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\t// Determinar si se pueden realizar acciones de acuerdo al estado\r\n\tconst canEditStatus = ![\"cancelled\", \"completed\"].includes(\r\n\t\torderDetail.status\r\n\t);\r\n\tconst canCancel = [\"pending\", \"processing\", \"paid\"].includes(\r\n\t\torderDetail.status\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"p-6 max-w-6xl mx-auto\">\r\n\t\t\t{/* Cabecera */}\r\n\t\t\t<div className=\"flex justify-between items-center mb-6\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() => navigate(\"/admin/orders\")}\r\n\t\t\t\t\tclassName=\"flex items-center text-primary-600 hover:text-primary-800\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<ArrowLeft className=\"mr-2\" size={16} />\r\n\t\t\t\t\tVolver a la lista de pedidos\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<h1 className=\"text-2xl font-bold\">\r\n\t\t\t\t\tPedido {orderDetail.orderNumber || `#${orderDetail.id}`}\r\n\t\t\t\t</h1>\r\n\r\n\t\t\t\t<div className=\"flex space-x-2\">\r\n\t\t\t\t\t{/* Acciones principales */}\r\n\t\t\t\t\t{canEditStatus && (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetNewStatus(orderDetail.status);\r\n\t\t\t\t\t\t\t\tsetShowStatusModal(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"flex items-center px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Edit size={16} className=\"mr-2\" />\r\n\t\t\t\t\t\t\tCambiar Estado\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{canCancel && (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={handleCancelOrder}\r\n\t\t\t\t\t\t\tclassName=\"flex items-center px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<XCircle size={16} className=\"mr-2\" />\r\n\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Contenido principal */}\r\n\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n\t\t\t\t{/* Información de la orden */}\r\n\t\t\t\t<div className=\"md:col-span-2 space-y-6\">\r\n\t\t\t\t\t{/* Estado y fecha */}\r\n\t\t\t\t\t<div className=\"bg-white rounded-lg shadow-sm p-4\">\r\n\t\t\t\t\t\t<div className=\"flex justify-between items-center mb-4\">\r\n\t\t\t\t\t\t\t<h2 className=\"text-lg font-semibold\">Información General</h2>\r\n\t\t\t\t\t\t\t<OrderStatusBadge status={orderDetail.status} />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4\">\r\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"flex items-center text-gray-600\">\r\n\t\t\t\t\t\t\t\t\t<Calendar className=\"w-4 h-4 mr-2\" />\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-sm\">Fecha del pedido:</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<p className=\"text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t{formatDate(orderDetail.date || orderDetail.createdAt)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"flex items-center text-gray-600\">\r\n\t\t\t\t\t\t\t\t\t<Clock className=\"w-4 h-4 mr-2\" />\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-sm\">Última actualización:</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<p className=\"text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t{formatDate(orderDetail.updatedAt)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"flex items-center text-gray-600\">\r\n\t\t\t\t\t\t\t\t\t<CreditCard className=\"w-4 h-4 mr-2\" />\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-sm\">Método de pago:</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<p className=\"text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t{orderDetail.paymentMethod || \"No especificado\"}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"flex items-center text-gray-600\">\r\n\t\t\t\t\t\t\t\t\t<CreditCard className=\"w-4 h-4 mr-2\" />\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-sm\">Estado de pago:</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<p className=\"text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t<OrderStatusBadge\r\n\t\t\t\t\t\t\t\t\t\tstatus={orderDetail.paymentStatus}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"payment\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Productos */}\r\n\t\t\t\t\t<div className=\"bg-white rounded-lg shadow-sm p-4\">\r\n\t\t\t\t\t\t<h2 className=\"text-lg font-semibold mb-4\">Productos</h2>\r\n\r\n\t\t\t\t\t\t<div className=\"space-y-4\">\r\n\t\t\t\t\t\t\t{orderDetail.items &&\r\n\t\t\t\t\t\t\t\torderDetail.items.map((item: any) => (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"flex border-b border-gray-200 pb-4 last:border-0 last:pb-0\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-16 h-16 bg-gray-100 rounded-md overflow-hidden flex-shrink-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t{item.image ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full h-full object-cover\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full h-full flex items-center justify-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ShoppingBag className=\"w-8 h-8 text-gray-400\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"ml-4 flex-grow\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-sm font-medium text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tID: {item.productId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(item.price)} x {item.quantity}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-bold text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(item.subtotal)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{/* Resumen de totales */}\r\n\t\t\t\t\t\t<div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n\t\t\t\t\t\t\t<div className=\"flex justify-between text-sm\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-gray-600\">\r\n\t\t\t\t\t\t\t\t\tSubtotal:\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span className=\"font-medium text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t{formatCurrency(\r\n\t\t\t\t\t\t\t\t\t\torderDetail.items.reduce(\r\n\t\t\t\t\t\t\t\t\t\t\t(sum: number, item: any) => sum + (item.subtotal || 0),\r\n\t\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"flex justify-between text-sm mt-2\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-gray-600\">\r\n\t\t\t\t\t\t\t\t\tIVA (15%):\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span className=\"font-medium text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t{formatCurrency(\r\n\t\t\t\t\t\t\t\t\t\torderDetail.items.reduce(\r\n\t\t\t\t\t\t\t\t\t\t\t(sum: number, item: any) => sum + (item.subtotal || 0),\r\n\t\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t\t) * 0.15\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"flex justify-between font-bold text-lg mt-2\">\r\n\t\t\t\t\t\t\t\t<span>Total:</span>\r\n\t\t\t\t\t\t\t\t<span>{formatCurrency(orderDetail.total)}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Historial de la orden (si hay disponible) */}\r\n\t\t\t\t\t{orderDetail.history && orderDetail.history.length > 0 && (\r\n\t\t\t\t\t\t<div className=\"bg-white rounded-lg shadow-sm p-4\">\r\n\t\t\t\t\t\t\t<h2 className=\"text-lg font-semibold mb-4\">\r\n\t\t\t\t\t\t\t\tHistorial de la Orden\r\n\t\t\t\t\t\t\t</h2>\r\n\r\n\t\t\t\t\t\t\t<div className=\"space-y-3\">\r\n\t\t\t\t\t\t\t\t{orderDetail.history.map((event: any, index: number) => (\r\n\t\t\t\t\t\t\t\t\t<div key={index} className=\"flex\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-shrink-0 h-6 w-6 rounded-full bg-blue-100 flex items-center justify-center text-blue-500\">\r\n\t\t\t\t\t\t\t\t\t\t\t{event.status === \"created\" && <ShoppingBag size={12} />}\r\n\t\t\t\t\t\t\t\t\t\t\t{event.status === \"paid\" && <CreditCard size={12} />}\r\n\t\t\t\t\t\t\t\t\t\t\t{event.status === \"processing\" && <RefreshCw size={12} />}\r\n\t\t\t\t\t\t\t\t\t\t\t{event.status === \"shipped\" && <Truck size={12} />}\r\n\t\t\t\t\t\t\t\t\t\t\t{event.status === \"delivered\" && <Package size={12} />}\r\n\t\t\t\t\t\t\t\t\t\t\t{event.status === \"completed\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle size={12} />\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t{event.status === \"cancelled\" && <XCircle size={12} />}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"ml-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{event.status === \"created\" && \"Orden creada\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{event.status === \"paid\" && \"Pago realizado\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{event.status === \"processing\" && \"Procesando orden\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{event.status === \"shipped\" && \"Orden enviada\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{event.status === \"delivered\" && \"Orden entregada\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{event.status === \"completed\" && \"Orden completada\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{event.status === \"cancelled\" && \"Orden cancelada\"}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{formatDate(event.timestamp)}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t{event.description && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-600 mt-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{event.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Sidebar con información del cliente y envío */}\r\n\t\t\t\t<div className=\"space-y-6\">\r\n\t\t\t\t\t{/* Cliente */}\r\n\t\t\t\t\t<div className=\"bg-white rounded-lg shadow-sm p-4\">\r\n\t\t\t\t\t\t<h2 className=\"text-lg font-semibold mb-4\">Cliente</h2>\r\n\r\n\t\t\t\t\t\t<div className=\"flex items-center mb-4\">\r\n\t\t\t\t\t\t\t<div className=\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center\">\r\n\t\t\t\t\t\t\t\t<User className=\"w-6 h-6 text-gray-500\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"ml-3\">\r\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t{orderDetail.customer?.name || \"Cliente\"}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"text-xs text-gray-500\">\r\n\t\t\t\t\t\t\t\t\tID: {orderDetail.customer?.id || orderDetail.userId}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"space-y-2 text-sm\">\r\n\t\t\t\t\t\t\t<p className=\"text-gray-600\">\r\n\t\t\t\t\t\t\t\t<strong>Email:</strong>{\" \"}\r\n\t\t\t\t\t\t\t\t{orderDetail.customer?.email || \"No disponible\"}\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t{orderDetail.customer?.phone && (\r\n\t\t\t\t\t\t\t\t<p className=\"text-gray-600\">\r\n\t\t\t\t\t\t\t\t\t<strong>Teléfono:</strong> {orderDetail.customer.phone}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Vendedor */}\r\n\t\t\t\t\t<div className=\"bg-white rounded-lg shadow-sm p-4\">\r\n\t\t\t\t\t\t<h2 className=\"text-lg font-semibold mb-4\">Vendedor</h2>\r\n\r\n\t\t\t\t\t\t<div className=\"space-y-2 text-sm\">\r\n\t\t\t\t\t\t\t<p className=\"text-gray-600\">\r\n\t\t\t\t\t\t\t\t<strong>ID:</strong>{\" \"}\r\n\t\t\t\t\t\t\t\t{orderDetail.seller?.id ||\r\n\t\t\t\t\t\t\t\t\torderDetail.sellerId ||\r\n\t\t\t\t\t\t\t\t\t\"No disponible\"}\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<p className=\"text-gray-600\">\r\n\t\t\t\t\t\t\t\t<strong>Nombre:</strong>{\" \"}\r\n\t\t\t\t\t\t\t\t{orderDetail.seller?.name || \"Vendedor\"}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{/* Enlace a detalles del vendedor */}\r\n\t\t\t\t\t\t{(orderDetail.seller?.id || orderDetail.sellerId) && (\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={`/admin/sellers/${orderDetail.seller?.id || orderDetail.sellerId}`}\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 inline-flex items-center text-sm text-primary-600 hover:text-primary-800\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVer detalles del vendedor\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Información de envío */}\r\n\t\t\t\t\t<div className=\"bg-white rounded-lg shadow-sm p-4\">\r\n\t\t\t\t\t\t<div className=\"flex justify-between items-center mb-4\">\r\n\t\t\t\t\t\t\t<h2 className=\"text-lg font-semibold\">Información de Envío</h2>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tonClick={() => setShowShippingModal(true)}\r\n\t\t\t\t\t\t\t\tclassName=\"text-sm text-primary-600 hover:text-primary-800\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Edit size={14} className=\"inline mr-1\" />\r\n\t\t\t\t\t\t\t\tEditar\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{orderDetail.shippingData ? (\r\n\t\t\t\t\t\t\t<div className=\"space-y-2 text-sm\">\r\n\t\t\t\t\t\t\t\t<p className=\"text-gray-600 flex items-start\">\r\n\t\t\t\t\t\t\t\t\t<MapPin className=\"w-4 h-4 mr-2 mt-0.5 flex-shrink-0\" />\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{orderDetail.shippingData.address},<br />\r\n\t\t\t\t\t\t\t\t\t\t{orderDetail.shippingData.city},{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t{orderDetail.shippingData.state}\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t{orderDetail.shippingData.postalCode},{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t{orderDetail.shippingData.country}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t\t{orderDetail.shippingData.phone && (\r\n\t\t\t\t\t\t\t\t\t<p className=\"text-gray-600 mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<strong>Teléfono:</strong> {orderDetail.shippingData.phone}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t{orderDetail.shippingData.tracking_number && (\r\n\t\t\t\t\t\t\t\t\t<div className=\"mt-3 pt-3 border-t border-gray-200\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-gray-600\">\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>Número de seguimiento:</strong>\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"font-mono bg-gray-100 px-2 py-1 rounded mt-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t{orderDetail.shippingData.tracking_number}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t{orderDetail.shippingData.shipping_company && (\r\n\t\t\t\t\t\t\t\t\t<p className=\"text-gray-600 mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<strong>Transportista:</strong>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t{orderDetail.shippingData.shipping_company}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t{orderDetail.shippingData.estimated_delivery && (\r\n\t\t\t\t\t\t\t\t\t<p className=\"text-gray-600 mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<strong>Entrega estimada:</strong>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t{formatDate(orderDetail.shippingData.estimated_delivery)}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"text-gray-500 text-sm\">\r\n\t\t\t\t\t\t\t\tNo hay información de envío disponible.\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Modal para cambiar estado */}\r\n\t\t\t{showStatusModal && (\r\n\t\t\t\t<div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n\t\t\t\t\t<div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\r\n\t\t\t\t\t\t<h3 className=\"text-lg font-bold mb-4\">\r\n\t\t\t\t\t\t\tCambiar Estado del Pedido\r\n\t\t\t\t\t\t</h3>\r\n\r\n\t\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n\t\t\t\t\t\t\t\tNuevo Estado\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tvalue={newStatus}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setNewStatus(e.target.value)}\r\n\t\t\t\t\t\t\t\tclassName=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{availableStatuses.map((status) => (\r\n\t\t\t\t\t\t\t\t\t<option key={status.value} value={status.value}>\r\n\t\t\t\t\t\t\t\t\t\t{status.label}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"flex justify-end space-x-3\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tonClick={() => setShowStatusModal(false)}\r\n\t\t\t\t\t\t\t\tclassName=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tonClick={handleUpdateStatus}\r\n\t\t\t\t\t\t\t\tdisabled={updatingStatus}\r\n\t\t\t\t\t\t\t\tclassName=\"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{updatingStatus ? \"Actualizando...\" : \"Guardar\"}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{/* Modal para editar información de envío */}\r\n\t\t\t{showShippingModal && (\r\n\t\t\t\t<div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n\t\t\t\t\t<div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\r\n\t\t\t\t\t\t<h3 className=\"text-lg font-bold mb-4\">\r\n\t\t\t\t\t\t\tEditar Información de Envío\r\n\t\t\t\t\t\t</h3>\r\n\r\n\t\t\t\t\t\t<div className=\"space-y-4\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n\t\t\t\t\t\t\t\t\tNúmero de Seguimiento\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={shippingInfo.tracking_number}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetShippingInfo({\r\n\t\t\t\t\t\t\t\t\t\t\t...shippingInfo,\r\n\t\t\t\t\t\t\t\t\t\t\ttracking_number: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n\t\t\t\t\t\t\t\t\tEmpresa de Transporte\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={shippingInfo.shipping_company}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetShippingInfo({\r\n\t\t\t\t\t\t\t\t\t\t\t...shippingInfo,\r\n\t\t\t\t\t\t\t\t\t\t\tshipping_company: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n\t\t\t\t\t\t\t\t\tFecha Estimada de Entrega\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\t\t\tvalue={shippingInfo.estimated_delivery}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetShippingInfo({\r\n\t\t\t\t\t\t\t\t\t\t\t...shippingInfo,\r\n\t\t\t\t\t\t\t\t\t\t\testimated_delivery: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n\t\t\t\t\t\t\t\t\tNotas\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t\tvalue={shippingInfo.notes}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetShippingInfo({...shippingInfo, notes: e.target.value})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n\t\t\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"flex justify-end space-x-3 mt-6\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tonClick={() => setShowShippingModal(false)}\r\n\t\t\t\t\t\t\t\tclassName=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tonClick={handleUpdateShipping}\r\n\t\t\t\t\t\t\t\tdisabled={updatingShipping}\r\n\t\t\t\t\t\t\t\tclassName=\"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{updatingShipping ? \"Actualizando...\" : \"Guardar\"}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AdminOrderDetailPage;\r\n"],"names":["AdminOrderDetailPage","id","useParams","navigate","useNavigate","loading","setLoading","useState","orderDetail","setOrderDetail","error","setError","orderAdapter","AdminOrderServiceAdapter","showStatusModal","setShowStatusModal","newStatus","setNewStatus","updatingStatus","setUpdatingStatus","showShippingModal","setShowShippingModal","shippingInfo","setShippingInfo","updatingShipping","setUpdatingShipping","useEffect","order","availableStatuses","formatDate","dateString","date","handleUpdateStatus","handleUpdateShipping","handleCancelOrder","jsx","jsxs","ArrowLeft","canEditStatus","canCancel","Edit","XCircle","OrderStatusBadge","Calendar","Clock","CreditCard","item","ShoppingBag","formatCurrency","sum","event","index","RefreshCw","Truck","Package","CheckCircle","User","Link","MapPin","e","status"],"mappings":"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"}