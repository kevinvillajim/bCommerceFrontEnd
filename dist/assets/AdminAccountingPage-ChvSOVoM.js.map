{"version":3,"file":"AdminAccountingPage-ChvSOVoM.js","sources":["../../src/presentation/pages/admin/AdminAccountingPage.tsx"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport {\r\n\tDollarSign,\r\n\tFilter,\r\n\tBarChart2,\r\n\tX,\r\n\tPlus,\r\n\tSave,\r\n\tArchive,\r\n\tEye,\r\n} from \"lucide-react\";\r\nimport Table from \"../../components/dashboard/Table\";\r\nimport type {\r\n\tAccountingTransaction,\r\n\tAccountingAccount,\r\n\tAccountingEntryCreationData,\r\n} from \"../../../core/domain/entities/Accounting\";\r\nimport DashboardCardList from \"../../components/dashboard/DashboardCardList\";\r\n\r\n\r\n// Componente Modal\r\ninterface ModalProps {\r\n\tisOpen: boolean;\r\n\tonClose: () => void;\r\n\ttitle: string;\r\n\tchildren: React.ReactNode;\r\n\tsize?: \"sm\" | \"md\" | \"lg\" | \"xl\";\r\n}\r\n\r\nconst Modal: React.FC<ModalProps> = ({\r\n\tisOpen,\r\n\tonClose,\r\n\ttitle,\r\n\tchildren,\r\n\tsize = \"md\",\r\n}) => {\r\n\tif (!isOpen) return null;\r\n\r\n\tconst sizeClasses = {\r\n\t\tsm: \"max-w-md\",\r\n\t\tmd: \"max-w-2xl\",\r\n\t\tlg: \"max-w-4xl\",\r\n\t\txl: \"max-w-6xl\",\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"fixed inset-0 z-50 overflow-y-auto\"\r\n\t\t\taria-labelledby=\"modal-title\"\r\n\t\t\trole=\"dialog\"\r\n\t\t\taria-modal=\"true\"\r\n\t\t>\r\n\t\t\t<div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n\t\t\t\t{/* Overlay */}\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\"\r\n\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\tonClick={onClose}\r\n\t\t\t\t></div>\r\n\r\n\t\t\t\t{/* Modal */}\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle ${sizeClasses[size]} w-full`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"bg-white px-4 pt-5 pb-4 sm:p-6\">\r\n\t\t\t\t\t\t<div className=\"flex justify-between items-center mb-4\">\r\n\t\t\t\t\t\t\t<h3\r\n\t\t\t\t\t\t\t\tclassName=\"text-lg leading-6 font-medium text-gray-900\"\r\n\t\t\t\t\t\t\t\tid=\"modal-title\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{title}\r\n\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclassName=\"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none\"\r\n\t\t\t\t\t\t\t\tonClick={onClose}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span className=\"sr-only\">Cerrar</span>\r\n\t\t\t\t\t\t\t\t<X className=\"h-6 w-6\" />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"mt-2\">{children}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n/**\r\n * Página de administración de contabilidad\r\n * Muestra transacciones contables y resumen financiero\r\n */\r\nconst AdminAccountingPage: React.FC = () => {\r\n\t// Estados para las diferentes secciones\r\n\tconst [activeTab, setActiveTab] = useState<\r\n\t\t\"transactions\" | \"accounts\" | \"reports\"\r\n\t>(\"transactions\");\r\n\tconst [loading, setLoading] = useState<boolean>(true);\r\n\tconst [transactions, setTransactions] = useState<AccountingTransaction[]>([]);\r\n\tconst [accounts, setAccounts] = useState<AccountingAccount[]>([]);\r\n\r\n\t// Estados para modales\r\n\tconst [isNewTransactionModalOpen, setIsNewTransactionModalOpen] =\r\n\t\tuseState<boolean>(false);\r\n\tconst [isNewAccountModalOpen, setIsNewAccountModalOpen] =\r\n\t\tuseState<boolean>(false);\r\n\tconst [isTransactionDetailModalOpen, setIsTransactionDetailModalOpen] =\r\n\t\tuseState<boolean>(false);\r\n\tconst [isAccountDetailModalOpen, setIsAccountDetailModalOpen] =\r\n\t\tuseState<boolean>(false);\r\n\tconst [selectedTransaction, setSelectedTransaction] =\r\n\t\tuseState<AccountingTransaction | null>(null);\r\n\tconst [selectedAccount, setSelectedAccount] =\r\n\t\tuseState<AccountingAccount | null>(null);\r\n\r\n\t// Estados para formulario de nueva transacción\r\n\tconst [newTransaction, setNewTransaction] = useState<{\r\n\t\treferenceNumber: string;\r\n\t\ttransactionDate: string;\r\n\t\tdescription: string;\r\n\t\ttype: string;\r\n\t\tentries: AccountingEntryCreationData[];\r\n\t}>({\r\n\t\treferenceNumber: \"\",\r\n\t\ttransactionDate: new Date().toISOString().split(\"T\")[0],\r\n\t\tdescription: \"\",\r\n\t\ttype: \"Venta\",\r\n\t\tentries: [\r\n\t\t\t{accountId: 0, debitAmount: 0, creditAmount: 0, notes: \"\"},\r\n\t\t\t{accountId: 0, debitAmount: 0, creditAmount: 0, notes: \"\"},\r\n\t\t],\r\n\t});\r\n\r\n\t// Estados para formulario de nueva cuenta\r\n\tconst [newAccount, setNewAccount] = useState<{\r\n\t\tcode: string;\r\n\t\tname: string;\r\n\t\ttype: string;\r\n\t\tdescription: string;\r\n\t\tisActive: boolean;\r\n\t}>({\r\n\t\tcode: \"\",\r\n\t\tname: \"\",\r\n\t\ttype: \"Activo\",\r\n\t\tdescription: \"\",\r\n\t\tisActive: true,\r\n\t});\r\n\r\n\t// Obtener fechas para el rango por defecto (1 mes atrás hasta hoy)\r\n\tconst oneMonthAgo = new Date();\r\n\toneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);\r\n\tconst today = new Date();\r\n\r\n\tconst [dateRange, setDateRange] = useState<{from: string; to: string}>({\r\n\t\tfrom: oneMonthAgo.toISOString().split(\"T\")[0],\r\n\t\tto: today.toISOString().split(\"T\")[0],\r\n\t});\r\n\tconst [currentPage, setCurrentPage] = useState<number>(1);\r\n\tconst [totalPages, setTotalPages] = useState<number>(1);\r\n\tconst [filterType, setFilterType] = useState<string>(\"all\");\r\n\r\n\t// Datos de ejemplo para el desarrollo\r\n\tuseEffect(() => {\r\n\t\t// Simulación de carga de datos desde API\r\n\t\tsetLoading(true);\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\t// Datos de ejemplo para transacciones\r\n\t\t\tconst mockTransactions: AccountingTransaction[] = [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\treferenceNumber: \"TRANS-001\",\r\n\t\t\t\t\ttransactionDate: \"2025-04-01\",\r\n\t\t\t\t\tdescription: \"Venta de productos\",\r\n\t\t\t\t\ttype: \"Venta\",\r\n\t\t\t\t\torderId: 1001,\r\n\t\t\t\t\tisPosted: true,\r\n\t\t\t\t\tentries: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\t\ttransactionId: 1,\r\n\t\t\t\t\t\t\taccountId: 1001,\r\n\t\t\t\t\t\t\tdebitAmount: 0,\r\n\t\t\t\t\t\t\tcreditAmount: 1500.0,\r\n\t\t\t\t\t\t\tnotes: \"Venta de productos\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\t\ttransactionId: 1,\r\n\t\t\t\t\t\t\taccountId: 5001,\r\n\t\t\t\t\t\t\tdebitAmount: 1500.0,\r\n\t\t\t\t\t\t\tcreditAmount: 0,\r\n\t\t\t\t\t\t\tnotes: \"Efectivo recibido\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t\tbalance: 0,\r\n\t\t\t\t\tisBalanced: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 2,\r\n\t\t\t\t\treferenceNumber: \"TRANS-002\",\r\n\t\t\t\t\ttransactionDate: \"2025-04-02\",\r\n\t\t\t\t\tdescription: \"Pago a proveedor\",\r\n\t\t\t\t\ttype: \"Compra\",\r\n\t\t\t\t\tisPosted: true,\r\n\t\t\t\t\tentries: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 3,\r\n\t\t\t\t\t\t\ttransactionId: 2,\r\n\t\t\t\t\t\t\taccountId: 2001,\r\n\t\t\t\t\t\t\tdebitAmount: 750.0,\r\n\t\t\t\t\t\t\tcreditAmount: 0,\r\n\t\t\t\t\t\t\tnotes: \"Compra de inventario\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 4,\r\n\t\t\t\t\t\t\ttransactionId: 2,\r\n\t\t\t\t\t\t\taccountId: 5001,\r\n\t\t\t\t\t\t\tdebitAmount: 0,\r\n\t\t\t\t\t\t\tcreditAmount: 750.0,\r\n\t\t\t\t\t\t\tnotes: \"Pago efectuado\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t\tbalance: 0,\r\n\t\t\t\t\tisBalanced: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 3,\r\n\t\t\t\t\treferenceNumber: \"TRANS-003\",\r\n\t\t\t\t\ttransactionDate: \"2025-04-03\",\r\n\t\t\t\t\tdescription: \"Pago de impuestos\",\r\n\t\t\t\t\ttype: \"Gasto\",\r\n\t\t\t\t\tisPosted: true,\r\n\t\t\t\t\tentries: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 5,\r\n\t\t\t\t\t\t\ttransactionId: 3,\r\n\t\t\t\t\t\t\taccountId: 3001,\r\n\t\t\t\t\t\t\tdebitAmount: 350.0,\r\n\t\t\t\t\t\t\tcreditAmount: 0,\r\n\t\t\t\t\t\t\tnotes: \"Impuestos mensuales\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 6,\r\n\t\t\t\t\t\t\ttransactionId: 3,\r\n\t\t\t\t\t\t\taccountId: 5001,\r\n\t\t\t\t\t\t\tdebitAmount: 0,\r\n\t\t\t\t\t\t\tcreditAmount: 350.0,\r\n\t\t\t\t\t\t\tnotes: \"Pago de impuestos\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t\tbalance: 0,\r\n\t\t\t\t\tisBalanced: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4,\r\n\t\t\t\t\treferenceNumber: \"TRANS-004\",\r\n\t\t\t\t\ttransactionDate: \"2025-04-04\",\r\n\t\t\t\t\tdescription: \"Devolución de producto\",\r\n\t\t\t\t\ttype: \"Devolución\",\r\n\t\t\t\t\torderId: 1002,\r\n\t\t\t\t\tisPosted: false,\r\n\t\t\t\t\tentries: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 7,\r\n\t\t\t\t\t\t\ttransactionId: 4,\r\n\t\t\t\t\t\t\taccountId: 1001,\r\n\t\t\t\t\t\t\tdebitAmount: 200.0,\r\n\t\t\t\t\t\t\tcreditAmount: 0,\r\n\t\t\t\t\t\t\tnotes: \"Devolución de venta\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 8,\r\n\t\t\t\t\t\t\ttransactionId: 4,\r\n\t\t\t\t\t\t\taccountId: 5001,\r\n\t\t\t\t\t\t\tdebitAmount: 0,\r\n\t\t\t\t\t\t\tcreditAmount: 200.0,\r\n\t\t\t\t\t\t\tnotes: \"Reembolso efectuado\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t\tbalance: 0,\r\n\t\t\t\t\tisBalanced: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 5,\r\n\t\t\t\t\treferenceNumber: \"TRANS-005\",\r\n\t\t\t\t\ttransactionDate: \"2025-04-05\",\r\n\t\t\t\t\tdescription: \"Pago de comisiones\",\r\n\t\t\t\t\ttype: \"Gasto\",\r\n\t\t\t\t\tisPosted: true,\r\n\t\t\t\t\tentries: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 9,\r\n\t\t\t\t\t\t\ttransactionId: 5,\r\n\t\t\t\t\t\t\taccountId: 3002,\r\n\t\t\t\t\t\t\tdebitAmount: 300.0,\r\n\t\t\t\t\t\t\tcreditAmount: 0,\r\n\t\t\t\t\t\t\tnotes: \"Comisiones a vendedores\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 10,\r\n\t\t\t\t\t\t\ttransactionId: 5,\r\n\t\t\t\t\t\t\taccountId: 5001,\r\n\t\t\t\t\t\t\tdebitAmount: 0,\r\n\t\t\t\t\t\t\tcreditAmount: 300.0,\r\n\t\t\t\t\t\t\tnotes: \"Pago de comisiones\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t\tbalance: 0,\r\n\t\t\t\t\tisBalanced: true,\r\n\t\t\t\t},\r\n\t\t\t];\r\n\r\n\t\t\t// Datos de ejemplo para cuentas contables\r\n\t\t\tconst mockAccounts: AccountingAccount[] = [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 1001,\r\n\t\t\t\t\tcode: \"4000\",\r\n\t\t\t\t\tname: \"Ventas\",\r\n\t\t\t\t\ttype: \"Ingreso\",\r\n\t\t\t\t\tdescription: \"Ingresos por ventas de productos\",\r\n\t\t\t\t\tisActive: true,\r\n\t\t\t\t\tbalance: 15000.0,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 2001,\r\n\t\t\t\t\tcode: \"5000\",\r\n\t\t\t\t\tname: \"Costo de Ventas\",\r\n\t\t\t\t\ttype: \"Costo\",\r\n\t\t\t\t\tdescription: \"Costos asociados a ventas\",\r\n\t\t\t\t\tisActive: true,\r\n\t\t\t\t\tbalance: 7500.0,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 3001,\r\n\t\t\t\t\tcode: \"6000\",\r\n\t\t\t\t\tname: \"Gastos Impuestos\",\r\n\t\t\t\t\ttype: \"Gasto\",\r\n\t\t\t\t\tdescription: \"Pagos de impuestos\",\r\n\t\t\t\t\tisActive: true,\r\n\t\t\t\t\tbalance: 1250.0,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 3002,\r\n\t\t\t\t\tcode: \"6100\",\r\n\t\t\t\t\tname: \"Comisiones\",\r\n\t\t\t\t\ttype: \"Gasto\",\r\n\t\t\t\t\tdescription: \"Comisiones a vendedores\",\r\n\t\t\t\t\tisActive: true,\r\n\t\t\t\t\tbalance: 950.0,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 5001,\r\n\t\t\t\t\tcode: \"1000\",\r\n\t\t\t\t\tname: \"Efectivo\",\r\n\t\t\t\t\ttype: \"Activo\",\r\n\t\t\t\t\tdescription: \"Cuenta de efectivo\",\r\n\t\t\t\t\tisActive: true,\r\n\t\t\t\t\tbalance: 25000.0,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 5002,\r\n\t\t\t\t\tcode: \"1100\",\r\n\t\t\t\t\tname: \"Cuentas por Cobrar\",\r\n\t\t\t\t\ttype: \"Activo\",\r\n\t\t\t\t\tdescription: \"Cuentas pendientes de cobro\",\r\n\t\t\t\t\tisActive: true,\r\n\t\t\t\t\tbalance: 3500.0,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 5003,\r\n\t\t\t\t\tcode: \"2000\",\r\n\t\t\t\t\tname: \"Cuentas por Pagar\",\r\n\t\t\t\t\ttype: \"Pasivo\",\r\n\t\t\t\t\tdescription: \"Cuentas pendientes de pago\",\r\n\t\t\t\t\tisActive: true,\r\n\t\t\t\t\tbalance: 2300.0,\r\n\t\t\t\t},\r\n\t\t\t];\r\n\r\n\t\t\tsetTransactions(mockTransactions);\r\n\t\t\tsetAccounts(mockAccounts);\r\n\t\t\tsetTotalPages(3); // Simulación de paginación\r\n\t\t\tsetLoading(false);\r\n\t\t}, 1000);\r\n\t}, [currentPage, filterType, dateRange]);\r\n\r\n\t// Función para abrir el modal de detalle de transacción\r\n\tconst openTransactionDetail = (transaction: AccountingTransaction) => {\r\n\t\tsetSelectedTransaction(transaction);\r\n\t\tsetIsTransactionDetailModalOpen(true);\r\n\t};\r\n\r\n\t// Función para abrir el modal de detalle de cuenta\r\n\tconst openAccountDetail = (account: AccountingAccount) => {\r\n\t\tsetSelectedAccount(account);\r\n\t\tsetIsAccountDetailModalOpen(true);\r\n\t};\r\n\r\n\t// Función para manejar cambios en el formulario de nueva transacción\r\n\tconst handleTransactionChange = (\r\n\t\te: React.ChangeEvent<\r\n\t\t\tHTMLInputElement | HTMLSelectElement | HTMLTextAreaElement\r\n\t\t>\r\n\t) => {\r\n\t\tconst {name, value} = e.target;\r\n\t\tsetNewTransaction({\r\n\t\t\t...newTransaction,\r\n\t\t\t[name]: value,\r\n\t\t});\r\n\t};\r\n\r\n\t// Función para manejar cambios en las entradas de la transacción\r\n\tconst handleEntryChange = (\r\n\t\tindex: number,\r\n\t\tfield: keyof AccountingEntryCreationData,\r\n\t\tvalue: any\r\n\t) => {\r\n\t\tconst updatedEntries = [...newTransaction.entries];\r\n\t\tupdatedEntries[index] = {\r\n\t\t\t...updatedEntries[index],\r\n\t\t\t[field]: field === \"accountId\" ? Number(value) : parseFloat(value) || 0,\r\n\t\t};\r\n\t\tsetNewTransaction({\r\n\t\t\t...newTransaction,\r\n\t\t\tentries: updatedEntries,\r\n\t\t});\r\n\t};\r\n\r\n\t// Función para añadir una nueva entrada a la transacción\r\n\tconst addTransactionEntry = () => {\r\n\t\tsetNewTransaction({\r\n\t\t\t...newTransaction,\r\n\t\t\tentries: [\r\n\t\t\t\t...newTransaction.entries,\r\n\t\t\t\t{accountId: 0, debitAmount: 0, creditAmount: 0, notes: \"\"},\r\n\t\t\t],\r\n\t\t});\r\n\t};\r\n\r\n\t// Función para eliminar una entrada de la transacción\r\n\tconst removeTransactionEntry = (index: number) => {\r\n\t\tif (newTransaction.entries.length <= 2) {\r\n\t\t\talert(\"Una transacción debe tener al menos dos entradas\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst updatedEntries = newTransaction.entries.filter((_, i) => i !== index);\r\n\t\tsetNewTransaction({\r\n\t\t\t...newTransaction,\r\n\t\t\tentries: updatedEntries,\r\n\t\t});\r\n\t};\r\n\r\n\t// Función para manejar cambios en el formulario de nueva cuenta\r\n\tconst handleAccountChange = (\r\n\t\te: React.ChangeEvent<\r\n\t\t\tHTMLInputElement | HTMLSelectElement | HTMLTextAreaElement\r\n\t\t>\r\n\t) => {\r\n\t\tconst {name, value, type} = e.target;\r\n\t\tconst updatedValue =\r\n\t\t\ttype === \"checkbox\" ? (e.target as HTMLInputElement).checked : value;\r\n\r\n\t\tsetNewAccount({\r\n\t\t\t...newAccount,\r\n\t\t\t[name]: updatedValue,\r\n\t\t});\r\n\t};\r\n\r\n\t// Función para guardar la nueva transacción\r\n\tconst saveTransaction = () => {\r\n\t\t// Aquí iría la lógica para guardar en la API\r\n\t\tconsole.log(\"Guardando transacción:\", newTransaction);\r\n\r\n\t\t// Validar sumas de debe y haber\r\n\t\tconst totalDebit = newTransaction.entries.reduce(\r\n\t\t\t(sum, entry) => sum + entry.debitAmount,\r\n\t\t\t0\r\n\t\t);\r\n\t\tconst totalCredit = newTransaction.entries.reduce(\r\n\t\t\t(sum, entry) => sum + entry.creditAmount,\r\n\t\t\t0\r\n\t\t);\r\n\r\n\t\tif (totalDebit !== totalCredit) {\r\n\t\t\talert(\r\n\t\t\t\t`Los totales de débito (${totalDebit}) y crédito (${totalCredit}) deben ser iguales`\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Cerrar modal y reiniciar formulario\r\n\t\tsetIsNewTransactionModalOpen(false);\r\n\t\tsetNewTransaction({\r\n\t\t\treferenceNumber: \"\",\r\n\t\t\ttransactionDate: new Date().toISOString().split(\"T\")[0],\r\n\t\t\tdescription: \"\",\r\n\t\t\ttype: \"Venta\",\r\n\t\t\tentries: [\r\n\t\t\t\t{accountId: 0, debitAmount: 0, creditAmount: 0, notes: \"\"},\r\n\t\t\t\t{accountId: 0, debitAmount: 0, creditAmount: 0, notes: \"\"},\r\n\t\t\t],\r\n\t\t});\r\n\t};\r\n\r\n\t// Función para guardar la nueva cuenta\r\n\tconst saveAccount = () => {\r\n\t\t// Aquí iría la lógica para guardar en la API\r\n\t\tconsole.log(\"Guardando cuenta:\", newAccount);\r\n\r\n\t\t// Cerrar modal y reiniciar formulario\r\n\t\tsetIsNewAccountModalOpen(false);\r\n\t\tsetNewAccount({\r\n\t\t\tcode: \"\",\r\n\t\t\tname: \"\",\r\n\t\t\ttype: \"Activo\",\r\n\t\t\tdescription: \"\",\r\n\t\t\tisActive: true,\r\n\t\t});\r\n\t};\r\n\r\n\t// Columnas para la tabla de transacciones\r\n\tconst transactionColumns = [\r\n\t\t{\r\n\t\t\tkey: \"referenceNumber\",\r\n\t\t\theader: \"Referencia\",\r\n\t\t\trender: (transaction: AccountingTransaction) => (\r\n\t\t\t\t<span className=\"font-medium text-primary-600\">\r\n\t\t\t\t\t{transaction.referenceNumber}\r\n\t\t\t\t</span>\r\n\t\t\t),\r\n\t\t\tsortable: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"transactionDate\",\r\n\t\t\theader: \"Fecha\",\r\n\t\t\trender: (transaction: AccountingTransaction) => (\r\n\t\t\t\t<span>\r\n\t\t\t\t\t{new Date(transaction.transactionDate).toLocaleDateString(\"es-ES\")}\r\n\t\t\t\t</span>\r\n\t\t\t),\r\n\t\t\tsortable: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"description\",\r\n\t\t\theader: \"Descripción\",\r\n\t\t\tsortable: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"type\",\r\n\t\t\theader: \"Tipo\",\r\n\t\t\trender: (transaction: AccountingTransaction) => (\r\n\t\t\t\t<span\r\n\t\t\t\t\tclassName={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\r\n          ${\r\n\t\t\t\t\t\ttransaction.type === \"Venta\"\r\n\t\t\t\t\t\t\t? \"bg-green-100 text-green-800\"\r\n\t\t\t\t\t\t\t: transaction.type === \"Compra\"\r\n\t\t\t\t\t\t\t\t? \"bg-blue-100 text-blue-800\"\r\n\t\t\t\t\t\t\t\t: transaction.type === \"Gasto\"\r\n\t\t\t\t\t\t\t\t\t? \"bg-red-100 text-red-800\"\r\n\t\t\t\t\t\t\t\t\t: \"bg-gray-100 text-gray-800\"\r\n\t\t\t\t\t}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{transaction.type}\r\n\t\t\t\t</span>\r\n\t\t\t),\r\n\t\t\tsortable: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"isPosted\",\r\n\t\t\theader: \"Estado\",\r\n\t\t\trender: (transaction: AccountingTransaction) => (\r\n\t\t\t\t<span\r\n\t\t\t\t\tclassName={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\r\n          ${transaction.isPosted ? \"bg-green-100 text-green-800\" : \"bg-yellow-100 text-yellow-800\"}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{transaction.isPosted ? \"Contabilizado\" : \"Pendiente\"}\r\n\t\t\t\t</span>\r\n\t\t\t),\r\n\t\t\tsortable: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"actions\",\r\n\t\t\theader: \"Acciones\",\r\n\t\t\trender: (transaction: AccountingTransaction) => (\r\n\t\t\t\t<div className=\"flex space-x-2\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => openTransactionDetail(transaction)}\r\n\t\t\t\t\t\tclassName=\"text-primary-600 hover:text-primary-900\"\r\n\t\t\t\t\t\ttitle=\"Ver detalles\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Eye size={16} />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t{!transaction.isPosted && (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"text-green-600 hover:text-green-900\"\r\n\t\t\t\t\t\t\ttitle=\"Contabilizar\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Archive size={16} />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\r\n\t// Columnas para la tabla de cuentas\r\n\tconst accountColumns = [\r\n\t\t{\r\n\t\t\tkey: \"code\",\r\n\t\t\theader: \"Código\",\r\n\t\t\trender: (account: AccountingAccount) => (\r\n\t\t\t\t<span className=\"font-medium text-primary-600\">\r\n\t\t\t\t\t{account.code}\r\n\t\t\t\t</span>\r\n\t\t\t),\r\n\t\t\tsortable: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"name\",\r\n\t\t\theader: \"Nombre\",\r\n\t\t\tsortable: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"type\",\r\n\t\t\theader: \"Tipo\",\r\n\t\t\trender: (account: AccountingAccount) => (\r\n\t\t\t\t<span\r\n\t\t\t\t\tclassName={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\r\n          ${\r\n\t\t\t\t\t\taccount.type === \"Activo\"\r\n\t\t\t\t\t\t\t? \"bg-blue-100 text-blue-800\"\r\n\t\t\t\t\t\t\t: account.type === \"Pasivo\"\r\n\t\t\t\t\t\t\t\t? \"bg-yellow-100 text-yellow-800\"\r\n\t\t\t\t\t\t\t\t: account.type === \"Ingreso\"\r\n\t\t\t\t\t\t\t\t\t? \"bg-green-100 text-green-800\"\r\n\t\t\t\t\t\t\t\t\t: account.type === \"Gasto\"\r\n\t\t\t\t\t\t\t\t\t\t? \"bg-red-100 text-red-800\"\r\n\t\t\t\t\t\t\t\t\t\t: account.type === \"Costo\"\r\n\t\t\t\t\t\t\t\t\t\t\t? \"bg-orange-100 text-orange-800\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"bg-gray-100 text-gray-800\"\r\n\t\t\t\t\t}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{account.type}\r\n\t\t\t\t</span>\r\n\t\t\t),\r\n\t\t\tsortable: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"balance\",\r\n\t\t\theader: \"Saldo\",\r\n\t\t\trender: (account: AccountingAccount) => {\r\n\t\t\t\t// Verificar si balance existe y proporcionar un valor predeterminado\r\n\t\t\t\tconst balance = account.balance ?? 0;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={`font-medium ${balance >= 0 ? \"text-green-600\" : \"text-red-600\"}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{formatCurrency(balance)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tsortable: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"isActive\",\r\n\t\t\theader: \"Estado\",\r\n\t\t\trender: (account: AccountingAccount) => (\r\n\t\t\t\t<span\r\n\t\t\t\t\tclassName={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\r\n          ${account.isActive ? \"bg-green-100 text-green-800\" : \"bg-red-100 text-red-800\"}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{account.isActive ? \"Activa\" : \"Inactiva\"}\r\n\t\t\t\t</span>\r\n\t\t\t),\r\n\t\t\tsortable: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"actions\",\r\n\t\t\theader: \"Acciones\",\r\n\t\t\trender: (account: AccountingAccount) => (\r\n\t\t\t\t<div className=\"flex space-x-2\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => openAccountDetail(account)}\r\n\t\t\t\t\t\tclassName=\"text-primary-600 hover:text-primary-900\"\r\n\t\t\t\t\t\ttitle=\"Ver detalles\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Eye size={16} />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\r\n\t// Función para formatear los números como moneda\r\n\tconst formatCurrency = (amount: number) => {\r\n\t\treturn new Intl.NumberFormat(\"es-ES\", {\r\n\t\t\tstyle: \"currency\",\r\n\t\t\tcurrency: \"USD\",\r\n\t\t\tminimumFractionDigits: 2,\r\n\t\t}).format(amount);\r\n\t};\r\n\r\n\t// Cálculos para el panel de resumen financiero\r\n\tconst financialSummary = {\r\n\t\tincome: 15000.0,\r\n\t\texpenses: 2200.0,\r\n\t\tbalance: 12800.0,\r\n\t\tnetProfit: 7500.0,\r\n\t\tnetProfitPercentage: 50.0,\r\n\t\tpendingTransactions: 1,\r\n\t};\r\n\r\n\t// Calcular totales para la transacción actual\r\n\tconst calculateTotals = () => {\r\n\t\tconst totalDebit = newTransaction.entries.reduce(\r\n\t\t\t(sum, entry) => sum + entry.debitAmount,\r\n\t\t\t0\r\n\t\t);\r\n\t\tconst totalCredit = newTransaction.entries.reduce(\r\n\t\t\t(sum, entry) => sum + entry.creditAmount,\r\n\t\t\t0\r\n\t\t);\r\n\r\n\t\treturn {\r\n\t\t\ttotalDebit,\r\n\t\t\ttotalCredit,\r\n\t\t\tdifference: totalDebit - totalCredit,\r\n\t\t};\r\n\t};\r\n\r\n\tconst totals = calculateTotals();\r\n\r\n\tconst cards = [\r\n\t\t{\r\n\t\t  title: \"Ingresos Totales\",\r\n\t\t  value: formatCurrency(financialSummary.income),\r\n\t\t  change: 0,\r\n\t\t  icon: DollarSign,\r\n\t\t  iconBgColor: \"bg-green-50\",\r\n\t\t  iconColor: \"text-green-600\",\r\n\t\t},\r\n\t\t{\r\n\t\t  title: \"Gastos Totales\",\r\n\t\t  value: formatCurrency(financialSummary.expenses),\r\n\t\t  change: 0,\r\n\t\t  icon: DollarSign,\r\n\t\t  iconBgColor: \"bg-red-50\",\r\n\t\t  iconColor: \"text-red-600\",\r\n\t\t},\r\n\t\t{\r\n\t\t  title: \"Balance\",\r\n\t\t  value: formatCurrency(financialSummary.balance),\r\n\t\t  change: 0,\r\n\t\t  icon: BarChart2,\r\n\t\t  iconBgColor: \"bg-blue-50\",\r\n\t\t  iconColor: \"text-blue-600\",\r\n\t\t},\r\n\t\t{\r\n\t\t  title: \"Beneficio Neto\",\r\n\t\t  value: formatCurrency(financialSummary.netProfit),\r\n\t\t  change: financialSummary.netProfitPercentage,\r\n\t\t  icon: DollarSign,\r\n\t\t  iconBgColor: \"bg-purple-50\",\r\n\t\t  iconColor: \"text-purple-600\",\r\n\t\t},\r\n\t  ];\r\n\r\n\treturn (\r\n    <div>\r\n      <h1 className=\"text-2xl font-bold text-gray-900 mb-6\">\r\n        Gestión Contable\r\n      </h1>\r\n      <div className=\"mb-5\">\r\n        {/* Tarjetas de resumen */}\r\n        <DashboardCardList cards={cards} />\r\n      </div>\r\n      {/* Pestañas */}\r\n      <div className=\"mb-6\">\r\n        <div className=\"border-b border-gray-200\">\r\n          <nav className=\"-mb-px flex space-x-8\">\r\n            <button\r\n              onClick={() => setActiveTab(\"transactions\")}\r\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\r\n                activeTab === \"transactions\"\r\n                  ? \"border-primary-500 text-primary-600\"\r\n                  : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"\r\n              }`}\r\n            >\r\n              Transacciones\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab(\"accounts\")}\r\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\r\n                activeTab === \"accounts\"\r\n                  ? \"border-primary-500 text-primary-600\"\r\n                  : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"\r\n              }`}\r\n            >\r\n              Plan Contable\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab(\"reports\")}\r\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\r\n                activeTab === \"reports\"\r\n                  ? \"border-primary-500 text-primary-600\"\r\n                  : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"\r\n              }`}\r\n            >\r\n              Reportes\r\n            </button>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filtros */}\r\n      {activeTab === \"transactions\" && (\r\n        <div className=\"mb-6 p-4 bg-white rounded-lg shadow-sm\">\r\n          <div className=\"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4\">\r\n            <div className=\"flex items-center\">\r\n              <Filter className=\"h-5 w-5 text-gray-400 mr-2\" />\r\n              <span className=\"text-gray-700\">Filtrar:</span>\r\n            </div>\r\n\r\n            <div className=\"flex flex-wrap gap-4\">\r\n              <div>\r\n                <label\r\n                  htmlFor=\"dateFrom\"\r\n                  className=\"block text-sm font-medium text-gray-700 mb-1\"\r\n                >\r\n                  Fecha desde\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  id=\"dateFrom\"\r\n                  value={dateRange.from}\r\n                  onChange={(e) =>\r\n                    setDateRange({ ...dateRange, from: e.target.value })\r\n                  }\r\n                  className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label\r\n                  htmlFor=\"dateTo\"\r\n                  className=\"block text-sm font-medium text-gray-700 mb-1\"\r\n                >\r\n                  Fecha hasta\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  id=\"dateTo\"\r\n                  value={dateRange.to}\r\n                  onChange={(e) =>\r\n                    setDateRange({ ...dateRange, to: e.target.value })\r\n                  }\r\n                  className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label\r\n                  htmlFor=\"type\"\r\n                  className=\"block text-sm font-medium text-gray-700 mb-1\"\r\n                >\r\n                  Tipo\r\n                </label>\r\n                <select\r\n                  id=\"type\"\r\n                  value={filterType}\r\n                  onChange={(e) => setFilterType(e.target.value)}\r\n                  className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm\"\r\n                >\r\n                  <option value=\"all\">Todos</option>\r\n                  <option value=\"venta\">Venta</option>\r\n                  <option value=\"compra\">Compra</option>\r\n                  <option value=\"gasto\">Gasto</option>\r\n                  <option value=\"devolucion\">Devolución</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label\r\n                  htmlFor=\"status\"\r\n                  className=\"block text-sm font-medium text-gray-700 mb-1\"\r\n                >\r\n                  Estado\r\n                </label>\r\n                <select\r\n                  id=\"status\"\r\n                  className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm\"\r\n                >\r\n                  <option value=\"all\">Todos</option>\r\n                  <option value=\"posted\">Contabilizados</option>\r\n                  <option value=\"pending\">Pendientes</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"ml-auto\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setIsNewTransactionModalOpen(true)}\r\n                className=\"px-4 py-2 bg-primary-600 border border-transparent rounded-md font-medium text-white shadow-sm hover:bg-primary-700\"\r\n              >\r\n                Nueva Transacción\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Contenido de pestañas */}\r\n      <div className=\"bg-white rounded-lg shadow-sm\">\r\n        {activeTab === \"transactions\" && (\r\n          <Table\r\n            data={transactions}\r\n            columns={transactionColumns}\r\n            loading={loading}\r\n            searchFields={[\"referenceNumber\", \"description\", \"type\"]}\r\n            emptyMessage=\"No hay transacciones disponibles para los filtros aplicados\"\r\n            pagination={{\r\n              currentPage,\r\n              totalPages,\r\n              totalItems: transactions.length,\r\n              itemsPerPage: 10,\r\n              onPageChange: setCurrentPage,\r\n            }}\r\n          />\r\n        )}\r\n\r\n        {activeTab === \"accounts\" && (\r\n          <div>\r\n            <div className=\"flex justify-between items-center p-4 border-b border-gray-200\">\r\n              <h2 className=\"text-lg font-medium text-gray-900\">\r\n                Plan de Cuentas\r\n              </h2>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setIsNewAccountModalOpen(true)}\r\n                className=\"px-4 py-2 bg-primary-600 border border-transparent rounded-md font-medium text-white shadow-sm hover:bg-primary-700\"\r\n              >\r\n                Nueva Cuenta\r\n              </button>\r\n            </div>\r\n            <Table\r\n              data={accounts}\r\n              columns={accountColumns}\r\n              loading={loading}\r\n              searchFields={[\"code\", \"name\", \"type\"]}\r\n              emptyMessage=\"No hay cuentas disponibles\"\r\n              pagination={{\r\n                currentPage,\r\n                totalPages,\r\n                totalItems: accounts.length,\r\n                itemsPerPage: 10,\r\n                onPageChange: setCurrentPage,\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"reports\" && (\r\n          <div className=\"p-6\">\r\n            <h2 className=\"text-lg font-medium text-gray-900 mb-4\">\r\n              Informes Financieros\r\n            </h2>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n              <div className=\"bg-white rounded-lg shadow p-6 border border-gray-200\">\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\r\n                  Balance General\r\n                </h3>\r\n                <p className=\"text-gray-600 mb-4\">\r\n                  Resumen de activos, pasivos y patrimonio de la empresa.\r\n                </p>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"px-4 py-2 bg-primary-600 border border-transparent rounded-md font-medium text-white shadow-sm hover:bg-primary-700 w-full\"\r\n                >\r\n                  Ver Balance General\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"bg-white rounded-lg shadow p-6 border border-gray-200\">\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\r\n                  Estado de Resultados\r\n                </h3>\r\n                <p className=\"text-gray-600 mb-4\">\r\n                  Informe detallado de ingresos, gastos y beneficios.\r\n                </p>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"px-4 py-2 bg-primary-600 border border-transparent rounded-md font-medium text-white shadow-sm hover:bg-primary-700 w-full\"\r\n                >\r\n                  Ver Estado de Resultados\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"bg-white rounded-lg shadow p-6 border border-gray-200\">\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\r\n                  Libro Mayor\r\n                </h3>\r\n                <p className=\"text-gray-600 mb-4\">\r\n                  Registro detallado de movimientos por cuenta.\r\n                </p>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"px-4 py-2 bg-primary-600 border border-transparent rounded-md font-medium text-white shadow-sm hover:bg-primary-700 w-full\"\r\n                >\r\n                  Ver Libro Mayor\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-8\">\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\r\n                Generar Informes Personalizados\r\n              </h3>\r\n\r\n              <div className=\"bg-white rounded-lg shadow p-6 border border-gray-200\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4\">\r\n                  <div>\r\n                    <label\r\n                      htmlFor=\"reportType\"\r\n                      className=\"block text-sm font-medium text-gray-700 mb-1\"\r\n                    >\r\n                      Tipo de Informe\r\n                    </label>\r\n                    <select\r\n                      id=\"reportType\"\r\n                      className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm\"\r\n                    >\r\n                      <option value=\"balance\">Balance General</option>\r\n                      <option value=\"income\">Estado de Resultados</option>\r\n                      <option value=\"ledger\">Libro Mayor</option>\r\n                      <option value=\"tax\">Informe de Impuestos</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label\r\n                      htmlFor=\"reportDateFrom\"\r\n                      className=\"block text-sm font-medium text-gray-700 mb-1\"\r\n                    >\r\n                      Fecha desde\r\n                    </label>\r\n                    <input\r\n                      type=\"date\"\r\n                      id=\"reportDateFrom\"\r\n                      className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label\r\n                      htmlFor=\"reportDateTo\"\r\n                      className=\"block text-sm font-medium text-gray-700 mb-1\"\r\n                    >\r\n                      Fecha hasta\r\n                    </label>\r\n                    <input\r\n                      type=\"date\"\r\n                      id=\"reportDateTo\"\r\n                      className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label\r\n                      htmlFor=\"reportFormat\"\r\n                      className=\"block text-sm font-medium text-gray-700 mb-1\"\r\n                    >\r\n                      Formato\r\n                    </label>\r\n                    <select\r\n                      id=\"reportFormat\"\r\n                      className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm\"\r\n                    >\r\n                      <option value=\"pdf\">PDF</option>\r\n                      <option value=\"excel\">Excel</option>\r\n                      <option value=\"csv\">CSV</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex justify-end\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"px-4 py-2 bg-primary-600 border border-transparent rounded-md font-medium text-white shadow-sm hover:bg-primary-700\"\r\n                  >\r\n                    Generar Informe\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modal de Nueva Transacción */}\r\n      <Modal\r\n        isOpen={isNewTransactionModalOpen}\r\n        onClose={() => setIsNewTransactionModalOpen(false)}\r\n        title=\"Nueva Transacción Contable\"\r\n        size=\"lg\"\r\n      >\r\n        <form className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label\r\n                htmlFor=\"referenceNumber\"\r\n                className=\"block text-sm font-medium text-gray-700\"\r\n              >\r\n                Número de Referencia\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"referenceNumber\"\r\n                name=\"referenceNumber\"\r\n                value={newTransaction.referenceNumber}\r\n                onChange={handleTransactionChange}\r\n                className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                placeholder=\"TRANS-XXX\"\r\n                required\r\n              />\r\n            </div>\r\n            <div>\r\n              <label\r\n                htmlFor=\"transactionDate\"\r\n                className=\"block text-sm font-medium text-gray-700\"\r\n              >\r\n                Fecha de Transacción\r\n              </label>\r\n              <input\r\n                type=\"date\"\r\n                id=\"transactionDate\"\r\n                name=\"transactionDate\"\r\n                value={newTransaction.transactionDate}\r\n                onChange={handleTransactionChange}\r\n                className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label\r\n                htmlFor=\"type\"\r\n                className=\"block text-sm font-medium text-gray-700\"\r\n              >\r\n                Tipo de Transacción\r\n              </label>\r\n              <select\r\n                id=\"type\"\r\n                name=\"type\"\r\n                value={newTransaction.type}\r\n                onChange={handleTransactionChange}\r\n                className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                required\r\n              >\r\n                <option value=\"Venta\">Venta</option>\r\n                <option value=\"Compra\">Compra</option>\r\n                <option value=\"Gasto\">Gasto</option>\r\n                <option value=\"Devolución\">Devolución</option>\r\n                <option value=\"Ajuste\">Ajuste</option>\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <label\r\n                htmlFor=\"description\"\r\n                className=\"block text-sm font-medium text-gray-700\"\r\n              >\r\n                Descripción\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"description\"\r\n                name=\"description\"\r\n                value={newTransaction.description}\r\n                onChange={handleTransactionChange}\r\n                className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                placeholder=\"Descripción de la transacción\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <div className=\"flex justify-between items-center mb-2\">\r\n              <label className=\"block text-sm font-medium text-gray-700\">\r\n                Entradas Contables\r\n              </label>\r\n              <button\r\n                type=\"button\"\r\n                onClick={addTransactionEntry}\r\n                className=\"text-primary-600 hover:text-primary-700 flex items-center text-sm font-medium\"\r\n              >\r\n                <Plus\r\n                  size={16}\r\n                  className=\"mr-1\"\r\n                />{\" \"}\r\n                Añadir entrada\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"overflow-x-auto border border-gray-300 rounded-md shadow-sm\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Cuenta\r\n                    </th>\r\n                    <th className=\"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Debe\r\n                    </th>\r\n                    <th className=\"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Haber\r\n                    </th>\r\n                    <th className=\"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Notas\r\n                    </th>\r\n                    <th className=\"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Acción\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {newTransaction.entries.map((entry, index) => (\r\n                    <tr key={index}>\r\n                      <td className=\"px-3 py-2 whitespace-nowrap\">\r\n                        <select\r\n                          value={entry.accountId}\r\n                          onChange={(e) =>\r\n                            handleEntryChange(\r\n                              index,\r\n                              \"accountId\",\r\n                              e.target.value\r\n                            )\r\n                          }\r\n                          className=\"block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                          required\r\n                        >\r\n                          <option value=\"\">Seleccionar cuenta</option>\r\n                          {accounts.map((account) => (\r\n                            <option\r\n                              key={account.id}\r\n                              value={account.id}\r\n                            >\r\n                              {account.code} - {account.name}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      </td>\r\n                      <td className=\"px-3 py-2 whitespace-nowrap\">\r\n                        <input\r\n                          type=\"number\"\r\n                          value={entry.debitAmount}\r\n                          onChange={(e) =>\r\n                            handleEntryChange(\r\n                              index,\r\n                              \"debitAmount\",\r\n                              e.target.value\r\n                            )\r\n                          }\r\n                          step=\"0.01\"\r\n                          min=\"0\"\r\n                          className=\"block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                        />\r\n                      </td>\r\n                      <td className=\"px-3 py-2 whitespace-nowrap\">\r\n                        <input\r\n                          type=\"number\"\r\n                          value={entry.creditAmount}\r\n                          onChange={(e) =>\r\n                            handleEntryChange(\r\n                              index,\r\n                              \"creditAmount\",\r\n                              e.target.value\r\n                            )\r\n                          }\r\n                          step=\"0.01\"\r\n                          min=\"0\"\r\n                          className=\"block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                        />\r\n                      </td>\r\n                      <td className=\"px-3 py-2 whitespace-nowrap\">\r\n                        <input\r\n                          type=\"text\"\r\n                          value={entry.notes || \"\"}\r\n                          onChange={(e) =>\r\n                            handleEntryChange(index, \"notes\", e.target.value)\r\n                          }\r\n                          className=\"block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                          placeholder=\"Notas\"\r\n                        />\r\n                      </td>\r\n                      <td className=\"px-3 py-2 whitespace-nowrap text-center\">\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => removeTransactionEntry(index)}\r\n                          className=\"text-red-600 hover:text-red-900\"\r\n                        >\r\n                          <X size={16} />\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                  <tr className=\"bg-gray-50\">\r\n                    <td className=\"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                      Totales\r\n                    </td>\r\n                    <td className=\"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                      {formatCurrency(totals.totalDebit)}\r\n                    </td>\r\n                    <td className=\"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                      {formatCurrency(totals.totalCredit)}\r\n                    </td>\r\n                    <td\r\n                      colSpan={2}\r\n                      className=\"px-3 py-2 whitespace-nowrap text-sm font-medium\"\r\n                    >\r\n                      <span\r\n                        className={`${totals.difference === 0 ? \"text-green-600\" : \"text-red-600\"}`}\r\n                      >\r\n                        {totals.difference === 0\r\n                          ? \"Transacción balanceada\"\r\n                          : `Diferencia: ${formatCurrency(Math.abs(totals.difference))}`}\r\n                      </span>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex justify-end space-x-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setIsNewTransactionModalOpen(false)}\r\n              className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\r\n            >\r\n              Cancelar\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={saveTransaction}\r\n              className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 flex items-center\"\r\n            >\r\n              <Save\r\n                size={16}\r\n                className=\"mr-2\"\r\n              />{\" \"}\r\n              Guardar Transacción\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </Modal>\r\n\r\n      {/* Modal de Nueva Cuenta */}\r\n      <Modal\r\n        isOpen={isNewAccountModalOpen}\r\n        onClose={() => setIsNewAccountModalOpen(false)}\r\n        title=\"Nueva Cuenta Contable\"\r\n      >\r\n        <form className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label\r\n                htmlFor=\"code\"\r\n                className=\"block text-sm font-medium text-gray-700\"\r\n              >\r\n                Código de Cuenta\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"code\"\r\n                name=\"code\"\r\n                value={newAccount.code}\r\n                onChange={handleAccountChange}\r\n                className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                placeholder=\"Ej. 1000\"\r\n                required\r\n              />\r\n            </div>\r\n            <div>\r\n              <label\r\n                htmlFor=\"name\"\r\n                className=\"block text-sm font-medium text-gray-700\"\r\n              >\r\n                Nombre de Cuenta\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"name\"\r\n                name=\"name\"\r\n                value={newAccount.name}\r\n                onChange={handleAccountChange}\r\n                className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                placeholder=\"Ej. Efectivo\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label\r\n                htmlFor=\"accountType\"\r\n                className=\"block text-sm font-medium text-gray-700\"\r\n              >\r\n                Tipo de Cuenta\r\n              </label>\r\n              <select\r\n                id=\"accountType\"\r\n                name=\"type\"\r\n                value={newAccount.type}\r\n                onChange={handleAccountChange}\r\n                className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                required\r\n              >\r\n                <option value=\"Activo\">Activo</option>\r\n                <option value=\"Pasivo\">Pasivo</option>\r\n                <option value=\"Patrimonio\">Patrimonio</option>\r\n                <option value=\"Ingreso\">Ingreso</option>\r\n                <option value=\"Gasto\">Gasto</option>\r\n                <option value=\"Costo\">Costo</option>\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <label\r\n                htmlFor=\"isActive\"\r\n                className=\"flex items-center text-sm font-medium text-gray-700 mt-6\"\r\n              >\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"isActive\"\r\n                  name=\"isActive\"\r\n                  checked={newAccount.isActive}\r\n                  onChange={handleAccountChange}\r\n                  className=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\r\n                />\r\n                <span className=\"ml-2\">Cuenta Activa</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label\r\n              htmlFor=\"description\"\r\n              className=\"block text-sm font-medium text-gray-700\"\r\n            >\r\n              Descripción\r\n            </label>\r\n            <textarea\r\n              id=\"description\"\r\n              name=\"description\"\r\n              value={newAccount.description}\r\n              onChange={handleAccountChange}\r\n              rows={3}\r\n              className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n              placeholder=\"Descripción detallada de la cuenta\"\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div className=\"flex justify-end space-x-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setIsNewAccountModalOpen(false)}\r\n              className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\r\n            >\r\n              Cancelar\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={saveAccount}\r\n              className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 flex items-center\"\r\n            >\r\n              <Save\r\n                size={16}\r\n                className=\"mr-2\"\r\n              />{\" \"}\r\n              Guardar Cuenta\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </Modal>\r\n\r\n      {/* Modal de Detalle de Transacción */}\r\n      <Modal\r\n        isOpen={isTransactionDetailModalOpen}\r\n        onClose={() => setIsTransactionDetailModalOpen(false)}\r\n        title={`Detalles de Transacción: ${selectedTransaction?.referenceNumber}`}\r\n        size=\"lg\"\r\n      >\r\n        {selectedTransaction && (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div>\r\n                  <h4 className=\"text-xs font-medium text-gray-500 uppercase\">\r\n                    Referencia\r\n                  </h4>\r\n                  <p className=\"mt-1 text-sm font-medium text-gray-900\">\r\n                    {selectedTransaction.referenceNumber}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"text-xs font-medium text-gray-500 uppercase\">\r\n                    Fecha\r\n                  </h4>\r\n                  <p className=\"mt-1 text-sm text-gray-900\">\r\n                    {new Date(\r\n                      selectedTransaction.transactionDate\r\n                    ).toLocaleDateString(\"es-ES\")}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"text-xs font-medium text-gray-500 uppercase\">\r\n                    Tipo\r\n                  </h4>\r\n                  <p className=\"mt-1\">\r\n                    <span\r\n                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\r\n                      ${\r\n                        selectedTransaction.type === \"Venta\"\r\n                          ? \"bg-green-100 text-green-800\"\r\n                          : selectedTransaction.type === \"Compra\"\r\n                            ? \"bg-blue-100 text-blue-800\"\r\n                            : selectedTransaction.type === \"Gasto\"\r\n                              ? \"bg-red-100 text-red-800\"\r\n                              : \"bg-gray-100 text-gray-800\"\r\n                      }`}\r\n                    >\r\n                      {selectedTransaction.type}\r\n                    </span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-4\">\r\n                <h4 className=\"text-xs font-medium text-gray-500 uppercase\">\r\n                  Descripción\r\n                </h4>\r\n                <p className=\"mt-1 text-sm text-gray-900\">\r\n                  {selectedTransaction.description}\r\n                </p>\r\n              </div>\r\n              <div className=\"mt-4\">\r\n                <h4 className=\"text-xs font-medium text-gray-500 uppercase\">\r\n                  Estado\r\n                </h4>\r\n                <p className=\"mt-1\">\r\n                  <span\r\n                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\r\n                    ${selectedTransaction.isPosted ? \"bg-green-100 text-green-800\" : \"bg-yellow-100 text-yellow-800\"}`}\r\n                  >\r\n                    {selectedTransaction.isPosted\r\n                      ? \"Contabilizado\"\r\n                      : \"Pendiente\"}\r\n                  </span>\r\n                </p>\r\n              </div>\r\n              {selectedTransaction.orderId && (\r\n                <div className=\"mt-4\">\r\n                  <h4 className=\"text-xs font-medium text-gray-500 uppercase\">\r\n                    Orden relacionada\r\n                  </h4>\r\n                  <p className=\"mt-1 text-sm text-primary-600 font-medium\">\r\n                    #{selectedTransaction.orderId}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <h3 className=\"text-base font-medium text-gray-900 mb-3\">\r\n                Entradas Contables\r\n              </h3>\r\n              <div className=\"overflow-x-auto border border-gray-300 rounded-md shadow-sm\">\r\n                <table className=\"min-w-full divide-y divide-gray-200\">\r\n                  <thead className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Cuenta\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Debe\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Haber\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Notas\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                    {selectedTransaction.entries.map((entry) => {\r\n                      // Encontrar la cuenta correspondiente\r\n                      const account = accounts.find(\r\n                        (a) => a.id === entry.accountId\r\n                      );\r\n\r\n                      return (\r\n                        <tr key={entry.id}>\r\n                          <td className=\"px-4 py-3 text-sm text-gray-900\">\r\n                            {account\r\n                              ? `${account.code} - ${account.name}`\r\n                              : `Cuenta ID: ${entry.accountId}`}\r\n                          </td>\r\n                          <td className=\"px-4 py-3 text-sm text-right text-gray-900\">\r\n                            {entry.debitAmount > 0\r\n                              ? formatCurrency(entry.debitAmount)\r\n                              : \"\"}\r\n                          </td>\r\n                          <td className=\"px-4 py-3 text-sm text-right text-gray-900\">\r\n                            {entry.creditAmount > 0\r\n                              ? formatCurrency(entry.creditAmount)\r\n                              : \"\"}\r\n                          </td>\r\n                          <td className=\"px-4 py-3 text-sm text-gray-500\">\r\n                            {entry.notes}\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n\r\n                    {/* Fila de totales */}\r\n                    <tr className=\"bg-gray-50 font-medium\">\r\n                      <td className=\"px-4 py-3 text-sm text-gray-900\">\r\n                        Totales\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-sm text-right text-gray-900\">\r\n                        {formatCurrency(\r\n                          selectedTransaction.entries.reduce(\r\n                            (sum, entry) => sum + entry.debitAmount,\r\n                            0\r\n                          )\r\n                        )}\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-sm text-right text-gray-900\">\r\n                        {formatCurrency(\r\n                          selectedTransaction.entries.reduce(\r\n                            (sum, entry) => sum + entry.creditAmount,\r\n                            0\r\n                          )\r\n                        )}\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-sm text-gray-900\">\r\n                        {selectedTransaction.isBalanced ? (\r\n                          <span className=\"text-green-600\">\r\n                            Transacción balanceada\r\n                          </span>\r\n                        ) : (\r\n                          <span className=\"text-red-600\">\r\n                            Transacción no balanceada\r\n                          </span>\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-end space-x-3\">\r\n              {!selectedTransaction.isPosted && (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 flex items-center\"\r\n                >\r\n                  <Archive\r\n                    size={16}\r\n                    className=\"mr-2\"\r\n                  />{\" \"}\r\n                  Contabilizar\r\n                </button>\r\n              )}\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setIsTransactionDetailModalOpen(false)}\r\n                className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\r\n              >\r\n                Cerrar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n\r\n      {/* Modal de Detalle de Cuenta */}\r\n      <Modal\r\n        isOpen={isAccountDetailModalOpen}\r\n        onClose={() => setIsAccountDetailModalOpen(false)}\r\n        title={`Detalles de Cuenta: ${selectedAccount?.code} - ${selectedAccount?.name}`}\r\n      >\r\n        {selectedAccount && (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <h4 className=\"text-xs font-medium text-gray-500 uppercase\">\r\n                    Código\r\n                  </h4>\r\n                  <p className=\"mt-1 text-sm font-medium text-gray-900\">\r\n                    {selectedAccount.code}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"text-xs font-medium text-gray-500 uppercase\">\r\n                    Nombre\r\n                  </h4>\r\n                  <p className=\"mt-1 text-sm text-gray-900\">\r\n                    {selectedAccount.name}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\r\n                <div>\r\n                  <h4 className=\"text-xs font-medium text-gray-500 uppercase\">\r\n                    Tipo\r\n                  </h4>\r\n                  <p className=\"mt-1\">\r\n                    <span\r\n                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\r\n                      ${\r\n                        selectedAccount.type === \"Activo\"\r\n                          ? \"bg-blue-100 text-blue-800\"\r\n                          : selectedAccount.type === \"Pasivo\"\r\n                            ? \"bg-yellow-100 text-yellow-800\"\r\n                            : selectedAccount.type === \"Ingreso\"\r\n                              ? \"bg-green-100 text-green-800\"\r\n                              : selectedAccount.type === \"Gasto\"\r\n                                ? \"bg-red-100 text-red-800\"\r\n                                : selectedAccount.type === \"Costo\"\r\n                                  ? \"bg-orange-100 text-orange-800\"\r\n                                  : \"bg-gray-100 text-gray-800\"\r\n                      }`}\r\n                    >\r\n                      {selectedAccount.type}\r\n                    </span>\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"text-xs font-medium text-gray-500 uppercase\">\r\n                    Saldo\r\n                  </h4>\r\n                  <p className=\"mt-1 text-sm text-gray-900\">\r\n                    <span\r\n                      className={`font-medium ${selectedAccount.balance && selectedAccount.balance >= 0 ? \"text-green-600\" : \"text-red-600\"}`}\r\n                    >\r\n                      {formatCurrency(selectedAccount.balance || 0)}\r\n                    </span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-4\">\r\n                <h4 className=\"text-xs font-medium text-gray-500 uppercase\">\r\n                  Estado\r\n                </h4>\r\n                <p className=\"mt-1\">\r\n                  <span\r\n                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\r\n                    ${selectedAccount.isActive ? \"bg-green-100 text-green-800\" : \"bg-red-100 text-red-800\"}`}\r\n                  >\r\n                    {selectedAccount.isActive ? \"Activa\" : \"Inactiva\"}\r\n                  </span>\r\n                </p>\r\n              </div>\r\n              <div className=\"mt-4\">\r\n                <h4 className=\"text-xs font-medium text-gray-500 uppercase\">\r\n                  Descripción\r\n                </h4>\r\n                <p className=\"mt-1 text-sm text-gray-900\">\r\n                  {selectedAccount.description || \"Sin descripción\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <h3 className=\"text-base font-medium text-gray-900 mb-3\">\r\n                Movimientos Recientes\r\n              </h3>\r\n              <div className=\"border border-gray-300 rounded-md shadow-sm p-4 text-center text-gray-500\">\r\n                <p>\r\n                  Para ver los movimientos detallados de esta cuenta, genere un\r\n                  informe de Libro Mayor.\r\n                </p>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"mt-3 px-4 py-2 bg-primary-600 border border-transparent rounded-md font-medium text-white shadow-sm hover:bg-primary-700\"\r\n                >\r\n                  Ver Libro Mayor\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-end space-x-3\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\r\n                onClick={() => setIsAccountDetailModalOpen(false)}\r\n              >\r\n                Cerrar\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 flex items-center\"\r\n              >\r\n                Editar Cuenta\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminAccountingPage;\r\n"],"names":["Modal","isOpen","onClose","title","children","size","sizeClasses","jsx","jsxs","X","AdminAccountingPage","activeTab","setActiveTab","useState","loading","setLoading","transactions","setTransactions","accounts","setAccounts","isNewTransactionModalOpen","setIsNewTransactionModalOpen","isNewAccountModalOpen","setIsNewAccountModalOpen","isTransactionDetailModalOpen","setIsTransactionDetailModalOpen","isAccountDetailModalOpen","setIsAccountDetailModalOpen","selectedTransaction","setSelectedTransaction","selectedAccount","setSelectedAccount","newTransaction","setNewTransaction","newAccount","setNewAccount","oneMonthAgo","today","dateRange","setDateRange","currentPage","setCurrentPage","totalPages","setTotalPages","filterType","setFilterType","useEffect","mockTransactions","mockAccounts","openTransactionDetail","transaction","openAccountDetail","account","handleTransactionChange","e","name","value","handleEntryChange","index","field","updatedEntries","addTransactionEntry","removeTransactionEntry","_","i","handleAccountChange","type","updatedValue","saveTransaction","totalDebit","sum","entry","totalCredit","saveAccount","transactionColumns","Eye","Archive","accountColumns","balance","formatCurrency","amount","financialSummary","totals","cards","DollarSign","BarChart2","DashboardCardList","Filter","Table","Plus","Save","a"],"mappings":"4MA6BA,MAAMA,EAA8B,CAAC,CACpC,OAAAC,EACA,QAAAC,EACA,MAAAC,EACA,SAAAC,EACA,KAAAC,EAAO,IACR,IAAM,CACD,GAAA,CAACJ,EAAe,OAAA,KAEpB,MAAMK,EAAc,CACnB,GAAI,WACJ,GAAI,YACJ,GAAI,YACJ,GAAI,WACL,EAGC,OAAAC,EAAA,IAAC,MAAA,CACA,UAAU,qCACV,kBAAgB,cAChB,KAAK,SACL,aAAW,OAEX,SAAAC,EAAA,KAAC,MAAI,CAAA,UAAU,yFAEd,SAAA,CAAAD,EAAA,IAAC,MAAA,CACA,UAAU,6DACV,cAAY,OACZ,QAASL,CAAA,CACT,EAGDK,EAAA,IAAC,MAAA,CACA,UAAW,sIAAsID,EAAYD,CAAI,CAAC,UAElK,SAAAG,EAAA,KAAC,MAAI,CAAA,UAAU,iCACd,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,yCACd,SAAA,CAAAD,EAAA,IAAC,KAAA,CACA,UAAU,8CACV,GAAG,cAEF,SAAAJ,CAAA,CACF,EACAK,EAAA,KAAC,SAAA,CACA,KAAK,SACL,UAAU,2EACV,QAASN,EAET,SAAA,CAACK,EAAA,IAAA,OAAA,CAAK,UAAU,UAAU,SAAM,SAAA,EAChCA,EAAAA,IAACE,EAAE,CAAA,UAAU,SAAU,CAAA,CAAA,CAAA,CAAA,CACxB,EACD,EACCF,EAAAA,IAAA,MAAA,CAAI,UAAU,OAAQ,SAAAH,CAAS,CAAA,CAAA,CACjC,CAAA,CAAA,CAAA,CACD,CACD,CAAA,CAAA,CACD,CAEF,EAMMM,GAAgC,IAAM,CAE3C,KAAM,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAEhC,cAAc,EACV,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAkB,EAAI,EAC9C,CAACG,EAAcC,CAAe,EAAIJ,EAAAA,SAAkC,CAAA,CAAE,EACtE,CAACK,EAAUC,CAAW,EAAIN,EAAAA,SAA8B,CAAA,CAAE,EAG1D,CAACO,EAA2BC,CAA4B,EAC7DR,EAAAA,SAAkB,EAAK,EAClB,CAACS,EAAuBC,CAAwB,EACrDV,EAAAA,SAAkB,EAAK,EAClB,CAACW,EAA8BC,CAA+B,EACnEZ,EAAAA,SAAkB,EAAK,EAClB,CAACa,EAA0BC,CAA2B,EAC3Dd,EAAAA,SAAkB,EAAK,EAClB,CAACe,EAAqBC,CAAsB,EACjDhB,EAAAA,SAAuC,IAAI,EACtC,CAACiB,EAAiBC,CAAkB,EACzClB,EAAAA,SAAmC,IAAI,EAGlC,CAACmB,EAAgBC,CAAiB,EAAIpB,WAMzC,CACF,gBAAiB,GACjB,oBAAqB,OAAO,YAAc,EAAA,MAAM,GAAG,EAAE,CAAC,EACtD,YAAa,GACb,KAAM,QACN,QAAS,CACR,CAAC,UAAW,EAAG,YAAa,EAAG,aAAc,EAAG,MAAO,EAAE,EACzD,CAAC,UAAW,EAAG,YAAa,EAAG,aAAc,EAAG,MAAO,EAAE,CAAA,CAC1D,CACA,EAGK,CAACqB,EAAYC,CAAa,EAAItB,WAMjC,CACF,KAAM,GACN,KAAM,GACN,KAAM,SACN,YAAa,GACb,SAAU,EAAA,CACV,EAGKuB,MAAkB,KACxBA,EAAY,SAASA,EAAY,SAAS,EAAI,CAAC,EACzC,MAAAC,MAAY,KAEZ,CAACC,EAAWC,CAAY,EAAI1B,WAAqC,CACtE,KAAMuB,EAAY,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,EAC5C,GAAIC,EAAM,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,CAAA,CACpC,EACK,CAACG,EAAaC,CAAc,EAAI5B,EAAAA,SAAiB,CAAC,EAClD,CAAC6B,EAAYC,CAAa,EAAI9B,EAAAA,SAAiB,CAAC,EAChD,CAAC+B,EAAYC,CAAa,EAAIhC,EAAAA,SAAiB,KAAK,EAG1DiC,EAAAA,UAAU,IAAM,CAEf/B,EAAW,EAAI,EAEf,WAAW,IAAM,CAEhB,MAAMgC,EAA4C,CACjD,CACC,GAAI,EACJ,gBAAiB,YACjB,gBAAiB,aACjB,YAAa,qBACb,KAAM,QACN,QAAS,KACT,SAAU,GACV,QAAS,CACR,CACC,GAAI,EACJ,cAAe,EACf,UAAW,KACX,YAAa,EACb,aAAc,KACd,MAAO,oBACR,EACA,CACC,GAAI,EACJ,cAAe,EACf,UAAW,KACX,YAAa,KACb,aAAc,EACd,MAAO,mBAAA,CAET,EACA,QAAS,EACT,WAAY,EACb,EACA,CACC,GAAI,EACJ,gBAAiB,YACjB,gBAAiB,aACjB,YAAa,mBACb,KAAM,SACN,SAAU,GACV,QAAS,CACR,CACC,GAAI,EACJ,cAAe,EACf,UAAW,KACX,YAAa,IACb,aAAc,EACd,MAAO,sBACR,EACA,CACC,GAAI,EACJ,cAAe,EACf,UAAW,KACX,YAAa,EACb,aAAc,IACd,MAAO,gBAAA,CAET,EACA,QAAS,EACT,WAAY,EACb,EACA,CACC,GAAI,EACJ,gBAAiB,YACjB,gBAAiB,aACjB,YAAa,oBACb,KAAM,QACN,SAAU,GACV,QAAS,CACR,CACC,GAAI,EACJ,cAAe,EACf,UAAW,KACX,YAAa,IACb,aAAc,EACd,MAAO,qBACR,EACA,CACC,GAAI,EACJ,cAAe,EACf,UAAW,KACX,YAAa,EACb,aAAc,IACd,MAAO,mBAAA,CAET,EACA,QAAS,EACT,WAAY,EACb,EACA,CACC,GAAI,EACJ,gBAAiB,YACjB,gBAAiB,aACjB,YAAa,yBACb,KAAM,aACN,QAAS,KACT,SAAU,GACV,QAAS,CACR,CACC,GAAI,EACJ,cAAe,EACf,UAAW,KACX,YAAa,IACb,aAAc,EACd,MAAO,qBACR,EACA,CACC,GAAI,EACJ,cAAe,EACf,UAAW,KACX,YAAa,EACb,aAAc,IACd,MAAO,qBAAA,CAET,EACA,QAAS,EACT,WAAY,EACb,EACA,CACC,GAAI,EACJ,gBAAiB,YACjB,gBAAiB,aACjB,YAAa,qBACb,KAAM,QACN,SAAU,GACV,QAAS,CACR,CACC,GAAI,EACJ,cAAe,EACf,UAAW,KACX,YAAa,IACb,aAAc,EACd,MAAO,yBACR,EACA,CACC,GAAI,GACJ,cAAe,EACf,UAAW,KACX,YAAa,EACb,aAAc,IACd,MAAO,oBAAA,CAET,EACA,QAAS,EACT,WAAY,EAAA,CAEd,EAGMC,EAAoC,CACzC,CACC,GAAI,KACJ,KAAM,OACN,KAAM,SACN,KAAM,UACN,YAAa,mCACb,SAAU,GACV,QAAS,IACV,EACA,CACC,GAAI,KACJ,KAAM,OACN,KAAM,kBACN,KAAM,QACN,YAAa,4BACb,SAAU,G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"}