import{j as e,X as p,O as W,T as X,h as Y,J as Z,D as ee,q as re,p as h,aQ as se,aR as I,aS as te,n as ae,aT as oe,aU as ie,k as ne,aO as le,aA as ce}from"./ui-vendor-BUNMIuFe.js";import{u as de,r as u}from"./react-vendor-Cy458wKG.js";import{l as me,c as ue}from"./admin-chunk-BNcFjXlJ.js";import{u as pe}from"./useCategoriesSelect-DJGkSPcx.js";import"./seller-chunk-6swISJwY.js";import"./utils-vendor-DeGC_a19.js";const je=()=>{const f=de(),[x,j]=u.useState(!1),[z,y]=u.useState([]),[E,N]=u.useState(!0),{createProduct:P}=me(),{parentCategoryOptions:F,subcategoryOptions:b,setSelectedParentId:D,loading:_}=pe(),[c,T]=u.useState({seller:!0,basic:!0,pricing:!0,categorization:!0,physical:!1,variations:!1,media:!0,seo:!1,advanced:!1}),[s,i]=u.useState({sellerId:"",name:"",description:"",short_description:"",parentCategory:"",category:"",tags:[],currentTag:"",price:"",stock:"",discount_percentage:"",weight:"",width:"",height:"",depth:"",dimensions:"",colors:[],currentColor:"",sizes:[],currentSize:"",attributes:[],currentAttributeKey:"",currentAttributeValue:"",images:[],previewImages:[],status:"active",featured:!1,published:!0}),V=["sellerId","name","description","price","stock","category"],[a,v]=u.useState({});u.useEffect(()=>{(async()=>{try{N(!0);const t=await ue.get("/admin/sellers-simple");if(console.log("Sellers API response:",t),t?.data){const o=t.data?.data||t.data;console.log("Processed sellers data:",o),y(Array.isArray(o)?o:[])}else console.error("No data in sellers response:",t),y([])}catch(t){console.error("Error loading sellers:",t),y([])}finally{N(!1)}})()},[]);const $=r=>{T(t=>({...t,[r]:!t[r]}))},n=r=>{const{name:t,value:o,type:l}=r.target;if(l==="checkbox"){const m=r.target.checked;i(g=>({...g,[t]:m}));return}i(m=>({...m,[t]:o})),t==="parentCategory"&&o&&(D(parseInt(o)),i(m=>({...m,category:""}))),a[t]&&v(m=>{const g={...m};return delete g[t],g})},K=r=>{if(r.target.files&&r.target.files.length>0){const t=Array.from(r.target.files),o=t.map(l=>URL.createObjectURL(l));i(l=>({...l,images:[...l.images,...t],previewImages:[...l.previewImages,...o]}))}},U=r=>{const t=[...s.images],o=[...s.previewImages];URL.revokeObjectURL(o[r]),t.splice(r,1),o.splice(r,1),i(l=>({...l,images:t,previewImages:o}))},w=()=>{s.currentTag.trim()&&!s.tags.includes(s.currentTag.trim())&&i(r=>({...r,tags:[...r.tags,r.currentTag.trim()],currentTag:""}))},q=r=>{i(t=>({...t,tags:t.tags.filter(o=>o!==r)}))},O=r=>{r.key==="Enter"&&(r.preventDefault(),w())},C=()=>{s.currentColor.trim()&&!s.colors.includes(s.currentColor.trim())&&i(r=>({...r,colors:[...r.colors,r.currentColor.trim()],currentColor:""}))},R=r=>{i(t=>({...t,colors:t.colors.filter(o=>o!==r)}))},L=r=>{r.key==="Enter"&&(r.preventDefault(),C())},k=()=>{s.currentSize.trim()&&!s.sizes.includes(s.currentSize.trim())&&i(r=>({...r,sizes:[...r.sizes,r.currentSize.trim()],currentSize:""}))},B=r=>{i(t=>({...t,sizes:t.sizes.filter(o=>o!==r)}))},G=r=>{r.key==="Enter"&&(r.preventDefault(),k())},A=()=>{const r=s.currentAttributeKey.trim(),t=s.currentAttributeValue.trim();r&&t&&i(o=>({...o,attributes:[...o.attributes,{key:r,value:t}],currentAttributeKey:"",currentAttributeValue:""}))},J=r=>{i(t=>{const o=[...t.attributes];return o.splice(r,1),{...t,attributes:o}})},M=r=>{if(r.key==="Enter"){r.preventDefault();const t=document.getElementById("attributeValue");t&&t.focus()}},H=r=>{r.key==="Enter"&&(r.preventDefault(),A())},Q=()=>{const r={};return V.forEach(t=>{s[t]||(r[t]=`El campo ${t} es obligatorio`)}),s.price&&(isNaN(Number(s.price))||Number(s.price)<=0)&&(r.price="El precio debe ser un número mayor que cero"),s.stock&&(isNaN(Number(s.stock))||Number(s.stock)<0)&&(r.stock="El stock debe ser un número no negativo"),s.discount_percentage&&(isNaN(Number(s.discount_percentage))||Number(s.discount_percentage)<0||Number(s.discount_percentage)>100)&&(r.discount_percentage="El descuento debe ser un porcentaje entre 0 y 100"),["weight","width","height","depth"].forEach(t=>{const o=s[t];o&&isNaN(Number(o))&&(r[t]=`El campo ${t} debe ser un número`)}),v(r),Object.keys(r).length===0},S=async r=>{if(r.preventDefault(),!Q()){const t=Object.keys(a)[0],o=document.getElementById(t);o&&(o.scrollIntoView({behavior:"smooth",block:"center"}),o.focus());return}j(!0);try{const t={name:s.name,description:s.description,short_description:s.short_description||void 0,price:parseFloat(s.price),stock:parseInt(s.stock),category_id:parseInt(s.category),categoryId:parseInt(s.category),status:s.status,tags:s.tags.length>0?s.tags:void 0,images:s.images.length>0?s.images:void 0,discount_percentage:s.discount_percentage?parseFloat(s.discount_percentage):void 0,weight:s.weight?parseFloat(s.weight):void 0,width:s.width?parseFloat(s.width):void 0,height:s.height?parseFloat(s.height):void 0,depth:s.depth?parseFloat(s.depth):void 0,dimensions:s.dimensions||void 0,colors:s.colors.length>0?s.colors:void 0,sizes:s.sizes.length>0?s.sizes:void 0,attributes:s.attributes.length>0?s.attributes:void 0,featured:s.featured,published:s.published};console.log("Enviando datos de producto (Admin):",t);const o=parseInt(s.sellerId);if(await P(t,o))f("/admin/products");else throw new Error("No se pudo crear el producto")}catch(t){console.error("Error al crear producto:",t),alert(t instanceof Error?t.message:"Error al crear producto")}finally{j(!1)}},d=({title:r,section:t,icon:o})=>e.jsxs("div",{className:"flex items-center justify-between cursor-pointer py-3 border-b border-gray-200",onClick:()=>$(t),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{className:"w-5 h-5 text-primary-600 mr-2"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r})]}),c[t]?e.jsx(le,{className:"w-5 h-5 text-gray-500"}):e.jsx(ce,{className:"w-5 h-5 text-gray-500"})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Crear Nuevo Producto (Admin)"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{type:"button",onClick:()=>f("/admin/products"),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx(p,{size:18,className:"inline mr-1"})," Cancelar"]}),e.jsx("button",{type:"button",onClick:S,disabled:x,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-block animate-spin mr-1",children:"⟳"})," ","Guardando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{size:18,className:"inline mr-1"})," Crear Producto"]})})]})]}),e.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-4 rounded-r-lg mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(X,{className:"h-5 w-5 text-amber-500"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Campos requeridos"}),e.jsx("div",{className:"mt-2 text-sm text-amber-700",children:e.jsxs("p",{children:["Los campos marcados con ",e.jsx("span",{className:"text-red-500",children:"*"})," ","son obligatorios para crear el producto. Como administrador, debes asignar el producto a un vendedor."]})})]})]})}),e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx(d,{title:"Asignación de Vendedor",section:"seller",icon:Y}),c.seller&&e.jsx("div",{className:"mt-4",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"sellerId",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendedor Asignado ",e.jsx("span",{className:"text-red-500",children:"*"})]}),E?e.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 text-gray-400",children:"Cargando vendedores..."}):e.jsxs("select",{id:"sellerId",name:"sellerId",value:s.sellerId,onChange:n,className:`w-full px-3 py-2 border ${a.sellerId?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`,children:[e.jsx("option",{value:"",children:"Seleccionar Vendedor"}),z.map(r=>e.jsx("option",{value:r.id,children:r.store_name||r.name||`Vendedor ${r.id}`},r.id))]}),a.sellerId&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.sellerId}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Selecciona el vendedor al cual será asignado este producto."})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx(d,{title:"Información Básica",section:"basic",icon:Z}),c.basic&&e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nombre del Producto ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:n,className:`w-full px-3 py-2 border ${a.name?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}),a.name&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.name})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"short_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción Corta"}),e.jsx("input",{type:"text",id:"short_description",name:"short_description",value:s.short_description,onChange:n,placeholder:"Resumen breve del producto (para listados y búsquedas)",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Descripción Completa ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"description",name:"description",rows:4,value:s.description,onChange:n,className:`w-full px-3 py-2 border ${a.description?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}),a.description&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.description})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx(d,{title:"Precios y Stock",section:"pricing",icon:ee}),c.pricing&&e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:["Precio ($) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",id:"price",name:"price",min:"0",step:"0.01",value:s.price,onChange:n,className:`w-full px-3 py-2 border ${a.price?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}),a.price&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.price})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"discount_percentage",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descuento (%)"}),e.jsx("input",{type:"number",id:"discount_percentage",name:"discount_percentage",min:"0",max:"100",step:"0.1",value:s.discount_percentage,onChange:n,className:`w-full px-3 py-2 border ${a.discount_percentage?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}),a.discount_percentage&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.discount_percentage})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700 mb-1",children:["Cantidad en Stock ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",id:"stock",name:"stock",min:"0",value:s.stock,onChange:n,className:`w-full px-3 py-2 border ${a.stock?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}),a.stock&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.stock})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado del Producto"}),e.jsxs("select",{id:"status",name:"status",value:s.status,onChange:n,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"active",children:"Activo"}),e.jsx("option",{value:"inactive",children:"Inactivo"}),e.jsx("option",{value:"draft",children:"Borrador"})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"flex space-x-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"featured",name:"featured",type:"checkbox",checked:s.featured,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"featured",className:"ml-2 block text-sm text-gray-900",children:"Producto Destacado"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"published",name:"published",type:"checkbox",checked:s.published,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"published",className:"ml-2 block text-sm text-gray-900",children:"Publicado"})]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx(d,{title:"Categorización",section:"categorization",icon:re}),c.categorization&&e.jsxs("div",{className:"mt-4 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"parentCategory",className:"block text-sm font-medium text-gray-700 mb-1",children:["Categoría Principal ",e.jsx("span",{className:"text-red-500",children:"*"})]}),_?e.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 text-gray-400",children:"Cargando categorías..."}):e.jsxs("select",{id:"parentCategory",name:"parentCategory",value:s.parentCategory,onChange:n,className:`w-full px-3 py-2 border ${a.parentCategory?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`,children:[e.jsx("option",{value:"",children:"Seleccionar Categoría Principal"}),F.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))]}),a.parentCategory&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.parentCategory})]}),e.jsxs("div",{className:s.parentCategory?"":"opacity-50",children:[e.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Subcategoría ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"category",name:"category",value:s.category,onChange:n,disabled:!s.parentCategory,className:`w-full px-3 py-2 border ${a.category?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed`,children:[e.jsx("option",{value:"",children:s.parentCategory?b.length>0?"Seleccionar Subcategoría":"No hay subcategorías disponibles":"Primero selecciona una categoría principal"}),b.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value)),s.parentCategory&&b.length===0&&e.jsx("option",{value:s.parentCategory,children:"Usar categoría principal"})]}),a.category&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.category})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Etiquetas (Tags)"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",placeholder:"Añade una etiqueta y presiona Enter",value:s.currentTag,onChange:r=>i(t=>({...t,currentTag:r.target.value})),onKeyDown:O,className:"flex-grow px-3 py-2 border border-gray-300 rounded-l-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"}),e.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-primary-600 text-white rounded-r-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:e.jsx(h,{size:18})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.tags.map(r=>e.jsxs("div",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded-md flex items-center",children:[e.jsx("span",{children:r}),e.jsx("button",{type:"button",onClick:()=>q(r),className:"ml-1 text-gray-500 hover:text-gray-700",children:e.jsx(p,{size:14})})]},r)),s.tags.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"Aún no se han añadido etiquetas"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx(d,{title:"Características Físicas",section:"physical",icon:se}),c.physical&&e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700 mb-1",children:"Peso (kg)"}),e.jsx("input",{type:"number",id:"weight",name:"weight",min:"0",step:"0.001",value:s.weight,onChange:n,className:`w-full px-3 py-2 border ${a.weight?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}),a.weight&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.weight})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"width",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ancho (cm)"}),e.jsx("input",{type:"number",id:"width",name:"width",min:"0",step:"0.1",value:s.width,onChange:n,className:`w-full px-3 py-2 border ${a.width?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}),a.width&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.width})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"height",className:"block text-sm font-medium text-gray-700 mb-1",children:"Alto (cm)"}),e.jsx("input",{type:"number",id:"height",name:"height",min:"0",step:"0.1",value:s.height,onChange:n,className:`w-full px-3 py-2 border ${a.height?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}),a.height&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.height})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"depth",className:"block text-sm font-medium text-gray-700 mb-1",children:"Profundidad (cm)"}),e.jsx("input",{type:"number",id:"depth",name:"depth",min:"0",step:"0.1",value:s.depth,onChange:n,className:`w-full px-3 py-2 border ${a.depth?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500`}),a.depth&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.depth})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx(d,{title:"Variaciones y Atributos",section:"variations",icon:I}),c.variations&&e.jsxs("div",{className:"mt-4 space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-md font-medium text-gray-800 mb-2 flex items-center",children:[e.jsx(I,{className:"w-4 h-4 mr-1"})," Colores Disponibles"]}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",placeholder:"Añade un color y presiona Enter",value:s.currentColor,onChange:r=>i(t=>({...t,currentColor:r.target.value})),onKeyDown:L,className:"flex-grow px-3 py-2 border border-gray-300 rounded-l-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"}),e.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 bg-primary-600 text-white rounded-r-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:e.jsx(h,{size:18})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.colors.map(r=>e.jsxs("div",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded-md flex items-center",children:[e.jsx("span",{children:r}),e.jsx("button",{type:"button",onClick:()=>R(r),className:"ml-1 text-gray-500 hover:text-gray-700",children:e.jsx(p,{size:14})})]},r)),s.colors.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"Aún no se han añadido colores"})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-md font-medium text-gray-800 mb-2 flex items-center",children:[e.jsx(te,{className:"w-4 h-4 mr-1"})," Tallas Disponibles"]}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",placeholder:"Añade una talla y presiona Enter",value:s.currentSize,onChange:r=>i(t=>({...t,currentSize:r.target.value})),onKeyDown:G,className:"flex-grow px-3 py-2 border border-gray-300 rounded-l-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"}),e.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 bg-primary-600 text-white rounded-r-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:e.jsx(h,{size:18})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.sizes.map(r=>e.jsxs("div",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded-md flex items-center",children:[e.jsx("span",{children:r}),e.jsx("button",{type:"button",onClick:()=>B(r),className:"ml-1 text-gray-500 hover:text-gray-700",children:e.jsx(p,{size:14})})]},r)),s.sizes.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"Aún no se han añadido tallas"})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-md font-medium text-gray-800 mb-2 flex items-center",children:[e.jsx(ae,{className:"w-4 h-4 mr-1"})," Atributos Personalizados"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsx("input",{type:"text",id:"attributeKey",placeholder:"Nombre del atributo (ej: Material)",value:s.currentAttributeKey,onChange:r=>i(t=>({...t,currentAttributeKey:r.target.value})),onKeyDown:M,className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",id:"attributeValue",placeholder:"Valor (ej: Algodón)",value:s.currentAttributeValue,onChange:r=>i(t=>({...t,currentAttributeValue:r.target.value})),onKeyDown:H,className:"flex-grow px-3 py-2 border border-gray-300 rounded-l-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"}),e.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 bg-primary-600 text-white rounded-r-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:e.jsx(h,{size:18})})]})]}),e.jsx("div",{className:"mt-4",children:s.attributes.length>0?e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Atributo"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),e.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acción"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:s.attributes.map((r,t)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 text-sm text-gray-800",children:r.key}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-600",children:r.value}),e.jsx("td",{className:"px-3 py-2 text-right",children:e.jsx("button",{type:"button",onClick:()=>J(t),className:"text-red-600 hover:text-red-800",children:e.jsx(p,{size:16})})})]},t))})]})}):e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Aún no se han añadido atributos personalizados"})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx(d,{title:"Imágenes del Producto",section:"media",icon:oe}),c.media&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx("input",{type:"file",id:"images",accept:"image/*",multiple:!0,onChange:K,className:"hidden"}),e.jsxs("label",{htmlFor:"images",className:"cursor-pointer flex flex-col items-center justify-center",children:[e.jsx(ie,{className:"h-12 w-12 text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-600 mb-1",children:"Arrastra y suelta imágenes aquí o haz clic para subir"}),e.jsx("p",{className:"text-xs text-gray-500",children:"JPEG, PNG, WebP hasta 2MB"})]})]}),s.previewImages.length>0&&e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mt-4",children:s.previewImages.map((r,t)=>e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-lg bg-gray-100",children:e.jsx("img",{src:r,alt:`Vista previa ${t+1}`,className:"h-full w-full object-cover object-center"})}),e.jsx("button",{type:"button",onClick:()=>U(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(ne,{size:14})}),t===0&&e.jsx("div",{className:"absolute bottom-2 left-2 bg-primary-500 text-white text-xs py-1 px-2 rounded-md",children:"Principal"})]},t))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:x,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Creando...":"Crear Producto"})})]})]})};export{je as default};
//# sourceMappingURL=AdminProductCreatePage-C59izwU0.js.map
