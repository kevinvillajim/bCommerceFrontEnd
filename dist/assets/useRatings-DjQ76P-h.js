import{r as l}from"./react-vendor-Cy458wKG.js";import{R as h}from"./RatingService-_ICai5Hc.js";import{i as c}from"./admin-chunk-bhOJ3jtA.js";const C=()=>{const[u,n]=l.useState(!1),[d,s]=l.useState(null),t=l.useMemo(()=>new h,[]),g=l.useCallback(async()=>{n(!0),s(null);try{console.log("Solicitando valoraciones pendientes...");const r=await t.getPendingRatings();return console.log("Respuesta de valoraciones pendientes:",r),console.log("🔍 DATOS COMPLETOS DEL BACKEND:",JSON.stringify(r.data,null,2)),r}catch(r){console.error("Error al obtener valoraciones pendientes:",r);const e=c(r,"Error al obtener valoraciones pendientes");return s(e),{status:"error",message:e,data:{products:[],sellers:[]}}}finally{n(!1)}},[]),p=l.useCallback(async r=>{n(!0),s(null);try{console.log("Enviando valoración de producto:",r);const e=await t.rateProduct(r);return console.log("Respuesta al valorar producto:",e),e}catch(e){console.error("Error al valorar producto:",e);const a=c(e,"Error al valorar producto");throw s(a),new Error(a)}finally{n(!1)}},[]),v=l.useCallback(async r=>{n(!0),s(null);try{console.log("Enviando valoración de vendedor:",r);const e=await t.rateSeller(r);return console.log("Respuesta al valorar vendedor:",e),e}catch(e){console.error("Error al valorar vendedor:",e);const a=c(e,"Error al valorar vendedor");throw s(a),new Error(a)}finally{n(!1)}},[]),E=l.useCallback(async r=>{n(!0),s(null);try{console.log("Enviando reporte de problema:",r);const e=await t.reportProblem(r);return console.log("Respuesta al reportar problema:",e),e}catch(e){console.error("Error al reportar problema:",e);const a=c(e,"Error al reportar problema");throw s(a),new Error(a)}finally{n(!1)}},[]),y=l.useCallback(async(r,e)=>{n(!0),s(null);try{console.log("Enviando respuesta a valoración:",{ratingId:r,replyText:e});const a={rating_id:r,reply_text:e},o=await t.replyToRating(a);return console.log("Respuesta al responder valoración:",o),o}catch(a){console.error("Error al responder valoración:",a);const o=c(a,"Error al responder valoración");throw s(o),new Error(o)}finally{n(!1)}},[]),b=l.useCallback(async(r,e)=>{n(!0),s(null);try{console.log("Enviando reporte de valoración:",{ratingId:r,reason:e});const a={rating_id:r,reason:e},o=await t.reportRating(a);return console.log("Respuesta al reportar valoración:",o),o}catch(a){console.error("Error al reportar valoración:",a);const o=c(a,"Error al reportar valoración");throw s(o),new Error(o)}finally{n(!1)}},[]),w=l.useCallback(async(r,e=1,a=10)=>{n(!0),s(null);try{console.log(`Obteniendo valoraciones del producto ${r}...`);const o=await t.getProductRatings(r,e,a);return console.log(`Valoraciones del producto ${r}:`,o),o}catch(o){console.error(`Error al obtener valoraciones del producto ${r}:`,o);const i=c(o,"Error al obtener valoraciones del producto");throw s(i),new Error(i)}finally{n(!1)}},[]),f=l.useCallback(async(r,e=1,a=10)=>{n(!0),s(null);try{console.log(`Obteniendo valoraciones del vendedor ${r}...`);const o=await t.getSellerRatings(r,e,a);return console.log(`Valoraciones del vendedor ${r}:`,o),o}catch(o){console.error(`Error al obtener valoraciones del vendedor ${r}:`,o);const i=c(o,"Error al obtener valoraciones del vendedor");throw s(i),new Error(i)}finally{n(!1)}},[]),R=l.useCallback(async(r=1,e=10,a)=>{n(!0),s(null);try{console.log("Obteniendo mis valoraciones recibidas...");const o=await t.getMyReceivedRatings(r,e,a);return console.log("Mis valoraciones recibidas:",o),o}catch(o){console.error("Error al obtener mis valoraciones recibidas:",o);const i=c(o,"Error al obtener mis valoraciones recibidas");throw s(i),new Error(i)}finally{n(!1)}},[]);return{loading:u,error:d,getPendingRatings:g,rateProduct:p,rateSeller:v,reportProblem:E,replyToRating:y,reportRating:b,getProductRatings:w,getSellerRatings:f,getMyReceivedRatings:R}};export{C as u};
//# sourceMappingURL=useRatings-DjQ76P-h.js.map
